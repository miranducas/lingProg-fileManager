Eletrônica IV
Fernando Antônio Pinto Barúqui
Departamento de Eletrônica
Escola Politécnica
Universidade Federal do Rio de JaneiroMaterial não disponível para publicação
2
Índice
Introdução .............................................................................................................................................. 6
Amplificadores de Potência .................................................................................................................. 7
1.1 Amplificador Classe A ............................................................................................................... 7
1.1.1 Eficiência ............................................................................................................................. 8
1.2 Amplificador Classe B ............................................................................................................. 10
1.2.1 Eficiência ........................................................................................................................... 11
1.2.2 Distorção Harmônica ......................................................................................................... 12
1.3 Amplificador Classe AB .......................................................................................................... 13
1.4 Amplificador Classe C ............................................................................................................. 13
1.5 Amplificador Push-Pull ............................................................................................................ 14
1.5.1 Distorção de Crossover ...................................................................................................... 14
1.6 Dissipadores de Calor ............................................................................................................... 15
1.6.1 Resistência Térmica ........................................................................................................... 15
1.6.2 Região de Trabalho do Transistor em Função da Temperatura ......................................... 16
1.6.3 Segundo Breakdown .......................................................................................................... 17
1.7 Circuitos Para Polarização Classe AB ...................................................................................... 17
1.7.1 Polarização Com Diodos ................................................................................................... 17
1.7.2 Multiplicador de VBE ......................................................................................................... 18
1.8 Exemplo de Projeto .................................................................................................................. 20
Amplificador Sintonizado ................................................................................................................... 26
2.1 Circuito RLC de Segunda Ordem ............................................................................................ 26
2.2 Amplificadores com Sintonia Síncrona .................................................................................... 28
2.3 Amplificador de Banda Plana................................................................................................... 30
2.4 Fator de Qualidade ................................................................................................................... 30
2.4.1 Fator de Qualidade dos Indutores ...................................................................................... 30
2.4.2 Fator de Qualidade dos Capacitores .................................................................................. 31
2.5 Indutores Acoplados ................................................................................................................. 32
2.5.1 Modelos Equivalentes Para Indutores Acoplados .............................................................. 32
2.5.2 Autotransformador ............................................................................................................. 33
2.5.3 Múltiplos Indutores Acoplados .......................................................................................... 33
2.5.4 Relação de Impedâncias no Transformador ....................................................................... 34
Amplificadores Classe C ..................................................................................................................... 39
3.1 Eficiência do Amplificador em Classe C ................................................................................. 40
Redes de Casamento de Impedâncias ................................................................................................ 43
4.1 Transformações de Impedâncias .............................................................................................. 43
4.1.1 Transformação Indutor Série-Paralelo Com Resistor ........................................................ 43Material não disponível para publicação
3
4.1.2 Transformação Capacitor Paralelo-Série com Resistor ..................................................... 45
4.2 Rede Com T de Capacitores e Indutor ..................................................................................... 46
4.3 Rede em ?................................................................................................................................. 48
4.4 Rede em ? Modificada ............................................................................................................. 48
4.5 Resumo das Redes de Casamento de Impedâncias .................................................................. 49
4.6 Redes de Casamento com Zeros de Transmissão ..................................................................... 51
4.6.1 Zeros de Transmissão com circuito LC Paralelo ............................................................... 51
4.6.2 Zeros de Transmissão com Circuito LC Série ................................................................... 51
4.7 Exemplos .................................................................................................................................. 52
4.7.1 Casamento de Impedâncias de Uma Antena ...................................................................... 52
4.7.2 Eliminação do 2° Harmônico, com Zero de Transmissão ................................................. 53
4.8 Impedância para Grandes Sinais .............................................................................................. 54
4.9 Parâmetros Y ............................................................................................................................ 56
4.10 Exemplo de Projeto .............................................................................................................. 57
Osciladores Senoidais .......................................................................................................................... 61
5.1 Osciladores LC ......................................................................................................................... 62
5.1.1 Oscilador Colpitts em Base Comum .................................................................................. 62
5.1.2 Oscilador Colpitts em Emissor Comum ............................................................................ 65
5.1.3 Oscilador Hartley em Base Comum .................................................................................. 66
5.1.4 Oscilador Hartley em Emissor Comum ............................................................................. 67
5.1.5 Ajuste da Frequência de Oscilação .................................................................................... 67
5.2 Exemplo de Projeto .................................................................................................................. 68
5.3 Oscilador a Cristal .................................................................................................................... 70
5.3.1 Cristal Oscilador ................................................................................................................ 70
5.3.2 Oscilador Colpitts a Cristal ................................................................................................ 72
5.3.3 Exemplo de Projeto ............................................................................................................ 74
5.3.4 Oscilador Colpitts com Cristal em Ressonância Série ....................................................... 76
5.3.5 Oscilador Pierce com Porta Lógica ................................................................................... 76
Modulação de Amplitude .................................................................................................................... 79
6.1 Modulador AM de Alto Nível .................................................................................................. 81
6.1.1 Considerações de Projeto ................................................................................................... 83
6.2 Modulador AM de Alto Nível com Amplificador Classe C ..................................................... 86
6.3 Modulador Chopper ................................................................................................................. 87
6.3.1 Exemplo de Circuito .......................................................................................................... 88
6.4 Modulação AM por Dispositivo Não Linear ............................................................................ 90
6.4.1 Implementação com JFET ................................................................................................. 91
6.5 Multiplicador Analógico - Célula de Gilbert ........................................................................... 92
Demodulação AM ................................................................................................................................ 97
7.1 Demodulador por Detecção de Pico de Envoltória .................................................................. 97Material não disponível para publicação
4
7.2 Demodulador AM por Detecção de Valor Médio de Envoltória.............................................. 99
7.3 Detector Síncrono ................................................................................................................... 101
Modulação de Frequência e Fase ..................................................................................................... 103
8.1 Modulação de Fase (PM) ....................................................................................................... 103
8.2 Modulação de Frequência (FM) ............................................................................................. 103
8.2.1 Modulador de Armstrong................................................................................................. 106
8.2.2 Modulador com VCO (Voltage-Controlled-Oscillator) ................................................... 107
8.2.3 Modulador de FM com Frequência Estabilizada por Cristal ........................................... 109
8.3 Demodulação de FM .............................................................................................................. 111
8.3.1 Demodulador no Domínio da Frequência ........................................................................ 112
8.3.2 Demodulador com Detector de Quadratura ..................................................................... 113
8.4 Interferência no Sinal de FM .................................................................................................. 116
8.4.1 Circuito de Pré-Ênfase ..................................................................................................... 117
8.4.2 Circuito de De-Ênfase ...................................................................................................... 117
Fontes Chaveadas .............................................................................................................................. 119
9.1 Conversor Boost ..................................................................................................................... 119
9.2 Conversor Buck ...................................................................................................................... 124
9.3 Conversor Buck-Boost ........................................................................................................... 127
9.4 Conversor Flyback ................................................................................................................. 130
9.5 Conversor Forward ................................................................................................................. 135
9.6 Dimensionamento do Núcleo ................................................................................................. 138
9.7 Fonte de Tensão VCC............................................................................................................... 139
Conversores Digital-Analógico e Analógico-Digital ....................................................................... 141
10.1 Conversor Digital-Analógico com Rede R-2R .................................................................. 141
10.2 Circuito Sample-Hold ........................................................................................................ 142
10.3 Conversor Analógico-Digital Com Rampa Digital ............................................................ 143
10.4 Conversor Analógico-Digital Por Aproximações Sucessivas ............................................ 144
10.5 ADC de Rampa Simples .................................................................................................... 145
10.6 ADC de Rampa Dupla ....................................................................................................... 146
10.7 Conversor Flash ................................................................................................................. 147
10.8 Conversor ??..................................................................................................................... 149
10.8.1 Implementação do Conversor ?? a Capacitor Chaveado ................................................ 151
Phase Locked Loop (PLL) ................................................................................................................ 154
11.1 Função de Transferência do PLL ....................................................................................... 155
11.2 Loop-Filter ......................................................................................................................... 155
11.3 Erro em Regime Permanente para um Degrau de Fase ...................................................... 157
11.4 Erro em Regime Permanente para um Degrau de Frequência ........................................... 157
11.5 VCO com Offset ................................................................................................................ 158
11.6 Parâmetros Característicos do PLL .................................................................................... 158Material não disponível para publicação
5
11.6.1 Hold-in Range .................................................................................................................. 158
11.6.2 Lock-in Range ................................................................................................................. 159
11.6.3 Pull-in Range ................................................................................................................... 160
11.7 Aplicações do PLL ............................................................................................................. 160
11.7.1 Demodulação de Frequência ............................................................................................ 160
11.7.2 Modulador de Frequência e Fase ..................................................................................... 162
11.7.3 Modulador FM com Multiplicador de Frequência ........................................................... 164
11.7.4 Sintetizador de Frequências ............................................................................................. 164
11.7.5 Sintetizador de Frequências com Prescaler ...................................................................... 165
11.7.6 Sintetizador de Frequências com Prescaler de Módulo P+Q ........................................... 165
11.8 Detectores de Fase ............................................................................................................. 167
11.8.1 Detector de Fase por Multiplicação Analógica ................................................................ 167
11.8.2 Detector de Fase com Ou-Exclusivo ............................................................................... 168
11.8.3 Detector de Fase Sequencial com Flip-Flop .................................................................... 169Material não disponível para publicação
6
Introdução
Esta apostila abrange a ementa da disciplina Eletrônica IV, ministrada no Departamento de
Eletrônica da Universidade Federal do Rio de Janeiro.
Quando iniciei minhas atividades como professor da cadeira Eletrônica IV, tive muita dificuldade
em selecionar um número reduzido de material bibliográfico, necessário ao acompanhamento do
curso. Isto se deve à grande diversidade dos assuntos abordados.
Tendo acumulado a experiência de alguns anos no exercício desta disciplina, senti-me motivado a
produzir este material, e fornecer aos alunos uma fonte de consulta concisa, mas ao mesmo tempo
detalhada em muitos aspectos, e de fácil aquisição.
Neste texto são abordados aspectos teóricos e práticos para o projeto de amplificadores de potência
para áudio e radio frequência; moduladores e demoduladores de amplitude, fase e frequência; fontes
chaveadas; conversores analógico-digitais; circuitos com PLL.Material não disponível para publicação
7
Capítulo 1
Amplificadores de Potência
Os amplificadores têm como objetivo alterar o nível de um sinal. Por exemplo, consideremos um
amplificador de áudio que recebe um sinal tênue de um microfone, eleva seu nível por um fator A, e
aplica-o a um alto-falante. Além do ganho A, a resistência da carga (alto-falante) é uma componente
que deve ser cuidadosamente considerada no projeto do amplificador.
Muitos parâmetros foram definidos para caracterização dos amplificadores, cujos principais são: o
ganho de tensão (ou corrente) A; a frequência de corte; a potência de saída, o slew-rate; a distorção
harmônica total (THD); a distorção por intermodulação; a eficiência.
Um parâmetro muito importante é a eficiência ?, que relaciona a potência média
PVCC que a fonte de
alimentação dá ao circuito e a potência média PL que o amplificador dá à carga, conforme a equação
1.1.
CC
L
PPV
? ? (1.1)
A eficiência nos mostra quanta potência PA foi desperdiçada no amplificador, normalmente sob
forma de calor, conforme a equação 1.2.
1
1
P P P P A V L L CC
?
? ?
? ? ? ? ? ?
? ?
(1.2)
Portanto, um amplificador com potência de saída de 100W e eficiência de 50%, desperdiça
100
P W A ? sob forma de calor, obrigando a fonte ser capaz de gerar 200W. Quanto maior for a
eficiência melhor será o amplificador, sendo o limite físico ? ?1.
Muitas configurações foram desenvolvidas para implementação dos amplificadores, mais
especificamente para o estágio de saída, das quais estudaremos as principais que são as classes A, B,
AB e C. A definição de cada classe depende do tipo de polarização do estágio de saída, e para cada
uma temos uma característica própria de eficiência.
1.1 Amplificador Classe A
Tomemos como exemplo o circuito da Fig. 1.1, onde v t in ? ? é uma fonte senoidal. A classe de
operação depende da região de trabalho do transistor.Material não disponível para publicação
8
Q1
Vo(t) Vcc
RL
0
Vin(t)
Ic(t)
Vbq
Fig. 1.1: Amplificador de tensão.
Quando o transistor está sempre na região ativa, o amplificador opera em classe A, e a corrente de
coletor comporta-se como na Fig. 1.2.
Fig. 1.2: Operação em classe A.
1.1.1 Eficiência
Sabemos que
V t V I t R V I R I t R o CC C L CC Cq L m L ? ? ? ? ? ? ? ? ? sin?? ?
e podemos considerar que a tensão de saída é, de forma geral, dada por
V t V I t R V v t V V t o CC C L Cq o Cq m ? ? ? ? ? ? ? ? ? ? ? ? sin?? ? (1.3)
A corrente que circula pela fonte de tensão é a mesma do coletor, e pode ser calculada por
VCC ? ? CC o ? ? CC Cq m sin? ?
L L
V V t V V V t
I t
R R
? ? ? ?
? ? (1.4)
e a potência instantânea entregue pela fonte é
V V CC CC CC ? ? ? ? CC CC Cq CC m 2 sin? ?
L
V V V V V t
P t I t V
R
? ? ?
? ? (1.5)
Podemos calcular a potência média
PVCC pelo valor médio da equação 1.5, ou seja:
2 2 ? ?
0
1 sin
CC
T
CC CC Cq CC m CC CC Cq
V
L L
V V V V V t V V V
P dt
T R R
? ? ? ?
? ? ? (1.6)
A potência instantânea entregue à carga RL é dada porMaterial não disponível para publicação
9
L ? ? ? ? CC o ? ? 2 CC CC o o 2 2 2 ? ? ? ?
L L
V V t V V V t V t
P t
R R
? ? ?
? ?
e cujo valor médio é
2 2 ? ? ? ? 2 2 2
0
1 T CC CC o o 2 CC CC Cq Cq m 2 2
L
L L
V V V t V t V V V V V
P dt
T R R
? ? ? ? ?
? ? ? (1.7)
Da equação 1.7 notamos que a parcela de potência relacionada ao sinal de entrada (por exemplo o
som) é V R m L 2 2 e portanto, podemos considerar que efetivamente a potência média útil na carga é
2
2
m
L
L
V
P
R
? (1.8)
Consideremos também que o circuito opera com excursão de saída simétrica e máxima amplitude
de sinal. Desta forma, temos que a tensão máxima de saída é VCC e a mínima é VCEsat , ou seja:
? ?
? ?
max
min
CC o Cq m
CEsat o Cq m
V V t V V
V V t V V
? ? ? ? ?
?
? ? ? ? ?
(1.9)
Pela solução do sistema de equações 1.9, obtemos
2
2
CC CEsat
Cq
CC CEsat
m
V V
V
V V
V
? ?
? ? ?
?
? ?
? ? ?
(1.10)
Substituindo 1.10 em 1.6 e 1.8, obtemos
2
2 2
2
2
8
CC
CC CC CEsat
V
L
CC CC CEsat CEsat
L
L
V V V
P
R
V V V V
P
R
? ?
? ?
? ?
? ? ?
? ? ?
(1.11)
Finalmente, temos para a eficiência máxima teórica do amplificador classe A a expressão
? ?
4
CC CEsat
CC
V V
V
?
?
? (1.12)
Quando VCEsat é suficientemente pequeno para ser desprezado, a equação 1.12 reduz-se a ? ?1 4 .
Isto significa que somente 25% da potência entregue pela fonte é considerada útil. Se fossemos
projetar um amplificador de áudio para 100W de saída, desperdiçaríamos 300W sob forma de calor no
transistor.
Uma forma alternativa de implementação de um amplificador classe A com eficiência superior
pode ser vista na Fig. 1.3. O indutor L1 e o capacitor C1 são suficientemente elevados, para que nas
frequências de trabalho, L1 seja um circuito aberto e C1 um curto-circuito. A tensão DC armazenada no
capacitor é VCC , pois o indutor não oferece resistência à passagem da corrente contínua. Temos então
que a tensão de saída no coletor V t C ? ? está deslocada de VCC em relação a V t o ? ? . Assumindo que
VCEsat seja zero, V t C ? ? pode ser no mínimo zero, obrigando uma excursão de sinal negativa igual a
VCC. Portanto, para excursão de sinal simétrica, devemos ter
v t V t V t o m CC ? ? ? ? sin sin ?? ? ?? ? (1.13)
Com o máximo de tensão na saída, o transistor está cortado e toda corrente que passa pelo indutor é
direcionada para a carga. Sabemos que o indutor, neste caso, funciona como fonte de corrente, e sua
corrente é a própria ICq. Portanto temos queMaterial não disponível para publicação
10
CC
Cq
L
V
I
R
? (1.14)
Utilizando as equações 1.13 e 1.14, podemos calcular as potências médias entregues pela fonte e a
consumida pela carga, ou seja:
2
CC
CC
V CC Cq
L
V
P V I
R
? ? (1.15)
e
2
2
CC
L
L
V
P
R
? (1.16)
A eficiência é obtida das equações 1.15 e 1.16, ou seja:
0.5
CC
L
PPV
? ? ? (1.17)
Este valor é consideravelmente melhor que o anterior, mas a implementação do indutor não é
prática. Este circuito dificilmente é usado para grandes potências de saída.
Q1
0
Vcc
C1
Vbq
RL
L1
Vc(t)
Vin(t)
+ Vcc _
Ic(t)
Vo(t)
Fig. 1.3: Amplificador classe A com indutor.
Um fato interessante que podemos observar é que a tensão no coletor V t C ? ? pode ser mais elevada
que a da fonte. Isto é possível pois o indutor atua como fonte de corrente, e acumula energia.
1.2 Amplificador Classe B
Considere o seguidor de emissor da Fig. 1.4. O transistor não possui polarização DC, estando a
base conectada diretamente à fonte sinal. Somente quando v t in ? ? exceder a tensão de junção VBE,
haverá corrente de coletor e tensão de saída, conforme a Fig. 1.5.
Ic(t)
Vo(t)
Vin(t)
0
Q1
RL
Vcc
Fig. 1.4: Amplificador classe B.Material não disponível para publicação
11
Fig. 1.5: Corrente e tensão na carga do amplificador classe B.
Podemos observar que somente o ciclo positivo do sinal de entrada é aplicado à carga, e também
com desconto de VBE. A queda de VBE pode ser compensada com o circuito da Fig. 1.6.
Q1
RL
Vo(t)
Ic(t)
Vcc
0
Vbe
Vin(t)
Fig. 1.6: Amplificador classe B com compensação para VBE.
1.2.1 Eficiência
Podemos calcular a potência média da fonte e da carga considerando que a corrente de coletor é a
mesma que circula por RL. Desta forma temos que
2 2 ? ?2 2
0
1 sin
4
T
m m
L
L L
V t V
P dt
T R R
?
? ? ? (1.18)
e
2 2 ? ? ? ?
0 0
1 1 sin
CC
T T
CC m CC m
V CC C
L L
V V t V V
P V I t dt dt
T T R R
?
?
? ? ? ? ? (1.19)
De posse das equações 1.18 e 1.19 obtemos a eficiência
4
CC
L m
V CC
P V
P V
?
? ? ? (1.20)
Considerando o caso ideal, onde a tensão de pico na saída pode chegar a VCC, temos para eficiência
máxima teórica do amplificador classe B
78.5%
? 4
? ? ? (1.21)
Entretanto, devemos considerar a possibilidade de V V m CC ? , devido ao VCEsat e a outros fatores.
Ao contrário dos amplificadores classe A, no classe B a potência dissipada pela fonte é dependente
do nível máximo da saída. É interessante observarmos que a potência média dissipada PQ no transistor
é dada pela equação 1.22, e cujo gráfico é o da Fig. 1.7.Material não disponível para publicação
12
2
CC 4
CC m m
Q V L
L L
V V V
P P P
? R R
? ? ? ? (1.22)
Derivando a equação 1.22 em relação a Vm e igualando a zero, concluímos que a potência máxima
dissipada no transistor ocorre para V V m CC ? 2 ? e com valor dado pela equação 1.23. Este valor deve
ser considerado no cálculo dos dissipadores de potência, conforme será mostrado mais à frente.
Observamos que o ponto de maior aquecimento do transistor não coincide com a condição de potência
máxima de saída, conforme mostrado na Fig. 1.7.
2
max 2
CC
Q
L
V
P
? R
? (1.23)
Fig. 1.7: Potência média dissipada no transistor.
1.2.2 Distorção Harmônica
A distorção harmônica total (THD) mede a quantidade relativa de harmônicos produzidos pelo
amplificador. Se aplicarmos um sinal senoidal à entrada do amplificador, a saída será de forma geral
uma onda periódica, que pode ser representada pela série de Fourier, conforme a equação 1.24.
v t V V t V t V n t o ? ? ? ? ? ? ? ? ? ? ? ? ? 0 1 0 1 2 0 2 0 sin sin 2 ... sin ... ? ? ? ? ? ? ? ? n n ? ? (1.24)
A THD é calculada pela equação 1.25.
2
2 1
n
n
V
THD
? ?V
?
?
(1.25)
No caso do amplificador classe B, v t o ? ? pode ser expresso pela série de Fourier como
? ? ? ? ? ? 0 0 0
1
sin cos
o n n
n
v t V A n t B n t ? ?
? ?
? ? ? ? ? ?? ? (1.26)
onde
? ?
? ? ? ?
? ? ? ?
0
0
0
0
0
0
1 2
sin
2
cos
T
o
T
n o
T
n o
V v t dt
T
A v t n t dt
T
B v t n t dt
T
?
?
?
? ?
???
? ?
???
?
? ?
? ? ?
(1.27)
Desconsiderando o nível DC, temos
2 2
2
2 2
1 1
n n
n
A B
THD
A B
? ?
? ? ? ? ?
?
?
?
(1.28)Material não disponível para publicação
13
No amplificador em questão, temos que
? ?
2
0 0
0
1
sin
T
m
m
V
V V t dt
T
?
?
? ? ? (1.29)
? ? ? ?
2
0 0
0
2 2, 1
sin sin
0, 1
T
m
n m
V n
A V t n t dt
T n
? ?
? ?
? ? ?
? ? ? (1.30)
e
? ? ? ?
? ?
2
0 0
0 2
0, para ímpar
2
sin cos 2
, para par
1
T
n m m
n
B V t n t dt V
T n
n
? ?
?
??
? ? ?
??
? ?
? (1.31)
Segundo a equação 1.26 temos
? ? ? ?
v t t n t o ? ? ? V V V ?m m m 2 sin cos 2 ?0 0 ?n??1 ? ? ? ? ? 2 1 2n 2 ? ? ? ? (1.32)
Pela equação 1.28, a THD é
? ? ? ?
2
2
1
2
2 1
43.52%
2
m
n
m
V n
THD
V
?
? ?
? ?
? ?
? ?
? ? ? ? ?
? ?
?
(1.33)
Para sistemas de áudio de alta fidelidade, este valor de THD é muito elevado, tornando este tipo de
amplificador inapropriado.
1.3 Amplificador Classe AB
Conforme vimos, o amplificador classe B deve ser compensado para queda de VBE. Isto é feito
simplesmente colocando uma fonte DC de valor VBE na base do transistor. Entretanto, cada transistor
possui um VBE ligeiramente diferente e que varia com a temperatura. Torna-se difícil fazer esta
compensação com exatidão. Normalmente, aplicamos uma fonte de tensão na base, ligeiramente maior
que VBE, para estabelecer uma pequena corrente de polarização no transistor. Esta corrente não é
suficiente para colocá-lo em classe A, mas garante a compensação de VBE. Este tipo de operação é
chamado classe AB, e será melhor explorado nos amplificadores push-pull.
1.4 Amplificador Classe C
As correntes de coletor nos amplificadores classe A e B conduzem com ângulos de 360? e 180?,
respectivamente. Nos circuitos classe C a condução se dá com ângulos menores que 180?, conforme a
Fig. 1.8. Este tipo de configuração tem sua principal aplicação nos circuito de rádio frequência (RF), e
será melhor estudado mais à frente.
Fig. 1.8: Condução da corrente no amplificador classe C.Material não disponível para publicação
14
1.5 Amplificador Push-Pull
Os amplificadores push-pull são compostos por dois circuitos classe B em oposição de fase.
Enquanto um amplificador conduz no ciclo positivo, o outro o faz no ciclo negativo. Isto ajuda a
reduzir drasticamente a THD.
A configuração mais empregada atualmente é o estágio de saída com par complementar, que utiliza
transistores NPN e PNP, conforme a Fig. 1.9.
RL
-VCC
VCC
Vin(t)
Vo(t)
QP
QN
Fig. 1.9: Estágio de saída em push-pull.
A configuração da Fig. 1.9 emprega duas fontes simétricas. Entretanto, podemos implementar o
circuito com fonte unipolar, ao custo de um capacitor de desacoplamento a mais, conforme a Fig. 1.10.
O capacitor C é calculado, segundo a especificação de frequência de corte inferior fCI, pela equação
1.34, onde ro é uma estimativa da resistência de saída dos transistores. Normalmente, ro é desprezado.
? ?
1
2
CI L o
C
? f R r
?
?
(1.34)
VCC
QP
Vin(t) Vo(t)
RL
C
QN
Vbb
Vcc/2
+ _
Vcc/2
Fig. 1.10: Estágio de saída em push-pull, com fonte unipolar.
1.5.1 Distorção de Crossover
Tomemos como exemplo o circuito da Fig. 1.9. Para uma fonte de sinal v t V t in m ? ? ? sin?? ? , haverá
condução do transistor NPN quando v t V in BE ? ? ? N , e no transistor PNP quando v t V in BEp ? ? ? ? .
Quando o transistor NPN está em condução, o PNP encontra-se cortado, pois a tensão entre base e
emissor é maior que
? VBEP . O Mesmo ocorre com o transistor NPN quando o PNP está em condução,
pois a tensão entre base e emissor é menor que
VBEN . Portanto, os dois transistores trabalhando em
conjunto permitem ao circuito operar nos ciclos positivo e negativo do sinal, conforme a Fig. 1.11a.
Podemos observar um desnível no sinal de saída, tanto no ciclo positivo quanto no negativo, que
corresponde a
VBEN e VBEP . Isto é chamado de crossover e provoca distorção harmônica.
O crossover pode ser eliminado com o uso de fortes realimentações negativas ou através de pré-
polarização do estágio de saída, levando o amplificador a operar em classe AB. Com este
procedimento obtemos baixíssima THD, conforme a Fig. 1.11b.Material não disponível para publicação
15
(a) (b)
Fig. 1.11: Sinal de saída do estágio push-pull: a) com crossover; b) sem crossover.
O circuito da Fig. 1.12 representa a forma esquemática para compensação do crossover.
VCC
-VCC
RL
Vben
QN
Vo(t)
Vin(t) | Vbep|
QP
Fig. 1.12: Compensação do crossover.
1.6 Dissipadores de Calor
Os amplificadores de potência, como todos os dispositivos eletrônicos, por exemplo, os
microprocessadores, dissipam energia sob forma de calor. Esta energia deve ser retirada do
encapsulamento dos componentes que estão aquecendo, para evitar danos às junções semicondutoras.
Em geral, uma junção semicondutora suporta temperaturas na faixa de 150°C. Os componentes
eletrônicos para aplicações em potência possuem uma área destinada à dissipação térmica, onde se
acopla um dissipador de calor.
1.6.1 Resistência Térmica
O dimensionamento dos dissipadores torna-se muito simples, se considerarmos o sistema em
equilíbrio térmico e as fontes de potência constantes. O mecanismo de transferência de calor pode ser
simplificado como na Fig. 1.13. A fonte de calor corresponde à fonte de potência, por exemplo uma
junção PN, e o material é um obstáculo que separa dois meios, por exemplo a carcaça do transistor.
Em equilíbrio térmico, a equação que relaciona a diferença de temperatura (T T 1 2 ? ) e a potência
transferida pelo material é
?T T R P 1 2 ? ? ? ? (1.35)
onde R
? é a resistência térmica do material em ? C W . A resistência térmica depende de vários fatores
como, por exemplo: a composição do material; a cor (o preto dissipa mais calor); à área ( R? é
inversamente proporcional a área); o meio refrigerante (ar, água, etc).
Umas das especificações dos dispositivos de potência são as resistências térmicas da junção (ou
núcleo) para a carcaça R? JC e da carcaça para o ar R?CA . Um dispositivo isolado, sem dissipador de
calor, apresenta uma resistência térmica da junção (ou núcleo) para o ar R? JA dada porMaterial não disponível para publicação
16
R? ? ? JA JC CA ? R R ? (1.36)
Fig. 1.13: Mecanismo de transferência de calor.
Quando temos uma sequência de materiais acoplados mecanicamente, conforme a Fig. 1.14, a
diferença de temperatura nas interfaces é calculada simplesmente por
0
1
N
N n
n
T T P R
?
?
? ? ? (1.37)
onde
R? n é a resistência térmica de cada corpo.
Fig. 1.14: Transferência de calor por múltiplos obstáculos.
1.6.2 Região de Trabalho do Transistor em Função da Temperatura
Os dispositivos semicondutores suportam uma temperatura limite na junção, que limita a potência
máxima dissipada. Considerando que o transistor suporta uma corrente de coletor máxima ICmax e uma
temperatura de junção TJmax, temos que a potência dissipada no transistor PQmax deve respeitar às
inequações 1.38, onde TA é a temperatura do ar e R? ? ? JA JC CA ? R R ? .
? ?
max
max
Q C CC
J A
Q
JA
P I V
T T
P
R
?
? ?
?
? ?
? ?
?
(1.38)
Das inequações 1.38, concluímos que o transistor deve operar dentro da região hachurada do
gráfico da Fig. 1.15a. Entretanto, quando acoplamos um dissipador de calor ao transistor, o termo
R?CA é substituído por ?R R ? ? CD DA ? ? , que é a soma das resistências térmicas da carcaça para o
dissipador e do dissipador para o ar. Mas R?CD é muito menor que R? DA , de forma que podemos
considerar a nova resistência térmica total como sendo
R? ? ? ?JA JC DA ? R R ? , e é muito menor que R? JA .
A curva de operação segura torna-se a da Fig. 1.15b, onde podemos observar que, para mesma
temperatura, o transistor pode dissipar mais potência.Material não disponível para publicação
17
(a) (b)
Fig. 1.15: Curva de operação segura do transistor: a) ao ar livre; b) com dissipador.
1.6.3 Segundo Breakdown
Imagens de infravermelho obtidas de transistores de potência em operação mostram que a
distribuição de calor na junção não é uniforme, criando pontos quentes. O aparecimento destes pontos
está relacionado com a intensidade de corrente. Os pontos quentes destroem a junção aos poucos,
reduzindo a vida útil do transistor. Este efeito é conhecido como segundo breakdown (o primeiro
breakdown é devido à tensão de ruptura da junção). Normalmente, os fabricantes de transistores
fornecem uma família de curvas, para cada valor de temperatura na junção, relacionando a corrente
máxima de coletor e a tensão VCE, como exemplo a Fig. 1.16.
Fig. 1.16: Curva de operação segura, com segundo breakdown.
1.7 Circuitos Para Polarização Classe AB
A compensação de crossover mostrada na Fig. 1.12 não é prática, pois implica no uso de duas
fontes de tensão além da alimentação. Estas tensões devem ser geradas através de elementos passivos.
1.7.1 Polarização Com Diodos
O circuito da Fig. 1.17 mostra um estágio de saída push-pull em classe AB, polarizado com diodos.
A fonte de corrente IB força uma queda de tensão em cada diodo, que é aproximadamente igual a VBE.
Desta forma as junções base-emissor dos transistores encontram-se pré-polarizadas. Sabemos que a
tensão da junção semicondutora varia com a temperatura, tipicamente ?2mV C ? , e a compensação
deve acompanhar esta variação, para ser efetiva. Caso contrário, com o aquecimento, os transistores
reduziriam seus VBEs e ficariam excessivamente polarizados, a corrente em excesso nos coletores
aumentaria a temperatura, e forçaria uma redução ainda maior dos VBEs. Este processo, que é
conhecido como colapso térmico, continuaria até a destruição do transistor.
Para realizarmos uma compensação dinâmica, basta colocarmos os diodos em contato com os
dissipadores de calor pois desta forma, a temperatura será aproximadamente a mesma dos transistores.
Com isto, as tensões nas junções dos diodos variam junto com os VBEs, e as correntes de coletor
permanecem estáveis.Material não disponível para publicação
18
QP
QN
Rb
D1
C1
D2
Ib
-VCC
C1
RL
VCC
Vin(t)
Vo(t)
Fig. 1.17: Polarização classe AB com diodos.
1.7.2 Multiplicador de VBE
A compensação com diodos é muito empregada, mas possui o inconveniente de não ser possível
ajustar a tensão entre as bases. Isto somado ao fato das junções dos diodos não serem exatamente
iguais às dos transistores, torna este circuito inapropriado para algumas aplicações, principalmente às
de elevada potência.
O circuito da Fig. 1.18, conhecido com multiplicador de VBE, permite ajustar uma tensão Vo
proporcional ao VBE de um transistor. Se acoplarmos o transistor Q ao dissipador do estágio de saída,
temos uma polarização compensada para variação de temperatura, e com ajuste de tensão.
R2
Vo
+
R1
Ix
_
Q
Fig. 1.18: Multiplicador de VBE.
Para analisarmos o circuito, consideremos a Fig. 1.19.Material não disponível para publicação
19
1
Vo
_
Ix 2
Ib
R1
Ic
Q
R2
Vbe
+
+ _
Fig. 1.19: Circuito para análise do multiplicador de VBE.
Extraindo as equações nodais, temos o sistema 1.39.
2
2 1
0
o BE
C x
BE o BE
B
C B
V V
I I
R
V V V
I
R R
I I ?
? ?
? ? ?
? ?
? ?
? ? ? ?
?
? ? ?
(1.39)
Do sistema de equações 1.39 obtemos
2 2
1
1
o BE x 1 1
R R
V V I
R
?
? ?
? ?
? ? ? ? ?
? ? ? ?
(1.40)
Considerando ? muito grande, de forma que ? ? ? ?1 1 ? ? , temos que
2 2
1
1
o BE x 1
R R
V V I
R ?
? ?
? ? ? ? ?
? ? ?
(1.41)
Da equação 1.41, se considerarmos que
2 2
1
1
BE x 1
R R
V I
R ?
? ?
? ? ?
? ? ?
?
temos que
2
2
1
1
1
BE
x
R
R V
R I
? ? ? ?
? ? ?
? ?
? (1.42)
Temos finalmente que
2 1
1
o BE
R
V V
R
? ?
? ? ? ?
? ?
(1.43)
Aplicando a equação 1.43 em 1.42, obtemos como forma alternativa para estabelecer o valor
máximo dos resistores a expressão
1
1
1 1
x
BE o
R
I
V V
? ?
? ?
? ? ?
? ?
? (1.44)Material não disponível para publicação
20
Devemos ter em mente também que o transistor tem que estar em condições de ser polarizado, isto
limita o menor valor de R1, ou seja,
R1I V x ? BE (1.45)
Na Fig. 1.20 temos um estágio de saída em push- pull, polarizado em classe AB, com multiplicador
de VBE. Este circuito é muito prático, pois permite gerar qualquer diferença de potencial proporcional a
um VBE. Se acoplarmos termicamente o transistor Q1 ao dissipador de calor, temos que VBE de Q1 varia
junto com os VBE dos transistores de potência, permitindo um ajuste dinâmico da polarização. Outro
fator a ser considerado, é o melhor casamento entre as características da junção base-emissor de Q1
com as dos transistores de potência.
-VCC
R2
Vin(t)
C1
Vo(t)
Rb
R1
QN
C1
Q1
QP
Ib
VCC
RL
Fig. 1.20: Polarização em classe AB com multiplicador de VBE.
1.8 Exemplo de Projeto
Como exemplo, consideremos um amplificador de potência para áudio, na configuração push-pull,
com as especificações abaixo:
1. Carga de 8? (alto-falante).
2. Potência de 4W na saída.
3. Eficiência melhor que 50%.
4. Frequência de corte inferior menor que 50Hz.
Dados dos transistores:
1.
?min ?150 para Q3, Q4, Q5 e Q6.
2.
?min ?15 para Q1, e Q2.
3. 0.7
V V BE ? para Q3, Q4, Q5 e Q6.
4. 0.7
V V BE ? para Q1, e Q2, para IC na faixa dos mA, e V V BE ?1 para IC próximo a 1A.
5. 90
V mV CEsat ? para todos os transistores.
6. 4.17
R? JC ? ?C W
7.
T C J max ?150?
O circuito empregado é o da Fig. 1.21, onde temos os transistores de saída na configuração
Darlington, para aumentar o ganho de corrente, e um multiplicador de VBE para a polarização em
classe AB. O transistor Q5 funciona como fonte de corrente controlada por tensão, gerando sinal eMaterial não disponível para publicação
21
polarização para o estágio de saída. Os resistores R1 e R2 têm a função de controlar qualquer
descasamento do circuito de polarização classe AB, atuando como uma degeneração de emissor. Caso
haja um pequeno aumento nas correntes de polarização de emissor dos transistores de saída, devido ao
aumento da temperatura, as quedas de potenciais em R1 e R2 aumentam e consequentemente reduzem
as tensões entre base e emissor, forçando a corrente de polarização diminuir. Este é um processo de
realimentação negativa que, em conjunto com o multiplicador de VBE, garante a estabilidade térmica
do amplificador. Os valores de R1 e R2 são empíricos e normalmente escolhidos bem pequenos, por
exemplo, R R 1 2 ? ? ? 0.5 .
0
Q1
TIP30C
RL
Vin(t)
R5
Q6
BC558C
0
P2
R2
R3
Q5
BC548C
P1
C1 -Vcc
0
Q3
BC548C
+Vcc
R1
R6
C2
Q4
BC548C
0
Vo(t)
Q2
TIP29C
0
R4
Fig. 1.21: Amplificador de potência push-pull.
O dimensionamento do amplificador segue os passos abaixo.
Passo 1: Cálculo da tensão e corrente máxima na carga.
2 2
max max
max max 4 8
2 2 8
o o
L o
L
V V
P W V V
R
? ? ? ? ?
?
max
max max
8
1
8
o
L L
L
V
I I A
R
? ? ? ?
Passo 2: Eficiência máxima.
8
0.5 12.56
4 4
om
CC
CC CC
V
V V
V V
? ?
?
?
? ? ? ? ? (1.46)
Passo 3: Ciclo positivo.
Vamos considerar que no pico de sinal positivo na saída, o transistor Q5 está no limite entre o corte
e a condução, de forma que temos o circuito abaixo.Material não disponível para publicação
22
+ _
VR4
Vomax=8V 0
+Vcc
Ib2 +
_
VR1
Ib3
1A
Q3
BC548C
Q2
TIP29C
0
R1
R4
RL
Temos pela equação de malha que
V R I V V V CC B BE BE R ? ? ? ? ? 4 3 3 2 1 8
? ?? ?
max
4 3 2 max 1
3 2
8
1 1
L
CC BE BE L
I
V R V V I R
? ?
? ? ? ? ?
? ?
? ?? ?
3 3
4 4
1
0.7 1 0.5 8 2.416 10 24.64 10
V R R V CC ? ? ? ? ? ? ? ? ? ? 150 1 15 1 ? ? CC (1.47)
Mas sabemos que R4 deve ser positivo, e aplicando esta condição à equação 1.47 temos
2.416 10 24.64 10 0 10.2 3 3
? ? ? ? ? ? V V V CC CC (1.48)
Escolhemos VCC de forma a atender às inequações 1.46 e 1.48, por exemplo V V CC ?12 , e com a
equação 1.47 calculamos o valor comercial de R4 ou seja,
3 3
R4 4 ? ? ? ? ? ? ? ? ? ? 2.416 10 12 24.64 10 4.35 3.9 k R k
Passo 4: Ciclo negativo.
Vamos considerar o pico de sinal negativo na carga, ou seja, V V o min ? ?8 . Neste momento, a tensão
no coletor de Q5 atinge o menor nível, e assumiremos que o transistor está saturado neste instante. Para
a análise temos o circuito abaixo.
+ _
VR3
Vomin=-8V
1A
R2 RL
-Vcc
R3
0
0
C2
Q1
Q6 TIP30C
BC558C
+ _
VCEsat
0
Q5
BC548C
+ _
VR2
Vin(t)max
Pela equação de malha temosMaterial não disponível para publicação
23
? ? ? ? ? ? ? ? V V V V V V V o R BE BE CEsat R CC min 2 1 6 3 0
8 0.5 1 0.7 0.09 12 0 1.71 ? ? ? ? ? ? ? ? ? V V V R R 3 3
Descobrimos o valor de VR3, e sabemos que R3 está “bypassado” por C2. Isto significa que a tensão
VR3 é uma constante.
Passo 5: Corrente de polarização de Q5.
Quando o amplificador está em repouso (sem sinal de entrada), a tensão na carga é zero e os
transistores de saída estão polarizados com uma corrente de coletor muito baixa. Desta forma temos
VR1 e VR2 desprezíveis e V V V V V BE BE BE BE 2 3 1 6 ? ? ? ? 0.7 . Portanto, a tensão na base de Q3 é
V V B3 ?1.4 . A corrente de polarização ICQ5 do transistor Q5 passa quase totalmente por R4, de forma
que V R I R4 4 5 ? CQ . Podemos então calcular a corrente ICQ5 e o valor comercial de R3, ou seja,
V V V R CC 4 ? ? ? ? ? 1.4 12 1.4 10.6
V R I I I mA R CQ CQ CQ 4 4 5 5 5 ? ? ? ? ? ? 10.6 3900 2.72
3
5
5 5
5
2.72 10
18.1
150
CQ
B B
I
I I A ?
?
?
?
? ? ? ?
3
V R I R R R R CQ 3 3 5 3 3 3 ? ? ? ? ? ? ? ? ? ? ? 1.71 2.72 10 628.7 560 ?
Neste momento, a tensão VR3 deve ser recalculada por causa da aproximação feita para R3.
3
V R I V V R Cq R 3 3 5 3 ? ? ? ? ? ? 560 2.72 10 1.52 ?
Passo 6: Cálculo de R6 e P1.
Vamos considerar a corrente que circula por R6 e P1 pelo menos vinte vezes maior que a da base de
Q5, e desta forma podemos desprezar IB5. Isolando a malha de polarização de Q5 temos o circuito
abaixo.
0
R3
IR6
0
0
-Vcc
R6
P1 C2
Q5
BC548C
Da equação de malha obtemos
6 6 6 1
6 1 3
6 5
0
0.7 2.22
20
R R CC
R R
R B
I R I P V
I P V V
I I
? ? ? ?
?
? ? ? ?
?
? ?
(1.49)
Solucionando o sistema de duas equações e uma inequação 1.49 temosMaterial não disponível para publicação
24
6 6
1 6 1
27.01 27
0.23 6.13
R k R k
P R P k
? ? ? ? ? ? ?
?
? ? ? ? ? ?
Passo 7: Cálculo dos capacitores.
Para o cálculo de C2, consideraremos que C1 seja um bypassing. A impedância vista por C2 é
3
2 3 5
5 3
// 9.04
in e 1 40
CQ
R
R R r
I R
? ? ? ?
?
O capacitor é calculado segundo a frequência de corte inferior.
2 2
2
1
352 390
2
CI in
C F C F
f R
? ?
?
? ? ? ?
Para o cálculo de C1, consideraremos que C2 seja um bypassing. A impedância vista por C1 é
1 6 1
5
6 1 5
1
/ / / / 1.09
Rin ie R P h k 1 1 40ICQ
R P ?
? ? ? ?
? ?
Pela frequência de corte inferior temos que
1
1
1
2.9
2
CI in
C F
f R
?
?
? ?
Escolhemos o menor capacitor, no caso C1, e multiplicamos por dez.
6
C F C F 1 1 ? ? ? ? ? ? 10 2.9 10 29 27 ? ? ?
Passo 8: Dimensionamento do multiplicador de VBE.
Sabemos que na polarização, o multiplicador de VBE deve gerar uma diferença de potencial de
4 0.7 ? V . Das equações 1.43, 1.44 e 1.45 temos
R I V R 5 5 5 CQ ? ? ? ? 0.7 257
4
5 5
5
1
51.8
1 1
CQ
BE o
R R k
I
V V
? ?
? ?
? ?
? ? ?
? ?
? ?
257 51.8 3.9 ? ? ? ? ? ? R5 5 ? k R k
2 2
3 2
5
1 4 0.7 1 0.7 11.7
o BE 3.9 10
P P
V V P k
R
? ? ? ?
? ? ? ? ? ? ? ? ? ? ? ? ? ?
? ? ? ? ?
Passo 9: Cálculo do ganho de tensão.
Para o cálculo do ganho de tensão, vamos considerar o estágio de saída como sendo um
amplificador de ganho unitário, mas com impedância de entrada dependente da carga. O multiplicador
de VBE atua como fonte de tensão, e não aparece no modelo AC. Com as considerações acima, temos o
circuito abaixo para a análise. Temos então que
Rref L ? ? ? ? ? ? ? ? ? ? ? ?? ? ? ? 3,6 1,2 1 1 150 1 15 1 0.5 8 20.54 ? ? R R k ? ?? ?? ?
v ref CQ ref v o ? ? 4 5 4 // 40 // 336 L L ? ?
in L L
V R R
A gm R R I R R A
V R R R R
? ? ? ? ? ? ? ? ?
? ?Material não disponível para publicação
25
Vin
0
1
P1 hie gmVin
R=(R1 ou R2)
Vo
R4
RL
R6 Rref
Passo 10: Ganho de potência.
O ganho de potência Ap é dado por
L
p
in
P
A
P
? (1.50)
Sabemos que
in ? ?2
in
in
v t
P
R
?
e
o ? ?2
L
L
v t
P
R
?
mas
v t A v t o v in ? ?2 2 ? 2 ? ?
Substituindo as equações acima, finalmente temos
in 2
p v
L
R
A A
R
? (1.51)
No circuito, o ganho de potência é
3 3
3
6 1 2 2 6
150 1
27 10 // 6.21 10 //
// // 40 2.72 10
336 15.4 10
8
ie
p v p
L
R P h
A A A
R
?
? ? ?
? ? ? ?
? ? ? ?
? ? ? ? ? ?
O valor extremamente elevado de A
p é comum para os amplificadores de potência. Caso o estágio
de entrada fosse implementado com MOSFET, o ganho de potência seria virtualmente infinito.
Passo 11: Dissipador de calor.
A potência máxima dissipada em cada transistor é dada pela equação 1.23, e vale
2 2
max 2 2
12
1.82
8
CC
Q
L
V
P W
? ? R
? ? ?
?
Dada a temperatura máxima da junção T C J max ?150? , e considerando a temperatura do ar nas
proximidades do dissipador igual a 50ºC, para existir o equilíbrio térmico devemos ter
? ? R? ? JC DA Q J A ? ? ? R P T T max max ? ?
? ? ? ? 4.17 1.82 150 50 50.8 ? ? ? ? ? R? ? DA DA R C W ?
Cada transistor deve ser acoplado a um dissipador de calor com resistência térmica igual a
50.8 ?C W .Material não disponível para publicação
26
Capítulo 2
Amplificador Sintonizado
Os amplificadores sintonizados são empregados quando desejamos separar e amplificar uma faixa
de frequências de um sinal. Suponha que o gráfico da Fig. 2.1 seja uma faixa de transmissão de rádio,
e desejamos separar (sintonizar) e amplificar o canal centrado na frequência ?0 . Devemos usar um
amplificador com função de transferência A j ? ?? passa-banda.
Fig. 2.1: Espectro de rádio frequência.
A seletividade Q do amplificador é definida como sendo a razão entre a frequência de sintonia ?0
e a faixa onde o ganho cai 3dB (faixa de passagem), ou meia potência, conforme a equação 2.1 e a Fig.
2.2.
0
2 1
Q ?
? ?
?
?
(2.1)
Fig. 2.2: Curva de resposta em frequência do amplificador sintonizado.
2.1 Circuito RLC de Segunda Ordem
Normalmente utilizam-se circuitos RLC de segunda ordem, como o da Fig. 2.3, para a realização
do filtro. É fácil verificar que a função de transferência do ganho de tensão é dada porMaterial não disponível para publicação
27
? ?
2 1
o
in
V gm s
A s
V C s
s
RC LC
? ? ?
? ?
(2.2)
Substituindo s por j? na equação 2.2, temos
? ?
2 1
gm j
A j
C j
RC LC
?
?
?
?
? ?
? ? ?
(2.3)
Calculando o módulo ao quadrado de A j ? ?? , temos
? ? ? ? ? ?
? ?
2 2
2 *
2 2 2
2
2
1
gm
A j A j A j
C
RC LC
?
? ? ?
?
?
? ?
? ?
? ? ? ?
? ?
(2.4)
Verificamos que A j ? ? ? 2 é máximo quando ?? 2 ?1 0 LC? ? , ou seja, a frequência de sintonia
corresponde à ressonância do circuito RLC, e é dada por
0
1
LC
? ? (2.5)
O ganho na frequência de sintonia é calculado fazendo ? ?1 LC na equação 2.4, ou seja,
A gmR ??0 ? ? (2.6)
L R
VCC
Vo
C
Vbeq
Vin
Vo
R
Vin hie gmVin L C
(a) (b)
Fig. 2.3: Circuito RLC de segunda ordem: a) circuito com transistor; b) modelo AC.
Os pontos de queda de 3dB, são calculados resolvendo a equação A j A j ? ? ? ? ? ? ? 0 2 ou, de
forma melhor,
? ? ? ?
? ?
2
2 2 2 2
2 0
2 2 2
2
2
2 2 1
A j gm gm R
A j
C
RC LC
? ?
?
?
?
? ? ?
? ?
? ? ? ?
? ?
(2.7)
Desenvolvendo a equação 2.7, temosMaterial não disponível para publicação
28
2 2 2
2 2 4 2
2
2
C R 1 0 C R R
LC L
? ?
? ?
? ? ? ? ? ?
? ?
(2.8)
A solução da equação 2.8 para ? 2 é
2 2 2 2
2
2 2
2 4
1 1
2
C R C R
LC LC
C R
?
? ? ?
? (2.9)
Tomando como referência o gráfico da Fig. 2.2, é fácil concluir que
2 2 2 2
1 2 2 2 2
2 2 2 2
2 2 2 2 2
2 4
1 1
2 2
2 4
1 1
2 2
C R C R
LC LC
C R C R
C R C R
LC LC
C R C R
?
?
? ? ?? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ?
? ? ? ? ? ?
??
? ? ? ?
? ? ? ? ? ? ?
? ? ? ? ? ? ?
? ? ? ? ?
? ? ? ? ?
? ? ? ? ? ?
(2.10)
Para encontrarmos
?2 1 ?? , consideremos o sistema de equações 2.11.
x a b
y a b
?? ? ?
?
? ? ? ?
(2.11)
Por manipulação algébrica temos que
? ? y x a a b y x a a b ? 2 ? ? ? ? ? ? ? ? 2 2 2 2 2 2 2 2 (2.12)
Comparando o sistema de equações 2.11 com 2.10, termo a termo, e através da equação 2.12,
temos finalmente que
2 1
1RC
? ? ? ? (2.13)
Pela equação 2.1, temos que a seletividade do circuito é
Q RC ? ?0 (2.14)
Considerando a equação 2.5, temos que a seletividade também pode ser expressa por
R 0
Q
? L
? (2.15)
Substituindo as equações 2.14 e 2.5 em 2.2, temos
? ?
2 2 0
0
o
in
V gm s
A s
V C
s s
? Q
?
? ? ?
? ?
(2.16)
2.2 Amplificadores com Sintonia Síncrona
Filtros sintonizados de segunda ordem com sintonia muito elevada são difíceis de realizar, devido
às imperfeições dos componentes, tipicamente as resistências parasitas dos capacitores e indutores.
Normalmente, seletividades elevadas são obtidas pela associação em cascata de amplificadores
sintonizados com seletividades idênticas, conforme a Fig. 2.4.Material não disponível para publicação
29
Fig. 2.4: Cascata de amplificadores sintonizados.
As funções de transferência A s k ? ? diferem entre si somente por um fator de ganho, ou seja,
? ?
2 2 0
0
k
k
a s
A s
s s
? Q
?
?
? ?
(2.17)
Definindo
? ?
2 2 0
0
s
T s
s s
? Q
?
?
? ?
(2.18)
temos
A s a T s k k ? ? ? ? ? (2.19)
Da equação 2.19, concluímos que função de transferência do filtro da Fig. 2.4 é dada por
? ?
? ? ? ? ? ? 1
N
o N
k
in k
V s
H s T s a
V s
?
? ? ? (2.20)
Analisando T s ? ?N separadamente, e substituindo s por j?, temos que
? ?
? ?
2
2
2
2
2 2 2 0
0 2
N
N
T j N
Q
?
?
?
? ? ?
?
? ?
? ? ? ?
? ?
(2.21)
Aplicando a transformação de variável ? ? ? ? ? ? ? ? ? ? ? ? 0 0 0 ?1 ? à equação 2.21, temos
? ? ? ? ? ?
? ? ? ? ? ?
2 2
2
0 0
0
2
2
2 2 2 2 2 0
0 0 0 0 0 2
1
1 1
N N
N
T j N
Q
? ? ?
? ?
?
? ? ? ? ? ? ?
? ?
? ? ?
? ?
? ? ? ? ? ? ? ?
? ?
(2.22)
Considerando que a seletividade final do circuito é muito maior que 1, temos que a frequência de
queda de 3dB está muito próxima de ?0, e lembrando que, para x ?1 , vale a aproximação
? ? ? ? 1 1 2 ? ? ? x 2 x , temos que ? ? 1 1 2 ? ? ? ? ? ? ? ? ? 0 0 2 ? ? , e a equação 2.22 torna-se
? ? ? ? ? ?
? ? ? ?
2
2
0 0
0
2
2 0 2
0 0 0 2
1 2
2 1 2
N N
N
T j N
Q
? ? ?
? ?
?
? ? ? ? ?
? ?
? ? ?
? ?
? ? ? ? ? ?
? ?
(2.23)
Como estamos considerando variações de frequências em torno da faixa de passagem, é razoável
assumir que 2?? ?0 é da mesma ordem de grandeza que 1 Q , e como 1 1 Q ? , a equação 2.23 pode
ser aproximada por
? ? ? ?
? ?
2
2
0
0
2
2 0 2
2 0 0 2
N
N
T j N
Q
?
? ?
?
? ? ?
? ? ?
? ?
? ? ? ?
? ?
(2.24)
Para determinarmos a seletividade
Qef de T s ? ?N , basta calcularmos ?? de forma queMaterial não disponível para publicação
30
? ? ? ?
? ?
2 02 ? ? 0 2 2
0 2
2
2 0 2 0
0 0 2
2 2
2
N
N N
N
N N
T j Q
T j
Q
? ?
? ?
?
?
? ? ?
? ? ? ? ?
? ?
? ? ? ?
? ?
(2.25)
e fazermos Qef ? ? ?0 ? ? 2 ? . Da equação 2.25 obtemos
1
0 2 1
2
N
Q
?
?
?
? ? (2.26)
Finalmente, a seletividade do amplificador em cascata é
ef 2 1 1 N
Q
Q ?
?
(2.27)
2.3 Amplificador de Banda Plana
Em algumas aplicações, é necessário que a faixa de passagem do amplificador sintonizado seja
quase plana. Uma aplicação típica é a sintonia de canais de televisão, cuja faixa de frequências é
aproximadamente 4MHz. Um filtro sintonizado de segunda ordem ou com sintonia síncrona, provoca
um desnível progressivo de 3dB entre os extremos da faixa e a frequência central. Isto gera uma
distorção inaceitável para sinais de vídeo.
Uma forma simples, mas eficiente, de projetar filtros com banda quase plana consiste em uma
cascata de amplificadores sintonizados, mas com frequências de ressonância ligeiramente diferentes.
A Fig. 2.5 ilustra o procedimento. No exemplo, três amplificadores sintonizados A j 1? ?? , A j 2 ? ?? e
A j 3 ? ? ? , com frequências de ressonância ?1 , ?2 e ?3 respectivamente, compõem o filtro A j ? ? ? .
Fig. 2.5: Filtro de banda plana.
2.4 Fator de Qualidade
O fator de qualidade Q mede o quão próximo o componente está do ideal. Este parâmetro
normalmente é usado para caracterizar indutores e capacitores, e em geral depende da frequência.
2.4.1 Fator de Qualidade dos Indutores
Um indutor ideal deve possuir impedância puramente reativa j L ? . Entretanto, fatores como
resistência do fio, efeito pelicular, irradiação eletromagnética e capacitância parasita, alteram o valor
medido da reatância e acrescentam uma componente resistiva. De forma geral, ao estabelecermos a
relação entre os fasores de tensão e corrente no indutor em uma frequência ?, estamos medindo umaMaterial não disponível para publicação
31
impedância em função de ?? Esta impedância pode ser representada pela associação série ou paralelo
do indutor com resistor.
2.4.1.1 Indutor em Série com Resistor
A impedância de um indutor em série com resistor, circuito da Fig. 2.6, é Z ? ? ? ? ? ? j L R s s . Se
definirmos o fator de qualidade como sendo a relação entre a componente ideal e a indesejável, temos
s
s
L
L s
Q
? R
? (2.28)
Ls Rs
Fig. 2.6: Indutor em série com resistor.
2.4.1.2 Indutor Paralelo com Resistor
Calculando a admitância do circuito da Fig. 2.7, temos Y j L R ?? ? ? ? ? 1 1 p p . A componente ideal
é 1
j L ? p , e da mesma forma que no item anterior, podemos definir o fator de qualidade como sendo a
razão entre a componente ideal e a indesejável. Temos então que
p
p
p
R
Q
?L
? (2.29)
Rp
Lp
Fig. 2.7: Indutor em paralelo com resistor.
2.4.2 Fator de Qualidade dos Capacitores
Da mesma forma que nos indutores, quando medimos um capacitor, relacionamos os fasores de
corrente e tensão, que nos fornece uma admitância em função da frequência. As principais
imperfeições dos capacitores são: a resistência finita do dielétrico, particularmente em frequências
elevadas; a resistência dos terminais; as indutâncias parasitas dos terminais e do dielétrico.
2.4.2.1 Capacitor em Paralelo com Resistor
Calculando a admitância do circuito da Fig. 2.8, temos Y j C R ?? ? ? ? ? p p 1 . A componente ideal
é
j C ? p , e consequentemente,
Q R C p p p ? ? (2.30)
Rp
Cp
Fig. 2.8: Capacitor em paralelo com resistor.
2.4.2.2 Capacitor em Série com Resistor
A impedância do circuito da Fig. 2.9 é Z ?? ? ? ?1 j C R s ? s , e a componente ideal é 1 j C ? s .
Seguindo o mesmo procedimento dos itens anteriores, temos para o fator de qualidadeMaterial não disponível para publicação
32
1
s
s s
Q
?R C
? (2.31)
Cs Rs
Fig. 2.9: Capacitor em série com resistor.
2.5 Indutores Acoplados
Os indutores acoplados são dois ou mais indutores que compartilham parte ou todo fluxo
magnético gerado pelo sistema. Como exemplo, considere o sistema de dois indutores da Fig. 2.10. As
correntes e tensões se relacionam segundo o sistema de equações 2.32, onde M é a indutância mútua.
Podemos considerar o efeito do acoplamento, lembrando que M ? k L L 1 2 , onde k é o fator de
acoplamento. Desta forma, o sistema 2.32 pode ser melhor representado por 2.33.
1 1 1
2 2 2
V L M I
V M L I
? ? ? ? ? ?
? ? ? ? ? ? ?
? ? ? ? ? ?
? ?
(2.32)
1 1 1 2 1
2 1 2 2 2
V L k L L I
V k L L L I
? ? ? ? ? ?
? ? ? ? ? ? ?
? ? ? ? ? ? ? ?
? ?
(2.33)
+ _
V1
L2
I2
L1
I1
M
+ _
V2
Fig. 2.10: Dois indutores acoplados.
O valor de k varia entre zero e um. Para indutores com acoplamento fraco, temos k muito próximo
de zero, enquanto k tende para um quando o acoplamento é forte.
2.5.1 Modelos Equivalentes Para Indutores Acoplados
O sistema de equações 2.33 pode ser inapropriado para a análise de alguns circuitos, devido à
complexidade dos cálculos. Podemos representar o circuito da Fig. 2.10 por um modelo equivalente,
composto por indutores desacoplados e transformador ideal. Os circuitos a seguir são formas
equivalentes de representação.
a)
+ _
V2
1:1
+ .
_
V1 La I2
Lb
I1
Lc
.
L L L M L M a ? ? ? ? 1 2 2 2 ? ? ?
L L L M M b ? ? ? 1 2 2 ?
L L L M L M c ? ? ? ? 1 2 1 2 ? ? ?
b)
La
I2
+ _
V1
.
.
Lb
+ _
V2
Lc
I1
1:1
L L M a ? 1 ?
L M?b 2c
L L M ? ?Material não disponível para publicação
33
c)
.
.
I1 I2
La
+ _
V1
+ _
V2
a:1
Lb
L k L a ? ? ?1 2 ? 1
2
L k L b ? 1
a k L L ? 1 2
k M L L ? 1 2
Para acoplamento unitário, ou muito próximo, o circuito c) pode ser simplificado, e representado
pela Fig. 2.11. Esta forma de representação é uma das mais usadas para a análise dos amplificadores
sintonizados.
.
L1
+ _
V1 I2
+ _
I1 V2
.
a:1
1 1
2 2
N L
a
N L
? ?
N1 2 N é a relação de espiras
do transformador.
Fig. 2.11: Representação dos indutores acoplados com acoplamento unitário.
2.5.2 Autotransformador
Consideremos os indutores acoplados, com k ?1, da Fig. 2.12. Este circuito é chamado de
autotransformador, pois os indutores formam um enrolamento contínuo. Da mesma forma que no item
anterior, podemos representar o sistema por um indutor e um transformador ideal, conforme a Fig.
2.13.
..
L1
L2
V3
V1
N2
V2
N1
Fig. 2.12: Autotransformador.
L L L L L ? ? ? 1 2 1 2 2
N3 1 2 ? N N ?
?V V V V N N 1 2 2 3 ? ? ? ? ? ? 1 2
?V V V V N N N N N 1 3 2 3 ? ? ? ? ? ? ? ? ? 1 2 2 3 2 ?
Fig. 2.13: Circuito equivalente do autotransformador.
2.5.3 Múltiplos Indutores Acoplados
Consideremos o sistema de três indutores acoplados, com k ?1, da Fig. 2.14. Podemos caracterizá-
lo, escolhendo um dos enrolamentos 1-2, 1-3, 2-3 ou 4-5, medindo a indutância e o fator de qualidade.
Temos então os circuitos equivalentes da Tabela 2.1. É importante observar que, nos modelos
equivalentes, o indutor e o resistor devem estar representados em somente um dos enrolamentos do
transformador (nunca em mais de um ao mesmo tempo).Material não disponível para publicação
34
1 2
5
.
. .
L1
L2
L3
3
4
Fig. 2.14: Sistema de três indutores acoplados.
Tabela 2.1: Circuito equivalente para os três indutores acoplados.
1 3
5
2
L1
4
R1
3
2
5
.
. .
N1
N2
N3
4
.
. .
L1
L2
L3
1
1
1
R
Q
?L
?
R2
4
3
L2
.
. .
L1
L2
L3
1
5 3 5
1
2 2 .
. .
N1
N2
N3
4
2
2
R
Q
?L
?
5
.
. .
N1
N2
N3 R3
5
4
.
. .
L1
L2
L3
1
2 3
2 L3
4 1
3
3
3
R
Q
?L
?
1
.
. .
L1
L2
L3
4 1
5
.
. .
N1
N2
N3
3
L
3
R 2
4 5
2
R
Q
?L
?
? ?2 2 ? ?
1 1 2 2
1 2 1 2
;
1 1
N N N N
L L R R
N N
? ?
? ?
? ?2 2 ? ?
2 2 2 2
1 2 1 2
;
2 2
N N N N
L L R R
N N
? ?
? ?
? ?2 2 ? ?
3 3 2 2
1 2 1 2
;
3 3
N N N N
L L R R
N N
? ?
? ?
2.5.4 Relação de Impedâncias no Transformador
Uma impedância Z conectada a um dos acessos do transformador ideal, pode ser representada em
outro acesso segundo a relação de espiras ao quadrado, conforme a Fig. 2.15.Material não disponível para publicação
35
Z1 N1 N2 N1 N2 Z2
2
2 1
21
N
Z Z
N
? ?
? ? ?
? ?
Fig. 2.15: Relação de impedância no transformador.
Para o caso específico dos resistores, indutores e capacitores, as relações estão na Fig. 2.16.
R1 N1 N1 N2 N2 R2
2
2 1
21
N
R R
N
? ?
? ? ?
? ?
L1 N1 N2 N1 N2 L2
2
2 1
21
N
L L
N
? ?
? ? ?
? ?
C1 N1 N2 N1 N2 C2
2
2 1
12
N
C C
N
? ?
? ? ?
? ?
Fig. 2.16: Relação dos resistores, indutores e capacitores no transformador ideal.
Exemplo 1: Considere o amplificador sintonizado abaixo. Calcule o ganho e a seletividade.
São dados:
- C1 e C2 são capacitores de bypassing nas frequências de trabalho.
- L H 1 ? 25? , L H 2 ? 25? e L H 3 ?1? .
- Fator de qualidade Qb do indutor acoplado igual a 50, em qualquer frequência.
- 0.7
V V BE ? e 500 ? ? para o transistor.
R3
1k
Vcc
10V
Vin
Q
RL
100
R1
50k C3
1n
.
. .
L1
L2
L3
C1
Vo
R2 C2
10k
Passo 1: Cálculo da polarização do circuito.
A tensão na base do transistor VBq é determinada pela fonte de alimentação e o divisor resistivo
formado por R1 e R2.Material não disponível para publicação
36
2
1 2
10
10 1.7
Bq CC 50 10
R k
V V V
R R k k
? ? ? ?
? ?
Com este valor, podemos calcular a corrente de coletor, assumindo ? muito elevado, através da
diferença de potencial em R3.
3
3
1
0.7 1 1
1
Eq
R Bq Eq Cq Cq
V
V V V I I I mA
R k
? ? ? ? ? ? ? ? ?
Com o valor de ICq, temos também que
40 40
gm I gm m ? ? ? Cq ?
e
12.5
ie ie 40
Cq
h h k
? I
? ? ? ?
Passo 2: Representação do circuito no modelo AC de pequenos sinais, conforme abaixo.
R1
50k
R2
10k
RL
. 100
.
.
L1
L2
L3
C3
1n
Vin hie
12.5k
gmVin
Vo
Passo 3: Cálculo da frequência de ressonância.
O capacitor C3 encontra-se em paralelo com o indutor L1, portanto
6
0 0
6 9
1 3
1 1
6.32 10
25 10 1 10
rad s
L C
? ?
? ?
? ? ? ? ?
? ? ?
Passo 4: Cálculo da resistência parasita do indutor.
Vamos considerar a resistência parasita vista no indutor L3. Pelo fator de qualidade, temos
6 6
0 3
50 316
6.32 10 1 10
p p
b p
R R
Q R
? L ?
? ? ? ? ? ?
? ? ?
Passo 5: Cálculo das relações de espiras.
Com os valores dos indutores, temos
6
1
6
2
1 25 10 1
1
2 25 10 2
N N L
N L N
? ?
?
? ? ? ?
?
6
1
6
3
1 2 25 10 1 2
5
3 3 1 10 3 3
N N N N L
N N L N N
?
?
?
? ? ? ? ? ?
?
1 2
1 5 3 2 5 3 10
3
N N
N N N N
? N
? ? ? ? ? ? ?
1 2
1 2 2
1
N N
N N
? N
? ? ?Material não disponível para publicação
37
Passo 6: Representação do indutor acoplado pelo modelo transformador ideal e indutor.
O modelo AC pode ser redesenhado como abaixo.
Vo
R1
50k
RL
100
hie
12.5k
C3
1n
Vin R2 gmVin
10k
.
.
.
N1
N2
N3 L3
1u
Rp
316
De forma melhor, fazendo as reflexões de impedâncias no transformador, temos o circuito abaixo
Vin gmVin
Vo
L R N1+N2
Vc
RBeq C N3
onde
2 2
1 1 9 9
1 10 1 10 250
1 2 2
N
C C pF
N N
? ? ? ? ? ?
? ? ? ? ? ? ? ? ? ? ? ?
? ? ? ? ?
? ?
2
1 2 6 6 2
1 10 10 1 10 100
3
N N
L L H
N
? ? ?
? ? ?
? ? ? ? ? ? ? ? ? ?
? ?
? ? ? ? ? ?
2
1 2 2
316//100 10 316//100 7.6
3
N N
R R k
? N
? ?
? ? ? ? ? ? ? ? ?
? ?
50 10 //10 10 //12.5 10 5 3 3 3
RBeq Beq ? ? ? ? ? ? ? R k
Passo 7: Cálculo da seletividade.
Da equação 2.14 temos que a seletividade do circuito é
6 3 12
Q RC Q ? ? ? ? ? ? ? ? ? ?0 6.32 10 7.6 10 250 10 12 ?
Passo 8: Cálculo do ganho na frequência de sintonia.
O ganho de tensão V j V j C in ? ?0 0 ? ? ? ? é dado por
? ?
? ?
0 3 3
0
C 40 10 7.6 10 304
in
V j
gmR
V j
? ?
?
? ? ? ? ? ?
Sabemos que
? ?
? ?
0 0
0
3 1
0.1
1 2 10
C
V j N
V j N N
?
?
? ? ?
?
portantoMaterial não disponível para publicação
38
? ?
? ?
? ?
? ?
? ?
? ?
? ?
? ?
0 0 0 0 0 0 0
0 0 0 0
C 0.1 304 30.4
in C in in
V j V j V j V j
V j V j V j V j
? ? ? ?
? ? ? ?
? ? ? ? ?
Obs:
A seletividade nunca é maior que o fator de qualidade do indutor ou do capacitor. Normalmente, o
indutor possui Q muito menor que o do capacitor, na ordem de algumas dezenas. Seletividades
elevadas, na ordem dos milhares, são obtidas com amplificadores de sintonia síncrona.
Nos circuitos sintonizados, nem sempre obtemos valores práticos para os componentes, por
exemplo um capacitor muito pequeno. Conforme observado no exemplo, o uso dos indutores
acoplados, permite que o capacitor seja refletido para o coletor do transistor segundo a relação de
espiras ao quadrado ? ? N N N 1 1 2 ? ? ? 2 , que pode ser qualquer valor. Isto facilita a escolha apropriada
do capacitor, com valor prático.Material não disponível para publicação
39
Capítulo 3
Amplificadores Classe C
Os amplificadores em classe C são empregados nos estágios de saída de potência dos circuitos de
rádio frequência RF, devido à sua elevada eficiência. A Fig. 3.1a representa um circuito básico, onde
podemos observar que a base do transistor Q está polarizada com uma tensão negativa ?VBq . Desta
forma, só haverá corrente no coletor quando a tensão de entrada v t V in Bq ? ? ? ultrapassar VBEq ,
definindo um ângulo de condução menor que 180°, conforme observado na Fig. 3.1b. Ajustando o
nível de
?VBq , podemos controlar o ângulo de condução.
É importante observar que a forma de onda de corrente de coletor é extremamente distorcida,
possuindo uma composição harmônica muito extensa. Isto provoca a repetição do sinal ao longo da
frequência, conforme a Fig. 3.2. Isto não é um inconveniente, pois a carga do amplificador em classe
C é sintonizada e adequadamente projetada para eliminar as imagens do sinal. É importante que a
largura de banda do sinal seja limitada a um valor para o qual não haja sobreposição de espectro.
Este tipo de amplificador é usado para sinais de banda estreita, normalmente sinais modulados em
amplitude (AM) ou frequência (FM), onde a energia encontra-se em torno de uma frequência
portadora ?0.
Vbq
L2
VCC
Vo(t)
Vin(t)
Q
C1 L1 RL
(a)
(b)
Fig. 3.1: Amplificador em classe C: a) circuito básico; b) forma de onda.Material não disponível para publicação
40
Fig. 3.2: Composição espectral do sinal de saída.
3.1 Eficiência do Amplificador em Classe C
Para o cálculo da eficiência, consideremos o sinal de entrada senoidal e um ângulo de condução ?
para o transistor, de forma que a corrente de coletor se comporta como o gráfico da Fig. 3.3. Podemos
verificar que a corrente, observada em um ciclo de repetição, é positiva somente no intervalo
t t t
? ? ? ? ? e zero para ?T t t 2 ? ? ? ? e t t T ? ? ? 2 . A parte negativa do gráfico serve somente para
facilitar a visualização da forma de onda da corrente. A corrente de coletor é descrita pela equação
? ? ?cos cos ; ? 0 ? ? ??
C 0; 2 e 2
t t t t
I t
T t t t t T
? ?
? ?
?? ? ? ? ? ? ?
?
? ?
? ? ? ? ? ? ? ?
(3.1)
onde
2
t
T ?
?
? ? (3.2)
0
2? T
? ? (3.3)
Fig. 3.3: Corrente de coletor no amplificador em classe C.Material não disponível para publicação
41
Representando i t C ? ? em série de Fourier, e lembrando que para funções pares existem somente os
termos em cosseno, temos
? ? ? ? 0 0
1
cos
C n
n
I t I B n t ?
? ?
? ? ? ? ?? ? (3.4)
onde
? ? ? ? ? ? ? ?
? ? ? ? ? ? ? ? ? ? ? ?
0 0
0 0 0
1 1
cos cos
2 2
cos cos cos cos
t t
C
t t
t t
n C
t t
I i t dt t dt
T T
B i t n t dt t n t dt
T T
? ?
? ?
? ?
? ?
? ? ?
? ? ? ? ?
? ?
? ?
?
? ? ? ?
???
? ? ? ?
?
? ?
? ?
(3.5)
Sendo a carga sintonizada em ?0, e com seletividade elevada, podemos considerar que a tensão AC
no coletor depende somente da impedância e da componente de I t C ? ? em ?0, ou seja,
V t V B Z j t C CC ? ? ? ? 1 0 0 ? ? ? cos?? ? (3.6)
Portanto, necessitamos somente dos termos I0 e B1 do sistema 3.5, ou seja,
? ? ? ? ??
0
sin cos
I
? ? ? ?
?
?
? (3.7)
e
? ? ? ? ??
1
sin cos
B
? ? ? ?
?
?
? (3.8)
A equação 3.8 obriga que a tensão AC no coletor seja, em primeira análise, puramente senoidal e
com amplitude máxima igual a V V CC CEsat ? , conforme a Fig. 3.4.
Fig. 3.4: Excursão máxima de sinal no coletor.
A potência média fornecida pela fonte ao circuito é
? ? ? ? ??
0
sin cos
CC
CC
V CC
V
P I V
? ? ? ?
?
?
? ? (3.9)
Chamando i t C ? ? a componente AC da corrente de coletor, ou seja,Material não disponível para publicação
42
I t I i t I B t C C ? ? ? ? ? ? 0 0 1 0 ? ? cos?? ? (3.10)
Temos que a potência média que o circuito entrega à carga, na frequência ?0, é
2
2 2 2 1
1 1 1
2
1 1 1 1
L Ceq L L 2 2 2 2
N L
P R B R B R B
N L
? ?
? ? ? ? ?
? ? (3.11)
onde RCeq é a resistência RL refletida para o primário do transformador.
Concluímos facilmente que a amplitude da tensão AC no coletor é dada por
1
12
C o Ceq
N
V V R B
N
? ? (3.12)
Aplicando as equações 3.12 e 3.8 em 3.11, obtemos
? ? ? ? ??
1
1 1 1 sin cos
2 2 2 2
o
L o
N N V
P V B
N N
? ? ? ?
?
?
? ? (3.13)
A eficiência é dada por
? ? ? ? ??
? ? ? ? ? ?
sin cos 1
2 sin cos 2
CC
L o
V CC
P V N
P N V
? ? ?
?
? ? ?
?
? ?
?
(3.14)
Considerando que a amplitude máxima da tensão AC no coletor seja VCC, pelas equações 3.12 e
3.14 temos que
21
o C
N
V V
N
? (3.15)
e
? ? ? ? ??
? ? ? ? ? ?
sin cos
2 sin cos
CC
L
PPV
? ? ?
?
? ? ?
?
? ?
?
(3.16)
A Fig. 3.5 apresenta o gráfico da eficiência para 0 2 ?? ?? .
Fig. 3.5: Curva de eficiência do amplificador classe C.
Observamos que a eficiência é máxima para 0 ? ? . Podemos mostrar facilmente que
0
lim 1 100%
?
?
?
? ? (3.17)
Este valor é uma possibilidade teórica, mas para ser alcançado teríamos picos de corrente tendendo
para o infinito, o que não é razoável. Na prática, os amplificadores transistorizados em classe C para
RF são projetados com eficiências em torno de 60%.Material não disponível para publicação
43
Capítulo 4
Redes de Casamento de Impedâncias
Nos amplificadores de potência de RF, normalmente é necessário compatibilizar o nível de
impedância da carga com a impedância do coletor, para obtermos a máxima transferência de potência.
Por vezes, é necessário simplesmente refletir a resistência da carga para o coletor, com valor mais alto
ou mais baixo, dependendo da potência que desejamos produzir. Na faixa de frequências dos MHz,
isto pode ser feito com transformadores projetados para aplicações em RF. Entretanto, para
frequências na ordem de centenas de MHz, esta tarefa só pode ser realizada com redes de casamento
de impedâncias.
Estas redes também fornecem a filtragem necessária para eliminação dos harmônicos gerados no
estágio classe C.
O princípio de funcionamento destas redes baseia-se nas transformações de impedâncias, que serão
descritas no item seguinte.
4.1 Transformações de Impedâncias
Os indutores e capacitores com perdas, em uma determinada frequência ?0, possuem uma
representação série e paralela equivalentes. Na passagem de uma representação para a outra, o valor
dos componentes é alterado, principalmente do resistor. Esta propriedade é utilizada para modificar o
nível de impedância da carga.
4.1.1 Transformação Indutor Série-Paralelo Com Resistor
Se escolhermos uma frequência ?0, podemos representar uma impedância indutiva por um indutor
em série com resistor ou indutor em paralelo com resistor, conforme a Fig. 4.1.
Fig. 4.1: Representação série e paralelo de um indutor com perdas.Material não disponível para publicação
44
O fator de qualidade Q é o mesmo para as duas formas de representação. O módulo da impedância
no modelo série, e da admitância no modelo paralelo, são dados por
? ?
2 2
2 2 2 2 0
0 0 s s s s 2 s 1 1
L s
Z j L R R R Q
R
?
? ? ? ? ? ? ? ? (4.1)
? ?
2
2
0 2 2 2 2 2
0 0
1 1 1 1
p 1 1
p p p p p
R
Y j Q
L R R L R
?
? ?
? ? ? ? ? ? (4.2)
Utilizando as equações 4.1 e 4.2, e fazendo Z j Y j ? ?0 0 ? ?1 ? ? ? , temos
? ?
0 ? ? 0
1
Z j
Y j
?
?
? (4.3)
e
2
2
1
1
1
1
s
p
R Q
Q
R
? ?
?
(4.4)
Da equação 4.4 obtemos a relação
R R Q p s ? ? 2 ?1? (4.5)
A equação 4.5 pode ser reescrita conforme abaixo
? ? 2 2 ? ?
0 0 0
1 1 1
s s 1 1
p s s
p s p p s
L L
R R Q R Q
? ? ? L L L L L
? ? ? ? (4.6)
Verificamos facilmente que a equação 4.6 é equivalente a
s 1 ? ? 2 1
p
L
Q Q
L Q
? ? (4.7)
Finalmente, de 4.7, obtemos a relação
? 2 ?
2 2
1 1
1
p s s
Q
L L L
Q Q
? ? ?
? ? ? ? ?
? ?
(4.8)
De forma geral, temos para as transformações de indutor série e paralelo com resistor, as relações
abaixo.
Tabela 4.1: Relações de transformações das impedâncias e admitâncias indutivas.
Ls Rs
Lp
Rp
? ? 2 1
p
s
R
R
Q
?
?
2
1
1
p
s
L
L
Q
?
? ?
? ? ?
? ?
R R Q p s ? ? 2 ?1?
2
1
1
L L p s
Q
? ?
? ? ? ?
? ?Material não disponível para publicação
45
0
0
s p
s p
L R
Q
R L
?
?
? ?
É interessante observar que para valores elevados de Q, o indutor quase não altera o valor, mas a
resistência muda significativamente.
4.1.2 Transformação Capacitor Paralelo-Série com Resistor
De forma análoga aos indutores com perdas, podemos representar uma admitância capacitiva, em
uma determinada frequência ?0, por um capacitor em paralelo com resistor ou capacitor em série com
resistor, conforme a Fig. 4.2.
Fig. 4.2: Representação paralelo e série de um capacitor com perdas.
Temos que o fator de qualidade Q é o mesmo nas duas representações, e o módulo da admitância e
da impedância é dado por
? ? 0 0 0 2 2 2 2 2 2 p p p 1 1 1 2 1 1
p p p
Y j C C R Q
R R R
? ? ? ? ? ? ? ? ? (4.9)
? ? 0 2 2 2 2 2 2 2
0 0
1 1
1 1
s s s
s s s
Z j R R R Q
C C R
?
? ?
? ? ? ? ? ? (4.10)
Utilizando as equações 4.9 e 4.10, e fazendo Y j Z j ? ?0 0 ? ?1 ? ? ? , temos
2
2
1 1
1
p s 1
Q
R R Q
? ?
?
(4.11)
Da equação 4.11 obtemos a relação
2 1
p
s
R
R
Q
?
?
(4.12)
Podemos reescrever a equação 4.12 na forma abaixo
? ? ? ?
0 0
0 2 2
1 1
p s p p p s
s s
p p
R C C R C C
C R
Q Q C C
? ?
? ? ?
? ?
(4.13)
Verificamos que 4.13 é equivalente aMaterial não disponível para publicação
46
? ? 2
1
1
s p
Q C
Q C Q
?
?
(4.14)
Finalmente obtemos que
2
1
1
C C s p
Q
? ?
? ? ? ?
? ?
(4.15)
De forma geral, temos para as transformações do capacitor paralelo e série com resistor, a tabela
abaixo.
Tabela 4.2: Relações de transformações da admitâncias e impedâncias capacitivas.
Cp
Rp
Cs Rs
R R Q p s ? ? ? 2 1?
2
1
1
s
p
C
C
Q
?
? ?
? ? ?
? ?
? ? 2 1
p
s
R
R
Q
?
? 2
1
1
C C s p
Q
? ?
? ? ? ?
? ?
0
0
1
p p
s s
Q C R
C R
?
?
? ?
Como no caso do indutor com perdas, para fatores de qualidade elevados, o capacitor quase não
altera de valor na transformação, mas o resistor varia muito.
4.2 Rede Com T de Capacitores e Indutor
Esta rede é empregada quando desejamos fazer o casamento de impedância com uma carga
representada por um capacitor em série com resistor, conforme a Fig. 4.3. É recomendável que
Rs ? RL para termos componentes com valores práticos.
Fig. 4.3: Rede de casamento de impedâncias com T de capacitores e indutor.
Na maioria das aplicações, o resistor Rs não existe, e representa somente a resistência vista naquele
ponto.
Iniciamos o projeto da rede definindo as reatâncias
X L1 ??0 1 L (4.16)
0
1
Cout
out
X
? C
? (4.17)Material não disponível para publicação
47
1
0 1
1
X C
? C
? (4.18)
2
0 2
1
X C
? C
? (4.19)
Parte da reatância de L1 é usada para cancelar Cout na frequência ?0. Temos então o circuito
equivalente da Fig. 4.4, onde
X X X L L Cout 2 1 ? ? (4.20)
Rs RL
L2
C1
C2
Fig. 4.4: Circuito equivalente, com Cout cancelado.
Definimos também
L2
s
X
Q
R
? (4.21)
onde obtemos
X L s 2 ? QR (4.22)
Aplicando as transformações de impedâncias desenvolvidas nos itens 4.1.1 e 4.1.2 ao circuito da
Fig. 4.4, temos o circuito equivalente da Fig. 4.5, onde
Rsp s ? ? ?Q R 2 1? (4.23)
2 2 2
1
1
L L p
Q
? ?
? ? ? ?
? ?
(4.24)
? ?
2
2
2 2
0 2
1
1 1 C
Lp L L
L L
X
R R R
? C R R
? ? ? ?
? ? ? ? ? ? ? ? ? ? ? ?
? ? ? ?
(4.25)
? ?
2
2 2
p 1 0 2 L
C
C
? C R
?
?
(4.26)
Da equação 4.26 também obtemos a relação
2 2
2
2 2
1 L
p
C
C C
R
X X
X
? ?
? ? ? ?
? ?
? ?
(4.27)
Rsp L2p C1 C2p RLp
Fig. 4.5: Circuito equivalente, após a transformação de impedâncias.
Para que haja o casamento das impedâncias, devemos ter as resistências iguais e a reatância total
infinita. Isto significa fazerMaterial não disponível para publicação
48
Rsp Lp ? R (4.28)
e
2 1 2
1 1 1
0
X X X L C C p p
? ? ? (4.29)
Substituindo as equações 4.23 e 4.25 em 4.28, temos
C L 2 ? ? 2 1 1 s
L
R
X R Q
R
? ? ? (4.30)
Substituindo a equação 4.22 em 4.24, temos
2 2
1
1
X L s p QR
Q
? ?
? ? ? ?
? ?
(4.31)
Substituindo as equações 4.27, 4.30 e 4.31 em 4.29, obtemos finalmente
? ?
? ?
1
2
2
1
1 1
s
C
s L
R Q
X
R
Q Q
R
?
?
? ? ?
(4.32)
A constante Q, embora tenha a forma de fator de qualidade, não está diretamente relacionada com a
seletividade da rede. Infelizmente, não existe uma formula simples que determine a seletividade, pois
a rede tem ordem maior que dois. Sabemos que quanto menor for Q, menor será a seletividade, mas
esta deve ser verificada com auxílio do computador; como exemplo, os programas de simulação.
4.3 Rede em ?
A rede em ? é normalmente usada quando a fonte de sinal apresenta um capacitor para terra,
conforme a Fig. 4.6. Não existem restrições aos valores de Rs e RL, ou seja, Rs ? RL ou Rs ? RL . O
procedimento de análise é idêntico ao do item 4.2, e as equações de projeto são:
1
1 1
C s Cout
Q
X R X
? ?
2 ? ? 2 1
s L
C L
s L
R R
X R
Q R R
?
? ?
2
1 2 1
s s L C
L
QR R R X
X
? Q
?
?
Fig. 4.6: Rede de casamento de impedâncias em ?.
4.4 Rede em ? Modificada
A rede da Fig. 4.7 assemelha-se muito com a anterior, sendo que a impedância suspensa é um LC
série. Esta rede é usada quando a fonte de sinal apresenta um capacitor para terra, e normalmente
produz valores de componentes realizáveis, com pouca dispersão.Material não disponível para publicação
49
O procedimento de projeto é simples. Escolhemos a constante Q e fazemos a reatância de L1
cancelar Cout na frequência ?0. Transformamos o conjunto C2 e RL do modelo paralelo para o série,
tomando o cuidado de fazer o RL transformado igual a Rs. Temos então um circuito LC série, formado
por C1 em série com C2 transformado e L2. O indutor L2 é calculado de forma que a ressonância do
circuito LC série ocorra em ?0. As equações de projeto são:
X L C 1 ? X out
X C s 1 ? QR
2
s
C L
L s
R
X R
R R
?
?
(4.33)
2 1
2
s L
L C
C
R R
X X
X
? ?
Fig. 4.7: Rede em ? modificada.
Note pela equação 4.33 que obrigatoriamente devemos ter RL s ? R .
Considere o circuito LC série, formado por C1 e L2, se dimensionarmos a frequência de ressonância
em ?x, temos que a impedância é dada por
? ?
2
Z j j L ? ? 2 1 ?x2
?
? ?
? ? ? ?
? ?
(4.34)
Notamos que para ?0 ligeiramente menor que ?x, Z ? j?0 ? é capacitiva e com valor equivalente do
capacitor muito elevado. Da mesma forma, para ?0 ligeiramente maior que ?x, Z ? ? j?0 é indutiva e
com indutância equivalente muito pequena. Esta é uma forma eficiente de implementar capacitores
muito grandes e indutores muito pequenos, a partir de componentes práticos (realizáveis). Mas só
funciona numa única frequência, e aproximadamente em torno desta.
4.5 Resumo das Redes de Casamento de Impedâncias
A Tabela 4.3 apresenta as redes de casamento de impedâncias mais usadas na prática; as discutidas
anteriormente e algumas a mais, também usadas.Material não disponível para publicação
50
Tabela 4.3: Redes de casamento de impedâncias mais usadas.
A
X L s C 1 ? QR X ? out
X C L 2 ? AR
C1
B
X
Q A
?
?
? ? 1 2
s 1
L
R Q
A
? R
? ?
B ? ? R Q s ?1 2 ?
B
1
1 1
C s Cout
Q
X R X
? ?
2 ? ? 2 1
s L
C L
s L
R R
X R
Q R R
?
? ?
2
1 2 1
s s L C
L
QR R R X
X
? Q
?
?
C
X L C 1 ? X out
X C s 1 ? QR
2
s
C L
L s
R
X R
R R
?
?
2 1
2
s L
L C
C
R R
X X
X
? ?
RL s ? R
D
X C s 1 ? QR
2
s
C L
L s
R
X R
R R
?
?
2 1
2
out
s L
L C C
C
R R
X X X
X
? ? ?
E
X L s C 1 ? R Q X ? out
X L L 2 ? R B
C1
A
X
Q B
?
?
A R Q ? ? s ?1 2 ?
1
A L
B
R
? ?Material não disponível para publicação
51
4.6 Redes de Casamento com Zeros de Transmissão
Os amplificadores de potência em RF normalmente possuem especificações rígidas com respeito à
rejeição de harmônicos. Por exemplo, uma emissora de rádio que opera na frequência de 50MHz,
potência de 500W e -30dBc1 de 2° harmônico, emite 500mW de sinal indesejável na frequência de
100MHz. Este valor é suficiente para interferir ou até mesmo obscurecer uma emissora que opere em
100MHz.
As redes de casamento de impedâncias normalmente são usadas em amplificadores classe C, que
geram uma grande quantidade de harmônicos. Embora as redes sejam filtros passa-banda, a atenuação
de 2°, 3° ou harmônicos mais altos, em geral não é suficiente para atender às normas legais de radio
difusão. Uma forma eficiente e simples de resolver este problema, é a colocação de um ou mais zeros
de transmissão, posicionados nas frequências harmônicas que desejamos eliminar.
Devemos criar os zeros sem perturbar significativamente o comportamento da rede, próximo à
frequência onde ocorre o casamento de impedâncias. Podemos implementar estes zeros pela colocação
de um circuito LC paralelo interrompendo o caminho do sinal, ou através de um circuito LC série
desviando o sinal para o terra.
4.6.1 Zeros de Transmissão com circuito LC Paralelo
Esta implementação pode ser feita em qualquer rede da Tabela 4.3, bastando substituir um ou mais
indutores suspensos por circuitos LC paralelo, conforme a Fig. 4.8. Para que a rede não sofra
perturbações nas proximidades da frequência de casamento ?0, a impedância Z ? ? j?0 deve ser a
mesma para ambos os circuitos. Entretanto, na frequência harmônica de ordem n, a impedância
Z jn ? ?0 ? deve ser infinita para o circuito LC paralelo. Portanto, devemos ter
0
0 2
1 0
x x
x
j L
j L
L C
?
?
?
?
?
(4.35)
e
? ? 0 2 1
x x
n
L C
? ? (4.36)
Das equações 4.35 e 4.36, temos que
? ?
2
2 2
0
1
1
1 1
x x
L L
n
C
n L ?
? ? ?
? ? ? ? ?
? ? ?
??
?
? ?
?
(4.37)
1
L
Cx
1 2
Lx
2
Fig. 4.8: Zero de transmissão com circuito LC paralelo.
4.6.2 Zeros de Transmissão com Circuito LC Série
Estes zeros podem ser implementados nas redes descritas anteriormente, bastando substituir um ou
mais capacitores ligados ao terra por circuitos LC série, conforme a Fig. 4.9 A admitância Y j ? ?0 ?
1 Nível de potência relativo à portadora (carrier).Material não disponível para publicação
52
deve ser a mesma em ambos os circuitos, mas, na frequência harmônica de ordem n, a admitância
Y jn ? ?0 ? deve ser infinita no circuito LC série. Desta forma, temos
0
0 2
1 0
x
x x
j C
j C
L C
?
?
?
?
?
(4.38)
e
? ? 0 2 1
x x
n
L C
? ? (4.39)
Das equações 4.38 e 4.8, temos que
? ?
2
2 2
0
1
1
1 1
x x
C C
n
L
n C ?
? ? ?
? ? ? ? ?
? ? ?
??
?
? ?
?
(4.40)
Cx
Lx
1
C
1
Fig. 4.9: Zero de transmissão com circuito LC série.
4.7 Exemplos
4.7.1 Casamento de Impedâncias de Uma Antena
Considere como exemplo, uma fonte de sinal cuja impedância de saída é um resistor de 2? em
paralelo com um capacitor de 10pF, e desejamos fazer o casamento de impedâncias com uma carga de
50? , por exemplo uma antena de rádio, na frequência de 100MHz.
Consideremos as redes B e C da Tabela 4.3 como soluções do problema.
Rede B:
Vin C2
L1
RL=50
Rs=2
Cout C1
Pelos dados fornecidos e das equações de projeto, temos que
6 6
? ? 0 ? ? ? ? ? 2 100 10 628.3 10 rd s
12 6
1
159.15
X Cout ? ? ? 10 10 628.3 10 ? ? ? ?
Fazendo 10 Q ? , temos
1
1
1 10 1 10 1
4.9937 0.2
2 2 159.15
out
C
C C
X
X X
? ? ? ? ? ? ? ?Material não disponível para publicação
53
2 2
2 50
50 0.995
X C ? ? ? ? 10 1 2 50 ? ?
1 2
10 2 2 50 0.995
1.19
X L ? ? ? ? ? ? 10 1 ?
1 1
0 1
1
0.2 7.96
X C C nF
? C
? ? ? ?
2 2
0 2
1
0.995 1.6
X C C nF
? C
? ? ? ?
X L1 ? ? ? ? ?0 1 1 L L nH 1.19 1.89
Rede C:
Cout
L2
L1
Vo
C1
C2
Rs=2
Vin RL=50
Das equações de projeto, temos
12 6
1
159.15
X Cout ? ? ? 10 10 628.3 10 ? ? ? ?
1
159.15
X X L C ? out ? ?
Considerando 10 Q ? , temos
1
10 2 20
X C ? ? ? ?
2
2
50 10.2
X C ? ? ? ? 50 2 ?
2
2 50
20 29.8
X L ? ? ? ? 10.2 ?
X L1 ? ? ? ? ?0 1 1 L L nH 159.15 253.3
1 1
0 1
1
20 79.6
X C C pF
? C
? ? ? ? ?
2 2
0 2
1
10.2 156.0
X C C pF
? C
? ? ? ? ?
X L2 ? ? ? ? ?0 2 2 L L nH 29.8 47.42
Podemos observar na solução da rede B, que a dispersão dos capacitores é 1000. Na frequência de
100MHz, capacitores na ordem de nF não apresentam bom desempenho, pois possuem indutância
parasita muito elevada. Entretanto, a rede C não apresenta este problema, e por isso é uma das mais
usadas.
4.7.2 Eliminação do 2° Harmônico, com Zero de Transmissão
Tomando como exemplo a rede C, a eliminação do 2° harmônico da rede pode ser efetuada pela
criação de um zero de transmissão, bastando substituir L2 pelo circuito da Fig. 4.8. A rede assume a
forma da Fig. 4.10.Material não disponível para publicação
54
Pelas equações 4.37 e 4.40, temos que
? ?
2 2 2 2
2 2 2 2
0 2
1
1 35.57
2
1
17.8
2 1
x x
x x
L L L nH
C C pF
? L
? ? ?
? ? ? ? ? ? ?
? ? ?
??
? ? ?
? ?
?
L2x
Rs=2
C2x
Vin L1 C2 RL=50
Vo
C1
Cout
Fig. 4.10: Implementação dos zeros de transmissão na rede C.
O gráfico de resposta em frequência encontra-se na Fig. 4.11, onde podemos observar a curva
original e a modificada pelo zero de transmissão em 200MHz. Podemos verificar que na faixa de
frequências onde ocorre o casamento de impedâncias, as duas redes são praticamente iguais, havendo
uma pequena diferença na seletividade, que é 7.1 para a rede original e 9.0 para a rede modificada.
O mesmo resultado poderia ser obtido substituindo C2 pelo circuito da Fig. 4.9.
-60
-50
-40
-30
-20
-10
0
10
20
1.0E+07 1.0E+08 1.0E+09
Freqüência (Hz)
Ganho (dB)
Fig. 4.11: Gráfico de resposta em frequência da rede de casamento de impedâncias: curva contínua,
rede original; curva tracejada, rede com zero de transmissão.
4.8 Impedância para Grandes Sinais
Os amplificadores em classe C operam essencialmente em região não linear, o que torna
extremamente impreciso caracterizá-los por parâmetros de pequenos sinais.
De forma generalizada, quando realizamos o casamento de impedâncias, através de uma
determinada rede, a impedância de saída da rede é o complexo conjugado da carga, conforme a Fig.
4.12. Os amplificadores em classe C, em geral, estão conectados a cargas ou redes de casamento
sintonizadas em uma frequência ?0.Material não disponível para publicação
55
Fig. 4.12: Impedâncias casadas.
Quando aplicamos grandes sinais ao transistor, podemos usar o modelo da Fig. 4.13, onde I V b b ? ? é
uma fonte de corrente controlada, que representa a corrente que circula pela condutância não linear da
junção base-emissor, I V r C ? ? e I V V C b C ? , ? são as fontes de corrente controladas reversa e direta,
respectivamente. Os harmônicos gerados pelas fontes de corrente I V b b ? ? e I V V C b C ? , ? são filtrados
pela rede de casamento, de forma que a fonte de sinal enxerga somente correntes senoidais e nas
frequências próximas de ?0. O mesmo ocorre para a carga RL. Portanto, se ajustarmos as duas redes
até obtermos a máxima transferência de potência (casamento de impedâncias), e medirmos a
impedância de saída de Hin e entrada de Hout, estaremos medindo também o complexo conjugado de Zin
e Zo, nas proximidades de ?0.
Este procedimento é normalmente usado para caracterizar os transistores e dispositivos de potência
para RF, e os parâmetros são conhecidos como impedâncias para grandes sinais. É evidente que estes
parâmetros devem ser extraídos para vários níveis de potência de entrada e saída, devido às suas não
linearidades.
Fig. 4.13: Modelo para grandes sinais do amplificador em classe C.
É muito comum caracterizar os transistores de potência para RF pelo seu ganho de potência
P P out in , com as impedâncias de grandes sinais fornecidas para vários níveis de potência de entrada e
saída, e tensão de polarização do coletor.
Consideremos como exemplo o circuito da Fig. 4.14, onde a carga ZL é evidentemente não linear.
A rede LC que acopla o gerador de sinais à carga está sintonizada em 100MHz, e é extremamente
seletiva.
Fig. 4.14: Exemplo de caracterização de impedância para grandes sinais.
A tensão Vin e a corrente Iin vistas pelo gerador são essencialmente senoidais, conforme os gráficos
da Fig. 4.15a e b, obtidos de simulações em computador. A impedância Z L* , medida na saída da rede éMaterial não disponível para publicação
56
igual a 50?, onde concluímos que a impedância da carga ZL , para grandes sinais, também é igual a
50?.
-1.5
-1
-0.5
0
0.5
1
1.5
9.95 9.96 9.97 9.98 9.99 10.00
Tempo (?s)
Tensão (V)
-25
-20
-15
-10
-5
50
10
15
20
25
9.95 9.96 9.97 9.98 9.99 10.00
Tempo (?s)
Corrente (mA)
(a) (b)
Fig. 4.15: Caracterização da impedância para grandes sinais: a) forma de onda da tensão Vin vista pelo
gerador; b) forma de onda da corrente Iin entregue pelo gerador.
4.9 Parâmetros Y
O modelo híbrido ?, normalmente usado para representar o transistor em baixas frequências, está
fortemente relacionado com componentes físicos de dispositivo, tais como resistências e capacitâncias
das junções. Para frequências muito altas, 100 f ? MHz , as capacitâncias, indutâncias e resistências
parasitas do encapsulamento devem ser levadas em consideração. Portanto, é comum tratar o transistor
como um dispositivo de duas portas, e extrair os parâmetros de pequenos sinais em uma matriz de
admitâncias, avaliada ponto a ponto na frequência. Tal como no modelo híbrido ?, os parâmetros Y
podem ser extraídos nas configurações emissor-comum, base-comum e coletor-comum. A Fig. 4.16
apresenta os parâmetros Y para emissor-comum.
+ _
V1
+ _
V2
Y22
+ _
V1
I2
Y12V2 +
_
V2
Y11
Y21V1 I2
I1
I1
1 1 11 12
2 2 21 22
I V Y Y
I V Y Y
? ? ? ? ? ?
? ? ? ? ? ? ?
? ? ? ? ? ?
Fig. 4.16: Representação dos parâmetros Y para configuração emissor-comum.
Os transistores de RF de potência, em geral, trabalham em classe C, e nesta condição a junção
opera em modo não linear. Como os amplificadores de RF utilizam circuitos sintonizados, que
atenuam fortemente os harmônicos, é comum representar o transistor pelo seu modelo Y para grandes
sinais. Neste caso, interessam somente as relações entre tensões e correntes na frequência
fundamental. Para uma mesma frequência ?0, temos várias matrizes Y, extraídas para vários níveis de
sinal.Material não disponível para publicação
57
4.10 Exemplo de Projeto
Como exemplo de projeto, considere um amplificador em classe C com 15W de potência de saída,
operando na frequência central de 40MHz. A resistência interna da fonte de sinal (gerador) e a antena
(carga) são iguais 50?. O transistor usado é o MRF233, cujas especificações são:
? Potência máxima de saída igual a 15W.
? Ganho de potência igual a 10dB.
? Tensão ótima de coletor igual a 12.5V.
? Impedância de entrada para grandes sinais, na frequência de 40MHz, igual a
Z j j in ? ? ?0 ? ? 1.0 2.30 .
? Impedância de saída para grandes sinais, na frequência de 40MHz, igual a
Z j j o* ? ? ?0 ? ? 6.4 4.40 .
Verificamos facilmente que as impedâncias de entrada e saída são modeladas por cargas
capacitivas. Usaremos a rede de casamento de impedâncias A da Tabela 4.3, para a entrada e a saída.
O circuito do amplificador encontra-se na Fig. 4.17, onde verificamos que LC e Lb são indutores
considerados infinitos na frequência de 40MHz, cuja função é estabelecer nível DC zero na base e VCC
no coletor.
L1
Vs
Vcc
12.5V
Lb
L2 C4
C1
Rs=50 C2
Vo
C3 RL=50
Lc
Fig. 4.17: Amplificador em classe C.
Para o dimensionamento da rede, podemos substituir o transistor pelo seu modelo equivalente de
impedâncias para grandes sinais, conforme a Fig. 4.18.
Vs Vo
C2 Xcin=2.3 R1=6.4 Xcout=4.4
VL
RL=50
Rs=50
Rin=1 C3
L1 L2
C1
C4
Fig. 4.18: Modelo equivalente do amplificador em classe C.
Projeto da rede de saída:
O transistor na verdade não possui a impedância Z j j o* ? ?0? ? ? 6.4 4.40 , ela é somente o
conjugado da carga que ligada ao coletor permite a máxima transferência de potência.
Escolhendo 10 Q ? , das equações de projeto temos
6 6
? ? 0 ? ? ? ? ? 2 40 10 251.33 10 rd s
4.4
X Cout ? ?Material não disponível para publicação
58
X QR X L C 2 ? ? ? ? ? ? ? 1 out 10 6.4 4.4 68.4
1 ?1 6.4 1 10 2 2 ? ? ?
1 1 3.45
50
L
R Q
A
R
? ?
? ? ? ? ?
B R Q ? ? ? ? ? ? ? 1 ?1 6.4 1 10 646.4 2 2 ? ? ?
4
3.45 50 172.5
X AR C L ? ? ? ? ?
3
646.4
98.687
C 10 3.45
B
X
Q A
? ? ? ?
? ?
2
2 2 6
0
68.4
272.15
251.32 10
X L
L L nH
?
? ? ? ?
?
3
3 3 6
0
1 1 98.687
40.3
251.32 10
X C
C C pF
?
? ? ? ?
?
4
4 4 6
0
1 1 172.5
23.1
251.32 10
X C
C C pF
?
? ? ? ?
?
Projeto da rede de entrada:
A entrada do transistor possui impedância Z j j in ? ?0 ? ? ? 1.0 2.30 , e a máxima transferência de
potência acorre quando a resistência da fonte de sinal é refletida para entrada, com o valor conjugado
de Zin ? ? j?0 , ou seja, Z j j in * ? ? ?0 ? ? 1.0 2.30 .
Definindo 20 Q ? , das equações de projeto, temos
2.3
X Cin ? ?
1
20 1 2.3 22.3
X QR X L in C ? ? ? ? ? ? ? in
? ? 1 1 1 20 2 2 ? ?
1 1 2.65
50
in
s
R Q
A
R
? ? ?
? ? ? ? ?
B R Q ? ? ? ? ? ? ? in ?1 1 1 20 401 2 2 ? ? ?
2
2.65 50 132.5
X AR C s ? ? ? ? ?
1
401
23.1
C 20 2.65
B
X
Q A
? ? ? ?
? ?
1
1 1 6
0
22.3
88.73
251.32 10
X L
L L nH
?
? ? ? ?
?
2
2 2 6
0
1 1 132.5
30.0
251.32 10
X C
C C pF
?
? ? ? ?
?
1
1 1 6
0
1 1 23.1
172.2
251.32 10
X C
C C pF
?
? ? ? ?
?
Cálculo do indutor LC:
Devemos dimensionar LC de forma que sua impedância seja muito maior que a do coletor. Na
frequência ?0, a impedância no coletor é puramente resistiva e é dada porMaterial não disponível para publicação
59
* ? ? ? ? 0 0 // 4.7 1 1 1
6.4 4.4 6.4 4.4
R Z j Z j C o o
j j
? ? ? ? ? ?
?
? ?
e devemos ter
?0L L nH L H C C C ? ? 4.7 18.7 1 ? ? ? ?
Cálculo do indutor Lb:
Tal como o indutor LC, Lb deve ter impedância muito maior que a da base. Em ?0, a impedância da
base é puramente resistiva e é dada por
* ? ? ? ? 0 0 // 3.1 1 1 1
1 2.3 1 2.3
R Z j Z j b in in
j j
? ? ? ? ? ?
?
? ?
e devemos ter
?0L L nH L H b b b ? ? 3.1 12.3 1 ? ? ? ?
Resposta em frequência e seletividade:
O gráfico de resposta em frequência, obtido por simulação, encontra-se na Fig. 4.19. A seletividade
do amplificador é aproximadamente 15.4.
8 6 4 2 0
10
12
14
16
10 20 30 40 50 60 70 80 90 100
Freqüência (MHz)
Potência (W)
Fig. 4.19: Resposta em frequência.
Obs:
Muitas vezes, a impedância equivalente de grandes sinais do coletor não é fornecida. Mas é
possível fazer uma estimativa razoável de seu valor, lembrando que a excursão máxima de sinal no
coletor é ? ? V V CC CEsat ? . No exemplo acima, para termos P W L ?15 de potência de saída, devemos ter
no coletor do transistor uma resistência RC tal que
? ?2
2
CC CEsat
L
C
V V
P
R
?
? (4.41)
Considerando 0
VCEsat ? , pela equação 4.41 temos
12.52
15 5.2
2 C
C
R
R
? ? ? ?
A capacitância parasita de coletor para emissor do MRF233 é igual a 320pF, e podemos modelar a
impedância de grandes sinais do coletor por um circuito RC paralelo ou, através de uma transformação
de impedâncias, por um RC série, conforme a Fig. 4.20Material não disponível para publicação
60
Vo
R1=4.4 Cout=2.1nF
Vc
Io Rc=5.2 Cce=320pF
Vc
Fig. 4.20: Estimativa da impedância de saída para grandes sinais do coletor.
Verificamos que a impedância equivalente de saída é Zo*? j j ?0 ? ? ? 4.4 1.9 , e é ligeiramente
diferente que a fornecida pelo manual do transistor. Esta discrepância pode ser facilmente explicada,
se considerarmos as capacitâncias e indutâncias parasitas do transistor. A conexão do coletor ao
terminal do invólucro do transistor introduz uma indutância Ls em série e uma capacitância Cp em
paralelo, conforme a Fig. 4.21.
Fig. 4.21: Indutância e capacitância parasita produzida pelo invólucro.
Se olharmos com cuidado a Fig. 4.21, veremos que a resistência calculada pela equação 4.41, e
também o capacitor Cce, são vistos no terminal de coletor modificados por uma rede de transformação
de impedâncias em ?. Este efeito torna-se mais preponderante em frequências elevadas. Portanto,
devemos, sempre que possível, usar as impedâncias para grandes sinais fornecidas pelo manual do
dispositivo.Material não disponível para publicação
61
Capítulo 5
Osciladores Senoidais
O oscilador é um amplificador realimentado, cuja malha de realimentação produz pólos no
semiplano lateral direito (SPLD). Do diagrama de blocos da Fig. 5.1, obtemos facilmente a equação
5.1 para função de transferência, e 5.2 para os pólos.
? ?
V s AH s H s V s AH s in A B o A ? ? ? ? H s ? ? 1? ? ? ? ? ? ? (5.1)
1 0 ? ? AH s H s A B ? ? ? ? (5.2)
Fig. 5.1: Diagrama de blocos de um amplificador realimentado.
Com a função de transferência instável e um par de pólos complexos no SPLD, o amplificador
oscila em uma frequência ?0. Para determinarmos a frequência de oscilação ?0 e a condição para
instabilidade, devemos abrir a malha de realimentação, conforme a Fig. 5.2, e obtermos o ganho de
malha A j V j V j L A in ? ? ? ? ? ? ? ? ? ? . O critério de Barkhausen estabelece que a condição necessária
para haver oscilação na frequência ?0 seja A j L o ? ? ? ?1, ou de forma equivalente pelas equações 5.3 e
5.4.
? ? ? ? ? ?
? ?
? ?
Re 1
Im 0
L A B
L o
L o
A j AH j H j
A j
A j
? ? ?
?
?
? ?
? ?
? ? ? ? ? ?
?
? ? ? ? ? ? ?
(5.3)
ou
? ? ? ? ? ?
? ?
? ?
1
0
L A B
L o
L o
A j AH j H j
A j
A j
? ? ?
?
?
? ?
? ?
? ?
?
? ?? ?
(5.4)
Vin(s) HA(s)
HB(s)
A Vo(s)Material não disponível para publicação
62
Fig. 5.2: Amplificador em malha aberta.
Na prática, utilizamos a condição suficiente estabelecida pela equação 5.5.
? ? ? ? ? ?
? ?
? ?
1
0
L A B
L o
L o
A j AH j H j
A j
A j
? ? ?
?
?
? ?
? ?
? ?
?
? ?? ?
(5.5)
A função de transferência H s ? ? pode possuir mais de um par de pólos no SPLD, o que estabelece
mais de uma frequência de oscilação. Entretanto, os osciladores são limitados em amplitude, devido às
não linearidades na região de grandes sinais. O mecanismo de limitação se dá pela redução do ganho
de malha até a unidade. Neste processo, somente um par de pólos permanece exatamente sobre o eixo
imaginário, enquanto os outros migram para o semiplano lateral esquerdo (SPLE).
5.1 Osciladores LC
Os osciladores RC, que utilizam amplificadores operacionais opamps como componente ativo,
possuem frequência máxima de oscilação na faixa de alguns MHz. Isto se deve às limitações de slewrate e frequência de corte superior dos opamps. Normalmente, os osciladores de elevada frequência,
na ordem de centenas de MHz, utilizam circuitos LC transistorizados.
As configurações mais comuns são a Colpitts e Hartley, e outras derivadas para osciladores a
cristal.
5.1.1 Oscilador Colpitts em Base Comum
O circuito da Fig. 5.3 é um oscilador Colpitts em base comum; o capacitor Cb é grande suficiente
para garantir o aterramento da base na frequência de oscilação.
Rb1
Vo(t)
C2
Vcc
Re
RL
C1
L
Cb Rb2
Q
Fig. 5.3: Oscilador Colpitts em base comum.
A corrente de polarização ICq é calculada considerando a excursão de sinal no coletor. Da mesma
forma que nos amplificadores em classe A, com carga AC, se a amplitude do sinal for Vm, a corrente
ICq deverá ser no mínimo V R m L , onde RL é a resistência equivalente no coletor. Desta forma,
calculamos ICq por
HB(s)
Vin(s) A
VA(s)
HA(s) Vo(s)Material não disponível para publicação
63
m
Cq
L
V
I
R
? (5.6)
Uma vez calculada a corrente de polarização ICq no coletor, abrimos a malha de realimentação, e
representamos o circuito no modelo AC de pequenos sinais, conforme a Fig. 5.4. A capacitância
parasita entre base e emissor Cb’e e a resistência de entrada do amplificador em base comum re, devem
ser representadas no circuito em malha aberta, para que o diagrama de blocos da Fig. 5.2 seja válido.
re
VA
Vin L
Q
C1
Re
Vo
Cb'e
RL C2
Fig. 5.4: Oscilador Colpitts em malha aberta.
Substituindo o transistor pelo seu modelo de pequenos sinais em base comum, temos o circuito da
Fig. 5.5, onde
C C C 2 2 ? ? ? b e ?
e
//
e e e
R? ? R r
Vin R'e
VA
re Cb'e L RL
Vo
C1
gmVin C'2
Fig. 5.5: Modelo AC do oscilador Colpitts.
A função de transferência H s V s V s ? ? ? A in ? ? ? ? é dada por
? ?
? ? ? ? ? ? ? ?
2
1
3 2
1 2 1 2 1 1 2
L e
L e e L e L L
gmC R R Ls
H s
C C LR R s L R C C C R s R R C C L s R
?
?
? ? ? ? ? ? ? ? ? ? ? ? ?
(5.7)
Para encontrarmos a condição de oscilação, vamos considerar o peso de RL e R’e separadamente em
H s ? ? , ou seja, H s H s 1 ? ? ? ? ? para RL tendendo a infinito, e H s H s 2 ? ? ? ? ? para R’e tendendo a
infinito. Da equação 5.7, temos que
? ? ? ?
? ?
2
1
1 3 2
1 2 1 1 2
lim
L 1
e
R
e e
gmC R Ls
H s H s
?? C C LR s LC s R C C s
?
? ?
? ? ? ? ? ? ? ?
(5.8)
e
? ? ? ?
? ? ? ?
1
2 2
1 2 1 2 1 2
lim
é
L
R
L L
gmC R Ls
H s H s
? ?? C C LR s L C C s R C C
? ?
? ? ? ? ? ? ?
(5.9)
Substituindo s ? j? nas equações 5.8 e 5.9, temosMaterial não disponível para publicação
64
? ?
? ? ? ? ? ?
2
1
1 2 3
1 1 1 2 1 2
e
e e
gmC R L
H j
LC j R C C C C LR
?
?
? ? ?
? ?
?
? ? ? ? ? ? ? ?
(5.10)
e
? ?
? ? ? ? ? ?
1
2 2
1 2 1 2 1 2
L
L L
jgmC R L
H j
R C C C C LR jL C C
?
?
? ?
?
? ? ? ? ? ? ?
(5.11)
Analisando a equação 5.10, verificamos que a condição ?H j 1 0 ? ? ? ? 0 é alcançada quando
j R C C C C LR ? e e ? ? ? ? ? 1 2 0 1 2 0 ? ? ? ?? ? 3? 0
onde obtemos
0 1 2 1 2 ' ? ?
1 2 1 2 '
1 1
b e
b e
C C C C C
L L
C C C C C
? ? ?
? ?
? ? ? ?
(5.12)
Substituindo a equação 5.12 em 5.10, temos que
2 2
1 0
1 1
H j gmR , 1 C C e
C C
?
? ? ? ? ? ?
? ? ? ? ? ? ?
? ? ? ?
(5.13)
e a condição H j C C 1 0 2 1 ? ? ? , 1 ? ? implica em
2 1
1
e
e
C gmR
C gmR
? ? ?
?
?
(5.14)
Analisando a equação 5.11, verificamos que a condição ?H j 2 0 ? ? ? ? 0 é alcançada quando
R C C C C LR L L ? ? 1 2 1 2 0 ? ? ? ? ? ? 2 0
onde também obtemos
0 1 2 1 2 ' ? ?
1 2 1 2 '
1 1
b e
b e
C C C C C
L L
C C C C C
? ? ?
? ?
? ? ? ?
Entretanto, o ganho é dado por
2
2 0
1 2
1
,
1
C gmRL
H j
C C
C
?
? ? ?
? ? ?
? ? ? ? ?
? ? ?
? ?
(5.15)
e a condição H j C C 2 0 2 1 ? ? , 1 ? ? ? implica em
2 1
1
L
C
gmR
C
?
? ? (5.16)
O ganho em malha aberta H j C C ? ?0 2 1 , ? ? é dependente de RL e R’e, sendo uma associação do
H j C C 1 0 2 1 ? ? , ? ? com H j C C 2 0 2 1 ? ? , ? ? . Podemos verificar no gráfico da Fig. 5.6 que
H j C C ? ? ?0 2 1 , ? possui um valor máximo, que certamente está próximo à interseção das curvas de
H j C C 1 0 2 1 ? ? , ? ? e H j C C 2 0 2 1 ? ? , ? ? , e a relação ótima de C C 2 1 ? encontra-se no intervaloMaterial não disponível para publicação
65
2 1
1
e 1
L
e
gmR C
gmR
gmR C
? ? ?
? ? ?
?
Igualando as equações 5.13 e 5.15, obtemos a equação 5.17 como uma boa aproximação para o
valor ótimo de
C C 2 1 ? .
2 2 '
1 1
1 1
//
L L b e
e e e
C R R C C
C R C r R
? ?
? ? ? ? ?
?
(5.17)
Fig. 5.6: Efeito de RL e R’e no ganho de malha aberta.
Obs:
A frequência de oscilação exata , obtida da condição ?H j ? ?0 ? ? 0 aplicada diretamente à equação
5.7 é
0
1 2 1 2 1 2
1 2
1 2
1 1 1
e L
C C R R C C C C
L L
C C C C
? ? ? ?
? ? ? ?
? ? ? ?
5.1.2 Oscilador Colpitts em Emissor Comum
O circuito do oscilador colpitts em emissor comum, juntamente com o modelo AC, encontra-se na
Fig. 5.7a e b. Na frequência de oscilação, o indutor XL é um choque para RF (circuito aberto),
enquanto o capacitor Cb aproxima-se de um curto-circuito.
A análise deste circuito é similar à desenvolvida no item anterior, e os resultados obtidos para
frequência de oscilação e relação entre os capacitores são
0 ? ? 2 ' 1
2 ' 1
1
b e
b e
C C C
L
C C C
? ?
?
? ?
(5.18)
e
? ?
2 '
1
1
//
b e
L
b ie
C C
gmR
gm R h C
?
? ? (5.19)
Também temos uma relação entre capacitores, onde o ganho de malha é próximo do máximo, dada
por
2 '
1 2 //
b e L
b ie
C C R
C R h
?
? (5.20)Material não disponível para publicação
66
L
Vo(t)
RL
XL
Re
Vcc Cb
Rb2
C1
Rb1
Q
C2
Ce
(a)
Q
Rb2
C2
L
Vo(t)
RL C1
(b)
Fig. 5.7: Oscilador Colpitts em emissor comum: a) circuito completo; b) modelo AC.
5.1.3 Oscilador Hartley em Base Comum
O oscilador Hartley é o dual do Colpitts, e seu circuito completo em base comum, juntamente com
o modelo AC, encontra-se na Fig. 5.8a e b. Próximo à frequência de oscilação, os capacitores Cb e Ce
aproximam-se do curto-circuito.
Re
L2
L1
Cb
Rb1
Vo(t)
RL
Vcc
Q
Rb2
C
Ce
(a)
RL
Q
Re
Vo(t)
C L1
L2
(b)
Fig. 5.8: Oscilador Hartley em base comum: a) circuito completo; b) modelo AC.
A condição de oscilação implica em
0 ? ? 1 2
1
L L C
? ?
?
(5.21)
e
? ?
2 1
1
1 1
// L
e e
L
gmR
gm R r L
? ? ? ? (5.22)Material não disponível para publicação
67
Também é possível determinar uma relação entre os indutores, onde o ganho de malha é próximo
do máximo, conforme a equação 5.23.
2 1
1
//
L
e e
L R
L R r
? ? (5.23)
5.1.4 Oscilador Hartley em Emissor Comum
O circuito completo do oscilador Hartley em emissor comum, juntamente com o modelo AC,
encontra-se na Fig. 5.9a e b. Tal como no item anterior, próximo à frequência de oscilação, os
capacitores Cb e Ce aproximam-se do curto-circuito.
Q
Vo(t)
C
Ce
Cb
Rb1
L1
Re
Vcc
RL
Rb2
L2
(a)
Vo(t)
L2
Q
C
RL L1
Rb2
(b)
Fig. 5.9: Oscilador Hartley em emissor comum: a) circuito completo; b) modelo AC.
A condição de oscilação implica em
0 ? ? 1 2
1
L L C
? ?
?
(5.24)
e
? ?
2
2 1
1
// L
b ie
L
gmR
gm R h L
? ? (5.25)
Também é possível determinar uma relação entre os indutores, onde o ganho de malha é próximo
do máximo, conforme a equação 5.26.
2
1 2 //
L
b ie
L R
L R h
? (5.26)
5.1.5 Ajuste da Frequência de Oscilação
Podemos ajustar a frequência de oscilação do oscilador Colpitts utilizando um indutor variável L,
ou adicionando um capacitor CV em paralelo com o indutor, conforme a Fig. 5.10a e b. Neste caso a
frequência de oscilação é dada por
0 1 2 1 2 ' ? ?
1 2 1 2 '
1 1
b e
V V
b e
C C C C C
L C L C
C C C C C
? ? ?
?? ? ? ? ???
? ? ? ?
? ? ? ? ? ? ? ?
(5.27)Material não disponível para publicação
68
Cb
RL
Rb2
Vo(t)
Vcc
Cv
Re C2
C1
Rb1
L Q
(a)
Cb
Q
Vo(t)
Re
L
C1
C2
Cv
XL
Vcc
Ce
Rb1 RL
Rb2
(b)
Fig. 5.10: Oscilador Colpitts com ajuste de frequência de oscilação: a) configuração em base comum;
b) configuração em emissor comum.
A frequência de oscilação do oscilador Hartley pode ser facilmente ajustada usando um capacitor
variável CV no lugar de C.
5.2 Exemplo de Projeto
Como exemplo, considere o oscilador Colpitts em base comum da Fig. 5.3. Dimensionar o
oscilador para a frequência de 400kHz, dados:
1. Resistência de carga RL ? ? 10k .
2. Indutância 100 L H ? ? .
3. Tensão de alimentação 10 V V CC ? .
4. Tensão de polarização de emissor 1 V V Eq ? .
5. Excursão de tensão no coletor igual a 10V.
6. ? ? 500 , Cb e ' ? 0 (desprezível) e 0.7 V V BEq ? .
Polarização:
Pela especificação de excursão de tensão no coletor, temos
3
10
1
10 10
m
Cq
L
V
I mA
R
? ? ?
?
1 1 1 10 1 1 3
V R I R R k Eq e Cq e e ? ? ? ? ? ? ? ? ? ? ?
A tensão de base é
1 0.7 1.7
V V Bq ? ? ?
e consequentemente
2
1.7
V V Rb ?
1
10 1.7 8.3
V V Rb ? ? ?Material não disponível para publicação
69
Considerando a corrente que circula por Rb1 e Rb2 iguais, e dez vezes superior a IBq, temos
1 10 1 10 3 3
2
I A Bq ? 500 ?
? ?
? ?
? ? ?
1 2
10 10 2 10 20 6
I I I A R R Bq b b ? ? ? ? ? ? ? ? ?
2 2
2 2 6
1.7
85
20 10
b b
R
b b
V R
R R k
I ?
? ? ? ? ?
?
1 1
1 1 6
8.3
415
20 10
b b
R
b b
V R
R R k
I ?
? ? ? ? ?
?
O capacitor Cb deve ser um bypassing para frequência de oscilação. Podemos, por exemplo,
dimensioná-lo para frequência de corte de 10kHz. Temos então que
6
0.026
13
2 10
T
ie
Bq
V
h k
I ?
? ? ? ?
?
3 3 3 3 3
1 2
1 1
1.45
b 2 10 10 // // 2 10 10 415 10 //85 10 //13 10 b
b b ie
C C nF
? ? R R h
? ? ? ?
? ? ? ? ? ? ? ? ?
Dimensionamento dos capacitores de realimentação:
Pela frequência de oscilação temos
02 3 ? ?2 1 2 6
1 2 1 2 6 1 2
1 2 1 2
1 1
2 400 10 631.65 10
100 10
C C
C C C C C C
L
C C C C
? ?
?
?
? ? ? ? ? ? ? ?
? ?
? ?
(5.28)
Assumindo o valor ótimo para razão entre os capacitores, temos
3 3
2 2
1 3 3 1
3
10 10 10 10
1 1 1 19
/ / 0.026
1 10 / / 1 10 / /
1 10
L
e e T
Cq
C R C
C R r C V
I
?
? ?
? ? ? ? ? ? ? ?
? ? ? ?
? ? ? ? ? ?
? ? ? ? ?
? ?
(5.29)
Solucionando o sistema de equações formado por 5.28 e 5.29, temos finalmente
C nF 1 ?1.7
C nF 2 ? 32.3
O circuito completo e a forma de onda do sinal de saída v t 0 ? ? encontram-se na Fig. 5.11a e b
respectivamente. Podemos notar que o sinal de saída não é puramente senoidal, tendo uma deformação
visível na parte inferior, e a excursão é de aproximadamente 10V de pico. Isto se deve ao mecanismo
de limitação da amplitude do sinal, que neste caso é o corte e saturação da corrente e tensão de coletor.
Uma forma eficiente de limitação da amplitude, com baixa distorção harmônica, pode ser encontrada
em: “Clarck & Hess: Communication Circuits: Analysis and Design; Addison-Wesley; páginas 222 a
229.”Material não disponível para publicação
70
L Q
100u
Vo(t)
Re
1k
Cb
1.45n
RL
10k
C1
1.7n
Rb2
85k C2
31.7n
Vcc
10V
Rb1
415k
(a)
8 6 4 2 0
10
12
14
16
18
20
990 992 994 996 998 1000
Tempo (?s)
Amplitude (V)
(b)
Fig. 5.11: Exemplo de projeto de oscilador Colpitts: a) circuito completo; b) sinal de saída.
5.3 Oscilador a Cristal
Os osciladores LC apresentados anteriormente possuem frequência fortemente dependente dos
capacitores e indutores do circuito. Estes componentes sofrem variações com o envelhecimento, a
temperatura, a umidade e a pressão. Estes fatores, somados às componentes parasitas do transistor,
tornam a frequência do oscilador instável. Em muitas aplicações, é fundamental que o oscilador tenha
frequência estabilizada e com variação de alguns ppm somente. Estes circuitos só podem ser
implementados com materiais piezelétricos como por exemplo, os cristais de quartzo.
5.3.1 Cristal Oscilador
Os cristais de quartzo, assim como algumas cerâmicas, possuem propriedades piezelétricas, ou seja,
sofrem deformação mecânica quando submetidos a uma diferença de potencial e vice-versa, conforme
a Fig. 5.12. Devido às suas propriedades elásticas, uma lâmina de quartzo possui vários modos de
vibração, em frequências muito precisas, e com baixíssima sensibilidade às alterações de temperatura,
umidade e pressão. A frequência de ressonância no modo dominante depende das dimensões da
lâmina e do tipo de corte. Em geral, os cristais são construídos de forma a inibir seu funcionamento
nos modos de vibração superiores. Devido às dimensões práticas do cristal, a frequência de
ressonância no modo fundamental está limitada até valores em torno de 20MHz. Os cristais podem ter
ângulos de corte específicos, que permitem seu funcionamento em modos de vibração superiores,
sobretons, onde conseguimos frequências de oscilação próximas a 200MHz.
Fig. 5.12: Cristal de quartzo.
O equivalente elétrico do cristal e o símbolo normalmente usado são apresentados na Fig. 5.13a e
b, respectivamente. Podemos notar a associação em paralelo de N circuitos RLC série, representando
os vários modos de vibração, e um capacitor Cp, que é a capacitância de placas paralelas dos contatos.Material não disponível para publicação
71
R1
C1 C3
L1
Cp CN
R3 RN
C3
LN
R2
L2 L3
(a)
(b)
Fig. 5.13: Cristal oscilador: a) modelo elétrico; b) símbolo.
Os cristais projetados para operar no modo fundamental podem ser representados como na Fig.
5.14a. Uma das principais características destes dispositivos é o elevadíssimo fator de qualidade do
circuito RLC série, que o torna essencialmente reativo. Então, podemos calcular a impedância
desprezando Rs, onde obtemos facilmente que
? ?
? ?
2
3
1
S S
S S P S P
s L C
Z s
s L C C s C C
?
?
? ?
De forma melhor, fazendo s ? j? , temos
? ?
2 2
2 2
1
S
P P
Z j j
C
? ?
?
? ? ?
? ? ?
? ? ? ?
? ? ?
(5.30)
onde
1
S
L C S S
? ? (5.31)
S P
P
S S P
C C
L C C
?
?
? (5.32)
Verificamos que o cristal possui duas frequências de ressonância, uma série ?S e outra paralelo ?P,
conforme a Fig. 5.14b.
Cs
Rs
Ls
Cp
(a)
(b)
Fig. 5.14: Cristal no modo fundamental: a) modelo elétrico; b) curva de reatância.
As principais características dos cristais osciladores são:
1. Frequências ?S e ?P muito próximas.
2. Elevado fator de qualidade Q, na ordem de milhares.Material não disponível para publicação
72
3. Elevada estabilidade das frequências de ressonância.
Exemplo:
Calcular as frequências de ressonância e o fator de qualidade de um cristal oscilador, operando no
modo fundamental, com as seguintes especificações: C pF P ? 4 , C pF S ? 0.04 , L mH S ? 250 e
125
RS ? ? .
Das equações 5.31 e 5.32, temos
7
3 12
1 1
1 10 1.5915494
250 10 0.04 10
S S
S S
rd s f MHz
L C
?
? ?
? ? ? ? ? ?
? ? ?
12 12
7
3 12 12
0.04 10 4 10
1.0049876 10 1.5994874
250 10 0.04 10 4 10
S P
P P
S S P
C C
rd s f MHz
L C C
?
? ?
? ? ?
? ? ? ?
? ? ? ? ? ?
? ? ? ? ?
1 10 250 10 7 3
20000
125
S S
L s
Q Q
R
? ? ? ? ?
? ? ? ?
Observe que o capacitor CS é muito pequeno e o indutor LS é muito grande, e estes valores não são
compatíveis com as dimensões físicas do cristal, que mede alguns milímetros. Mas na verdade estes
componentes não existem, são apenas partes de um modelo elétrico para um dispositivo eletromecânico. Os valores irreais destes componentes é consequência do elevadíssimo fator de qualidade
associado.
5.3.2 Oscilador Colpitts a Cristal
Analisando a equação 5.30, verificamos que o cristal apresenta reatância indutiva para qualquer
frequência no intervalo ? ? ?S P ,? , e a indutância equivalente varia de zero a infinito. Podemos
substituir o indutor do oscilador Colpitts pelo cristal, que assumirá a sua função. Obrigatoriamente, a
frequência de oscilação estará entre ?S e ?P , pois todos os valores possíveis de indutâncias estão
contidos neste intervalo.
Conforme já analisamos, a frequência de oscilação é dada por
0
1 2
1 2
1
P
C C
L C
C C
? ?
?? ??
? ?
? ? ? ?
que é a ressonância do circuito LC paralelo da Fig. 5.16a. Ao substituirmos o indutor pelo cristal,
temos o circuito LC da Fig. 5.16b, cuja frequência de ressonância é
1 2
1 2
0
1 2
1 2
S P
S S P
C C
C C
C C
C C
L C C
C C
?
?
? ?
? ?
?
?? ??
? ?
? ? ? ?
(5.33)
Sabemos que
1 2
1 2
S P
C C
C C
C C
?
?
? ?
?
e aplicando esta condição à equação 5.33, lembrando que 1 1 2 ? ? ? x x quando x ?1 , temos que
a frequência de oscilação éMaterial não disponível para publicação
73
1 2
1 2 1 2
0
1 2
1
1
2 1
1
2
S P
S S P S
S S
C C
C C
C C C C
C C
L C C C
? ? ?
? ? ?
? ? ? ?
? ? ? ? ? ? ? ? ?
? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? (5.34)
A capacitância CS é da ordem de 10-15F, enquanto as outras capacitâncias estão na faixa de 10-12F.
A equação 5.34 mostra que ?0 é virtualmente igual a ?S, com erro na faixa de 0.1%.
C1 C'2
L
(a) C'2
Ls
C1
Cs
Cp
(b)
Fig. 5.15: Carga reativa do oscilador Colpitts: a) sem cristal; b) com cristal.
O circuito da Fig. 5.16a é um oscilador Colpitts, em emissor comum, com cristal, também
conhecido como Pierce. O Indutor XL tem a função de polarizar o transistor, mas é um circuito aberto
na frequência de oscilação.
C2
Rb2
Rb1
RL
C1
Re
Q
Ce
Vo(t)
XTAL
Vcc
XL
(a)
Vo(t)
Rb1
RL C1
Rb2
C2
Q
XTAL
(b)
Fig. 5.16: Oscilador Colpitts a cristal: a) circuito completo; b) modelo AC.
A relação entre os capacitores C1 e C2’ deve respeitar a equação 5.20. Como o cristal pode assumir
qualquer valor de reatância indutiva, em princípio, C1 e C2’ podem ter qualquer valor, desde que a
relação imposta por 5.20 seja mantida. Entretanto, quando substituímos o indutor pelo cristal,
adicionamos a resistência RS. O cálculo da condição de oscilação realizado anteriormente considerou o
circuito equivalente da Fig. 5.17a, mas com a presença de RS temos o circuito da Fig. 5.17b. Uma
forma prática de estabelecermos uma equivalência entre os dois circuitos é forçar o fator de qualidade
associado a L e RS ser muito maior que os fatores de qualidade de C1 e C2’, considerando os resistores
Rb e RL como perda. Desta forma temos que
0
0 1 L
L S
C R
? R
? ?
e
0
0 2 b
L S
C R
? R
? ? ?
As inequações acima são satisfeitas bastando fazerMaterial não disponível para publicação
74
0 0 1 2 ? ? L b
L S
C R C R
? R
? ? ? ?
onde
Rb b b ie ? R R h 1 2 // //
C C C 2 2 ' ? ? ? b e
Multiplicando ambos os lados da equação por ?0 , e lembrando que
?0 1 2 1 2 2 ? ? ? 1 / L C C C C C ? P ? ? ? ?? , temos que
0 1 2 2 ? ?
1 2
1 2
1
L b
S P
C R C R
C C
R C
C C
? ? ?
?? ??
? ?
? ? ? ?
?
Da equação 5.20, podemos fazer C C R R 2 1 ? ? L b , e a inequação acima é satisfeita fazendo
2 2 2 2 2 2
0 0 0
1
0
2 4
2
P S L P S L b P S b
L S
C R R C R R R C R R
C
R R
? ? ?
?
? ? ?
? (5.35)
C'2
L
RL C1 Rb
Cp
(a)
C1
L
RL C'2 Rb
Cp
Rs
(b)
Fig. 5.17: Malha de realimentação do oscilador Colpitts: a) sem cristal; b) com cristal.
5.3.3 Exemplo de Projeto
Como exemplo, vamos dimensionar o oscilador Colpitts da Fig. 5.16, com as seguintes
especificações:
1. Cristal oscilador de 1MHz: 999678.83
fS ? Hz ; 1019476.37 fP ? Hz ; 0.254647909H LS ? ;
9.95357648 10-14
C F S ? ? ; C F P ? ? 2.48839412 10-12 ; 64 RS ? ? .
2. Resistência de carga 5 RL ? ? k .
3. Tensão de alimentação V V CC ?10 .
4. Tensão de polarização de emissor 1 V V Eq ? .
5. Excursão de tensão no coletor igual a 10V.
6. ? ? 500 , C pF b e ' ?12 (desprezível) e 0.7 V V BEq ? .
Polarização:
Pela especificação de excursão de tensão no coletor, temos
3
10
2
5 10
m
Cq
L
V
I mA
R
? ? ?
?Material não disponível para publicação
75
1 1 2 10 1 500 3
V R I R R Eq e Cq e e ? ? ? ? ? ? ? ? ? ? ?
A tensão de base é
1 0.7 1.7
V V Bq ? ? ?
e consequentemente
2
1.7
V V Rb ?
1
10 1.7 8.3
V V Rb ? ? ?
Considerando a corrente que circula por Rb1 e Rb2 iguais, e vinte vezes superior a IBq, temos
2 10 2 10 3 3
4
I A Bq ? 500 ?
? ?
? ?
? ? ?
1 2
20 20 4 10 80 6
I I I A R R Bq b b ? ? ? ? ? ? ? ? ?
2 2
2 2 6
1.7
21.25
80 10
b b
R
b b
V R
R R k
I ?
? ? ? ? ?
?
1 1
1 1 6
8.3
103.75
80 10
b b
R
b b
V R
R R k
I ?
? ? ? ? ?
?
O capacitor Ce deve ser um bypassing para frequência de oscilação, por exemplo 10kHz. Temos
então que
6
0.026
6.5
4 10
Bq
ie
T
I
h k
V ?
? ? ? ?
?
6.5 103
12.97
1 501
ie
e
h
r
?
?
? ? ? ?
?
3 3
1 1
1.2
e 2 10 10 2 10 10 25.95 e
e
C C F
r
?
? ?
? ? ? ?
? ? ? ? ? ?
Dimensionamento dos capacitores de realimentação:
Pela equação 5.35 temos
2 2 2 2 2 2
0 0 0
1
0
2 4
2
P S L P S L b P S b
L S
C R R C R R R C R R
C
R R
? ? ?
?
? ? ?
?
C pF 1 ? 279
Podemos escolher, por exemplo,
C nF 1 ?1
Pela equação 5.20, que prevê a relação entre os capacitores, temos
3
2 2 '
3 2
1 1 1 2
5 10
1.05 1
/ / / / h 4.75 10
b e L L
b b b ie
C R R C C
C nF
C C R R R
? ? ?
? ? ? ? ? ? ?
?
O indutor XL deve ter reatância muito elevada na frequência de oscilação, representando um
circuito aberto. Podemos fazer
X XL L ? R , e um valor que satisfaz a esta condição é
XL mH ?10Material não disponível para publicação
76
O circuito completo e a forma de onda do sinal de saída v t o ? ? , obtida por simulação, encontram-se
na Fig. 5.18a e b respectivamente.
Observe que a excursão de sinal é um pouco menor que 10V, isto se deve à dissipação de potência
nas outras resistências do circuito, inclusive RS, que não foram consideradas.
XL
10m
Rb2
21.25k
C1
1n
Rb1 XTAL
103.75k
Q
Vo(t)
C2
1n
Re
500
Ce
1.2u
RL
5k
Vcc
10
(a)
86 4 20
10
12
14
16
18
20
0 1 2 3 4
Tempo (?s)
Amplitude (V)
(b)
Fig. 5.18: Oscilador Colpitts a cristal: a) circuito completo; b) tensão de saída.
5.3.4 Oscilador Colpitts com Cristal em Ressonância Série
Os cristais osciladores possuem impedância muito baixa na frequência de ressonância série ?S, e
podemos usar esta propriedade para estabilizar a frequência de um oscilador. Considere o oscilador
Colpitts em base comum da Fig. 5.19. Verificamos que a malha de realimentação só está fechada na
frequência ?S, onde o cristal possui impedância baixa. O oscilador deve ser projetado como no item
5.1.1, e com frequência muito próxima de ?S. Então, interrompemos o caminho da realimentação e
introduzimos o cristal, que força as condições de módulo e fase permanecerem muito próximas de ?S.
RL
Vcc
XTAL
Rb2
Re
C1
Rb1
Vo(t)
L
C2
Cb
Q
Fig. 5.19: Oscilador Colpitts com cristal em ressonância série.
5.3.5 Oscilador Pierce com Porta Lógica
Os equipamentos digitais, como microcomputadores, microcontroladores, etc..., necessitam de
frequências de clock muito precisas, e por isso utilizam osciladores a cristal. Uma forma eficiente e
econômica de implementação de osciladores, é o emprego de portas lógicas na região proibida.
Conforme pode ser visto na Fig. 5.20, a porta inversora, para tensões de entrada dentro da região
proibida, se comporta como um amplificador inversor de alto ganho. Podemos forçar a porta inversora
a polarizar-se no meio da região proibida, conectando a entrada com a saída através de um resistor deMaterial não disponível para publicação
77
valor elevado. Fazendo a realimentação apropriada, obtemos o oscilador Pierce da Fig. 5.21a. No caso
de uma porta CMOS temos circuito equivalente da Fig. 5.21b.
Fig. 5.20: Porta lógica inversora.
R
XTAL
C2 C1
Vo
(a)
C1
Vo
R
Vdd
XTAL
C2
(b)
Fig. 5.21: Oscilador Pierce com porta inversora: a) forma geral; b) porta CMOS.
O modelo AC em malha aberta, para determinação da condição de oscilação, encontra-se na Fig.
5.22. O cristal atua como um indutor L, os transistores MOSFET são uma fonte de corrente controlada
por tensão, e com resistência de saída Ro. O resistor de polarização R foi desprezado, por ser muito
alto.
Rs
Vin
Vin
Vo
Ro gmVin
VA
L
C2 C1
Fig. 5.22: Circuito em malha aberta, para análise das condições de oscilação.
De forma idêntica ao item 5.1.1, podemos determinar duas funções de transferência
H s V s V s 1 ? ?? A in ? ? ? ? e H s V s V s 2 ? ? ? ? ? A in ? ? , a primeira desconsiderando Ro ( Ro ? ? ) e a última
desconsiderando RS ( 0 RS ? ).
Temos para os dois casos que a condição de fase é alcançada em
1 2
0
1 2
C C
LC C
?
?
? (5.36)
e a condição de ganho em ?0 éMaterial não disponível para publicação
78
? ?
H j 1 0 ? ? R C C S ? ? Lgm 1 2 ? ?1 (5.37)
e
2 0 ? ? 1
2
H j R gmC o 1
C
? ? ? (5.38)
Igualando as equações 5.37 e 5.38, temos
1
0
1
o S
C
? R R
? (5.39)
Multiplicando o numerador e o denominador da equação 5.37 por C1C2, temos
? ?
1 2 2
0
1 2 1 2 1 2
1
S S
LC C gm gm
C C R C C R C C
? ? ? ?
?
(5.40)
Substituindo a equação 5.39 em 5.40, temos que o capacitor C2 deve respeitar a inequação
2
0
o S
gm R
C
? R
? (5.41)
Portanto, temos como equações de projeto do oscilador, o sistema 5.42
1
0
2
0
1
o S
o S
C
R R
gm R
C
R
?
?
?
? ?
???
? ?
?
(5.42)
Aparentemente, C2 pode ser zero, pois o cristal pode representar qualquer valor de reatância
indutiva. Mas nos cálculos acima, não consideramos a resistência de entrada do amplificador, pois é
extremamente elevada. Esta resistência, embora muito alta, e a capacitância parasita no gate dos
transistores, limitam o valor mínimo de C2. Na prática, utilizamos valores C2 próximos de C1.
Os parâmetros Ro e gm não são fornecidos pelos fabricantes, e por isto, o dimensionamento destes
osciladores é feito por estimativa. Em geral, os datasheets provêem aplicações das portas lógicas como
osciladores, e os valores dos capacitores são fornecidos. A ordem de grandeza dos capacitores é de
algumas dezenas de pF.
A análise realizada nesta seção se aplica ao oscilador Colpitts da Fig. 5.16a, quando utilizamos
transistores MOSFET ou JFET no lugar dos bipolares.Material não disponível para publicação
79
Capítulo 6
Modulação de Amplitude
A modulação de amplitude (AM) é uma forma eficiente de codificação do sinal na frequência. É
muito usada nas transmissões de rádio e televisão, e é de simples implementação.
A modulação AM é feita simplesmente alterando a amplitude de uma senoide em alta frequência
(portadora), proporcionalmente a um determinado sinal modulador. Desta forma, a informação é
enviada no entorno da frequência da portadora.
Matematicamente, o sinal AM possui a forma
v t A mf t t ? ? ? ? ? ? ? ? 1 cos ? ? ??0 ? (6.1)
Onde:
? A é a amplitude da portadora ( A t cos??0 ? ).
? m é o índice de modulação, que varia entre 0 e 1.
? f ?t? é o sinal modulador (voz, música, dados, etc...), com módulo máximo igual a 1 e média
zero, ou seja, max 1 f t ? ? ? e f t ? ? ? 0 .
Considerando, como exemplo, f ? ? t t ? sin??m ? , e sendo ?m ??0 , o gráfico de v t ? ? tem a forma
da Fig. 6.1. Podemos observar duas envoltórias de frequência ?m delimitando a portadora em ?0. O
índice de modulação pode ser obtido facilmente do gráfico, sendo
C B
m
C B
?
?
?
(6.2)
Fig. 6.1: Sinal AM no tempo.Material não disponível para publicação
80
O maior índice de modulação 100% m ? é alcançado quando 0 B ? .
A representação do sinal AM no domínio da frequência, é obtida aplicando a transformada de
Fourier ao sinal v t ? ? .
F F 1 cos ? ? ? ? ? ? v t A mf t t ? ? ? ? ? ? ?? ??0 ?? ?
Lembrando que a transformada de Fourier de uma multiplicação no tempo, é uma convolução na
frequência, temos
F F 1 F cos ? ? ? ? 1 ? ? ? ? ? ? 0
2
v t V A mf t t ? ?
?
? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? (6.3)
Aplicando a propriedade de linearidade da transformada à equação 6.3, temos
V m f t t ? ? ? ? ? ? ? ? ? ? ? 2A? ? ? F 1 F F cos ? ? ? ? ?? ? ? ? ? 0
? ? F 1 F cos F F cos ? ? ? ? 0 0 ? ? ? ?
2 2
A Am
V t f t t ? ? ?
? ?
? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ?
? ? ? ? ? ? ? ? ? ? 0 0 0 0 1 ? ? ? ? ? ? ? ?
2
V A AmF ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ?
ou de forma melhor
? ? ? ? ? ? ? ? 0 0 0 0 1 1 ? ? ? ?
2 2
V A AmF AmF ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? (6.4)
onde ? ??? é a função impulso.
Considerando F ? ? ? limitado em frequência, temos o gráfico simbólico da Fig. 6.2. Aplicando as
convoluções da equação 6.4, temos finalmente o espectro de frequências do sinal modulado,
representado na Fig. 6.3. Este tipo de modulação é chamada de AM DSB (Double-Side Band) com
portadora.
Fig. 6.2: Representação do sinal modulador no domínio da frequência.
Fig. 6.3: Representação no domínio da frequência, do sinal modulado.
A potência média do sinal AM PAM está distribuída pela portadora PC e a modulação Pm ,
conforme as equações abaixoMaterial não disponível para publicação
81
2
C 2
A
P ?
? ?
2 2
2
m 2
A m
P f t ?
? ?
2 2 2
2
AM C m 2 2
A A m
P P P f t ? ? ? ? (6.5)
A máxima potência do sinal é alcançada quando 1 m ? , ou seja, 100% de modulação. A potência da
portadora não é aproveitada. Portanto, é comum em alguns sistemas de transmissão, retirar a
portadora, obtendo a modulação AM DSB SC (Supressed Carrier), conforme a Fig. 6.4.
Fig. 6.4: Modulação AM sem portadora (AM-SC).
Ainda com o objetivo de concentrar o máximo de potência na informação, utilizamos a modulação
AM SSB (Single-Side Band), que é obtida eliminando um dos lados do espectro de frequências,
conforme a Fig. 6.5a e b. Em geral, utilizamos filtros mecânicos (cristal, SAW ou cerâmico) de
elevadíssima seletividade, para eliminar um dos lados. Uma técnica mais apropriada para
implementação destes moduladores em circuitos integrados, é a utilização de transformadores de
Hilbert, a capacitores chaveados, para modulação direta do sinal SSB.
(a)
(b)
Fig. 6.5: Modulação AM SSB: a) sem a banda interior; b) sem a banda exterior.
Nos próximos itens, serão apresentados alguns circuitos de moduladores AM.
6.1 Modulador AM de Alto Nível
O circuito sintonizado, como todo amplificador, quando submetido a um sinal de entrada muito
elevado, limita o sinal de saída produzindo distorção harmônica. Entretanto, se o circuito for muitoMaterial não disponível para publicação
82
seletivo, os harmônicos produzidos são filtrados, dando a impressão que não houve corte nem
saturação do transistor. Uma análise cuidadosa mostra que o ganho de tensão tende a zero, com o
aumento do sinal de entrada. O resultado final deste processo, é manter uma senoide com amplitude
limitada na saída do amplificador. O mesmo ocorre com os osciladores, que mantêm a amplitude da
oscilação constante e limitada pela tensão de alimentação. Podemos usar este efeito para construir um
modulador AM, bastando variar a tensão de alimentação proporcionalmente ao sinal modulador.
Considere o circuito da Fig. 6.6. Verificamos facilmente que o transistor Q1 faz parte de um
oscilador Colpitts, em base comum, e é alimentado pelo emissor de Q2. Se polarizarmos Q2 de forma
que a tensão no emissor seja VCC 2 , a amplitude do sinal no coletor de Q1 será VCC 2 , ou seja, a
tensão de coletor variará de zero a VCC; este resultado foi analisado em detalhes no capítulo Capítulo 5.
Ao aplicarmos a tensão AC v t in ? ? à base de Q2, a tensão no emissor será v t V v t e CC in ? ? ? ? 2 ? ? , e
devemos ter o sinal no coletor de Q1 variando de zero a 2v t e ? ? . Assumindo por simplicidade que
v t V t in m m ? ? ? ? ? sin ? , temos que
? ? sin? ?
2
CC
e m m
V
v t V t ? ? ?
Sendo ?0, a frequência de oscilação, muito maior que ?m, teremos no coletor de Q1 o sinal
? ? sin sin cos ? ? ? ? ? ? 0
2 2
CC CC
C m m m m
V V
v t V t V t t ? ? ? ? ? ? ? ? ? ? ?
? ?
A diferença de potencial em L1 é
1 ? ? ? ? ? ? sin cos ? ? ? ? 0
2
CC
L C e m m
V
v t v t v t V t t ? ? ? ? ? ? ? ? ? ?
? ?
e consequentemente, pela relação de espiras do transformador, a saída v t 0 ? ? é
? ? 2 sin cos ? ? ? ? 0
1 2
CC
o m m
N V
v t V t t
N
? ?
? ?
? ? ? ?
? ?
Colocando 2
VCC em evidência na equação acima, temos finalmente que
? ? 2 1 sin cos 2 ? ? ? ? 0
1 2
CC m
o m
CC
N V V
v t t t
N V
? ?
? ?
? ? ? ?
? ?
(6.6)
L1
C2
C1
Ce
Q1
Re
Rb2
Vo(t)
Cb
RL
Vcc
C3
Vin(t)
Rb1
Q2
D
Cv
Rb3
L2
Fig. 6.6: Modulador AM de alto nível.Material não disponível para publicação
83
Comparando a equação 6.6 termo a termo com 6.1, verificamos que
2
1 2
N VCC
A
N
?
e o índice de modulação é
2
m
CC
V
m
V
?
Os cálculos acima, assumem que a razão ?0 ?m é muito grande, de forma que em relação ao
período da portadora ?0 , o sinal modulador comporta-se como uma fonte DC. Considere, por
exemplo, uma portadora em 1MHz e um sinal modulador senoidal em 1kHz. Em um ciclo da
portadora, 1?s, temos um milésimo do período do sinal modulador, praticamente constante.
6.1.1 Considerações de Projeto
Corrente de polarização.
Consideramos em nossa análise que o oscilador possui excursão de sinal máxima simétrica. Para
que isto seja verdade, é necessário que a corrente de coletor de Q1 seja zero quando a tensão for
máxima. Sabendo que a amplitude do sinal AC no coletor é ?V V t CC m m 2 sin ? ? ? ? ? , devemos ter a
corrente de polarização do coletor dada por
? ?
1
sin
2
CC
m m
C
Ceq
V
V t
I
R
? ?
? (6.7)
onde RCeq compreende todas as cargas resistivas em paralelo com L1, inclusive RL refletido.
Fazendo 0
Vm ? , colocamos o circuito em repouso, sem sinal de modulação, e pela equação 6.7,
temos
1 2
CC
Cq
Ceq
V
I
R
? (6.8)
Mas a equação 6.7 mostra que a corrente de coletor deve acompanhar as variações do sinal
modulador. Analisando o circuito da Fig. 6.6, concluímos que a tensão na base de Q2 deve ser
2 2 ? ?
2
CC
b in BEq
V
V v t V ? ? ?
e consequentemente
1 2 ? ? 2
2 1 2
CC b
b in BEq d d
b b
V R
V v t V V V
R R
? ?
? ? ? ? ? ? ?
? ? ? (6.9)
Então, podemos calcular a tensão no emissor de Q1 e consequentemente IC1, de forma que
? ?
1
2
2 1
2 1 2
CC b
in BEq d d BEq
b b
C
e
V R
v t V V V V
R R
I
R
? ?
? ? ? ? ? ? ?
? ? ?
? (6.10)
Assumindo, de forma razoável, que V V V BEq BEq d 1 2 ? ? na equação 6.10, temos
I v t C in 1 ? ? R R R R R R e b b e b b ? ? R1 2 1 2 b b CC ? ? 2 2 ? ? ? ? R V2 (6.11)
Substituindo v t V t in m m ? ? ? ? ? sin ? em 6.11, temosMaterial não disponível para publicação
84
? ?
? ?
? ?
1 1
1 2
2
sin sin
2 2
CC CC
m m m m
C C
e b b Ceq
b
V V
V t V t
I I
R R R R
R
? ? ? ?
? ? ?
?
(6.12)
Vemos da equação 6.12, que a condição imposta por 6.7 é facilmente atendida.
A tensão no emissor de Q1 deve ser pequena, em torno de 1V, para não limitar a excursão de sinal
no coletor.
Capacitor C3.
O capacitor C3 deve ser um bypassing para o sinal modulador. Devemos escolher uma frequência
?C3 abaixo da mínima de
v t in ? ? e calcular
3
3 3
1
C C
C
? R
? (6.13)
onde RC3 é a resistência vista por C3. Uma análise detalhada do circuito, mostra que
? ? ? ? ? ?? ?
3
2
3 1 2 2 1 2 1 1
1
1 1
// 1 1
C
b
b e b b b b ie e
R
R
R R R R R R h R ? ?
?
? ?
? ? ? ? ?
(6.14)
Capacitor Cb.
Cb deve ser um bypassing para a frequência da portadora ?0, e um circuito aberto para a maior
frequência de v t in ? ? . Devemos escolher uma frequência ?Cb dentro deste intervalo e calcular
1
b
Cb Cb
C
? R
? (6.15)
onde a resistência RCb vista por Cb é
RCb b b ie e ? ? ? R R h R 1 2 1 1 // // 1 ? ?? ? ? (6.16)
Capacitor Ce.
Ce deve ser um bypassing para a frequência da portadora ?0, e um circuito aberto para a maior
frequência de v t in ? ? . Portanto, devemos escolher uma frequência ?Ce dentro deste intervalo e calcular
1
2
2
1
1
Cq
e
ie Ce T
Ce
I
C
h ? V
?
?
? ?
?
(6.17)
Um cuidado especial deve ser tomado durante a escolha de Ce. O capacitor se carrega através do
emissor de Q2, que possui impedância muito pequena, mas se descarrega através de Q1, pois Q2 não
consegue drenar corrente. O transistor Q1 atua como fonte de corrente, e com valor
? ?
? ?
1
sin
2
CC
m
C
Ceq
V
V t
I t
R
? ?
? (6.18)
Portanto, Ce se descarrega através de uma fonte de corrente de valor IC1, e para Q2 permanecer
sempre conduzindo, é necessário que a corrente Ie2 seja sempre positiva. Então, devemos ter que
I t I t I t e C C 2 1 ? ? ? ? ? ? ? e ? ? 0 (6.19)
Sabendo queMaterial não disponível para publicação
85
I t C C C V t C e e e m e ? ? dv t dv t Ce in ? ? ? ? cos? ?
dt dt
? ? ?? ? (6.20)
Substituindo as equações 6.18 e 6.20 em 6.19, temos
? ?
? ?
2 ? ?
sin
2
cos 0
CC
m
e e m
Ceq
V
V t
I t C V t
R
?
? ?
?
? ? ? (6.21)
Assumindo que a frequência máxima do sinal modulador é ?m, a condição I t e ? ? ? 0 é alcançada,
para todo t, quando
2 2 4 1 1 4? ?2
2
CC m Cq m CC
e e
m m Ceq m m
V V I V V
C C
? ? V R V
? ?
? ? ? (6.22)
Em geral, neste tipo de modulador, as equações 6.17 e 6.22 são atendidas somente quando a razão
?o m ? é muito elevada. Quando a equação 6.22 não é satisfeita, em algum momento, o transistor Q2
corta, e a forma de onda do sinal modulado aparece distorcida, conforme a Fig. 6.7.
Uma forma mais eficiente de implementação deste tipo de modulador, onde não ocorre o problema
do descarregamento de Ce, é a utilização de transistores na configuração push-pull no lugar de Q2,
conforme a Fig. 6.8. Desta forma, as correntes de carga e descarga de Ce são fornecidas e drenadas por
Q2 e Q3 respectivamente, e somente a equação 6.17 deve ser atendida.
Fig. 6.7: Sinal de saída do modulador AM com distorção.Material não disponível para publicação
86
Vo(t)
C2
Cv
C1
L2
D
D1
Q2
RL
Rb2
Q1
Rb1
Q3
C3 Ce
Vcc
Cb
Rb3
D2
Vin(t)
Re
L1
Fig. 6.8: Modulador AM de alto nível, em configuração push-pull.
6.2 Modulador AM de Alto Nível com Amplificador Classe C
Quando desejamos um sinal modulado em AM com elevada potência, por exemplo um transmissor,
podemos realizar a modulação diretamente em um amplificador classe C. Conforme analisado
anteriormente, estes amplificadores possuem a amplitude do sinal de saída determinada pela fonte de
alimentação. A Fig. 6.9 é um exemplo de modulador, onde a carga sintonizada é uma rede de
casamento de impedâncias.
A tensão de alimentação do amplificador classe C é modulada pela fonte de sinal v t in ? ? , através do
estágio de saída em push-pull, formado por Q2 e Q3, que se torna necessário devido à elevada potência
fornecida ao amplificador.
As considerações de projeto são as mesmas feitas anteriormente, sendo que neste caso, a portadora
é gerada pela fonte v t V t C C o ? ? ? ? ? cos ? .
Ce
Q3
L2
Vcc
Vo(t)
RL
D2
Q1
L1
Lb
C2
C1
Vc(t)
Rb1
Q2
Cb
Rb2
D1
Vin(t)
C3
Fig. 6.9: Modulador AM com amplificador classe C.Material não disponível para publicação
87
6.3 Modulador Chopper
O modulador chopper consiste simplesmente em multiplicar o sinal modulador v t in ? ? por uma
onda quadrada, sem nível negativo, na frequência ?0. Após a multiplicação, o sinal é filtrado por um
amplificador sintonizado, conforme a Fig. 6.10. A operação de multiplicação é realizada por uma
chave analógica SW, que interrompe o sinal v t in ? ? , controlada por uma forma de onda quadrada
v t C ? ? , na frequência ?0, e com amplitude VC.
Vc(t)
+ _
Vo(t)
Filtro
CHAVE
portadora
da
Va(t)
freqüência
na
s intonizado
Vin(t)
R
Va(t)
Fig. 6.10: Modulador chopper.
A tensão v t a ? ? é equivalente ao produto
v t v t S t a in ? ? ? ? ? ? ? (6.23)
onde
? ? ? ?
? ?
0, para 0
1, para
C
C C
v t
S t
v t V
?? ?
? ?
? ? ?
Supondo S t ? ? uma onda quadrada simétrica e com frequência igual a ?0, podemos representá-la
pela séria de Fourier
? ? ? ?
S t n t ? ? ? 1 2 2 2 1 ? ?n??0 ? ? ? ?? ? ?n1?n cos 2 1 ? ? ? ??0 ? ? ? ? (6.24)
Substituindo a equação 6.24 em 6.23, temos
? ? ? ? ? ?
v t v t n t a in ? ? ? v t in2 2 1 ?2 ?n??0 ? ? ? ?? ? ?n1?n ? ? ? ? cos 2 1 ? ? ?0 ? ? ? ? (6.25)
Sendo a saída obtida através de um filtro sintonizado em ?0, somente a componente em 0 n ? da
equação 6.25 é selecionada, ou seja,
v t v t t o in ? ? 2A ? ? ? ? cos ?0
?
? (6.26)
onde A é o ganho do circuito sintonizado. A Fig. 6.11 representa as formas de onda nas várias etapas
do modulador.
O modulador chopper admite a modulação AM sem portadora.Material não disponível para publicação
88
Fig. 6.11: Formas de onda do modulador chopper.
6.3.1 Exemplo de Circuito
Um circuito prático para implementação do modulador chopper encontra-se na Fig. 6.12. Os diodos
atuam como chave analógica, desviando o sinal v t in ? ? para o terra, sob o comando de v t C ? ? . Desta
forma, geramos a tensão v t a ? ? , conforme o diagrama da Fig. 6.10, que é amplificada e filtrada pelo
amplificador sintonizado em ?0.
Para entendermos melhor o funcionamento do circuito, consideremos o modelo AC da Fig. 6.13.
Assumindo que o transformador tenha relação de espiras um para um, sem perda de generalidade, a
fonte v t C ? ? é refletida para o secundário, ficando em uma posição simétrica na malha de diodos.
Quando v t C ? ? é positiva, duas correntes de malha, I1 e I2, são criadas, e circulam pelos diodos criando
as quedas de potencial Vd. É fácil verificar que a tenção de base do transistor é zero neste momento,
caracterizando a condição de chave fechada. Entretanto, quando v t C ? ? é negativa, os diodos
polarizam-se reversamente, tornando-se abertos. Nesta condição, a malha de diodos pode ser retirada
do circuito, caracterizando a condição de chave aberta, deixando a fonte v t in ? ? ligada à base através
do resistor R1.Material não disponível para publicação
89
Vc(t)
Re
D2
Vo(t)
L
D3
-VEE
VCC
Va(t)
Vin(t)
RL
D4
Q
R1
R2
D1
C
Fig. 6.12: Circuito de modulador chopper.
R1
Vin(t)
L
Q
+ _
Vd
+ _
Vd
Va(t)
D3
Re
D2
I2
D4
I1
D1
Vo(t)
+ _
Vd
R2
+ _
Vd
Vc(t) C RL
Fig. 6.13: Modelo AC do modulador chopper.
Ao passo em que o módulo de v t in ? ? aumenta, duas correntes, I3 e I4, aparecem no circuito,
conforme a Fig. 6.14. Estas correntes estão em sentido contrário às correntes de malha, nos diodos D1
e D4, ou D2 e D3, dependendo do sentido de I3 e I4. Isto pode despolarizar um par de diodos, levando a
chave à condição aberta, impedindo o funcionamento correto do circuito.
I3
Re
I2
RL
+ _
Vd
+ _
Vd
+ _
Vd
R1
I4
I1
Vin(t)
Vo(t)
C
D2
R2
D1
Va(t)
+ _
Vd
D3
L
D4
Q
Vc(t)
Fig. 6.14: Limite de operação do modulador chopper.
Assumindo, por considerações de simetria, que I I I 1 2 ? ? x e I I I 3 4 ? ? y , para que os diodos D1 e
D4 continuem conduzindo, e a chave permaneça na condição fechada, devemos ter
0
I I x y ? ? (6.27)Material não disponível para publicação
90
Temos também que
2 2
2
C d
x
V V
I
? R
? (6.28)
2 1
m
y
V
I
R
? (6.29)
onde VC e Vm são as amplitudes de v t C ? ? e v t in ? ? respectivamente.
Substituindo as equações 6.28 e 6.29 em 6.27, temos que
1 ? ?
2
2
m C d
R
V V V
R
? ? (6.30)
O mesmo resultado é obtido para v t in ? ? negativa, e podemos expressar a condição 6.30 de forma
mais genérica como
? ? 1 ? ?
2
2
in C d
R
v t V V
R
? ? (6.31)
O circuito possui seletividade dada por
L 0
C
R
Q
? L
? (6.32)
e o módulo do ganho na frequência de ressonância ?0 é
? ?
0 ? ? 1 ? ? 1
L
ie e
R
H j
R h R
?
?
?
?
? ? ?
(6.33)
e a tensão v t o ? ? é dada por
v t v t t o in ? ? 2 H j ? ?0 ? ? ? ? ? cos ?0
?
? (6.34)
6.4 Modulação AM por Dispositivo Não Linear
Esta técnica consiste em somar os sinais modulador v t in ? ? e portadora v t C ? ? , e aplicá-los a um
dispositivo não linear. Desta forma, obtemos um sinal v t a ? ? que é composto por uma série de termos,
e dentre eles algumas multiplicações cruzadas v t v t in C ? ?? ? ? . O sinal v t a ? ? é filtrado por um
amplificador seletivo, sintonizado na frequência da portadora ?0, e obtemos
v t A mf t t o ? ? ? ? ? ? ? ? 1 cos ? ? ??0 ? . O fluxograma da Fig. 6.15 ilustra o procedimento.
Fig. 6.15: Fluxograma do modulador.
Podemos expandir a função não linear Y v t v t ? ? in C ? ? ? ? ? ?? em uma série de potências e obter
? ? ? ? ? ? 0 ? ?
1
N
n
a n in C
n
v t a a v t v t
?
? ? ? ? ?
?? ? (6.35)Material não disponível para publicação
91
Considerando v t V t C C ? ? ? ? ? cos ?0 , a expansão da equação 6.35 gera uma sequência contendo
termos de cos? ? ?0t n , sendo que n varia de 1 a N. Podemos separar as potências dos cossenos em pares
e ímpares e aplicar a expansão
? ?
? ?
? ? ? ?
? ?
2
0 2 0
1
0 1 2
2 1 0
0
cos 2 , para par
cos
cos 2 1 , para ímpar
n
k
n k
n
k
k
b b k t n
t
b k t n
?
?
?
?
?
? ?
?
? ?
?
? ? ?
?
?
?
?
?
(6.36)
onde verificamos que somente para valores ímpares de n temos os termos de primeira ondem de
cos? ? ?0t . Sendo H j ? ? ? um filtro sintonizado em ?0, somente os termos em cos? ? ?0t são
selecionados. Portanto, temos que o sinal de saída é
v t H j f v t t o in ? ? ? ? ?0 0 ? ? ? ??cos?? ? (6.37)
onde f ?v t in ? ?? é uma função que aglutina todas as componentes v t in ? ?n . Na Tabela 6.1 temos os
valores de f ?v t in ? ?? para N variando de 2 a 4. Podemos constatar que somente para N igual a 2 temos
f ?v t in ? ?? linear, e para valores maiores do que 2 a afunção é não linear. Esta técnica de modulação é
ideal para dispositivos regidos por funções quadráticas, tais como JFET e MOSFET. Transistores
bipolares são regidos por funções exponenciais, com infinitos termos na série de potências ( N ? ? ), e
produzem uma modulação com distorção harmônica.
Tabela 6.1: Valores para f ?v t in ? ?? em função de N.
N f ?v t in ? ??
2 2a V v t a V 2 1 C in C ? ? ?
3 a V a V a V v t a V v t 1 3 2 3 C C C in C in ? ? ? 0.75 2 3 3 ? ? ? ?2
4 a V a V a V a V v t a V v t a V v t 1 3 2 4 3 4 C C C C in C in C in ? ? ? ? ? 0.75 2 3 3 4 3 3 ? ? ? ? ? ? ? ? 2 3
Considerando o caso quadrático ( N ? 2 ) e substituindo f ?v t in ? ?? em 6.37 temos o sinal de
modulação de amplitude dado por 6.38. Este tipo de modulador também aceita a modulação AM sem
portadora, bastando fazer a1 ? 0 . Para os casos onde 2 N ? podemos truncar a série de potência em
N ? 2 , e utilizar a equação 6.38, mas sempre tendo em mente que a modulação possui distorção
harmônica.
? ? ? ? 1 0 0 2 ? ? ? ?
1
2
1 cos
o C in
a
v t a V H j v t t
a
? ?
? ? ? ?
? ?
? ? (6.38)
6.4.1 Implementação com JFET
O circuito da Fig. 6.16 é uma forma prática de implementação do modulador AM, que utiliza um
JFET como elemento não linear. Sabemos que a corrente de dreno Id do JFET se relaciona com a
tensão entre gate e source Vgs, segundo a relação quadrática
2
1 gs
d DSS
P
V
I I
V
? ?
? ? ? ? ? ?
? ?
(6.39)Material não disponível para publicação
92
Vc(t)
1 : 1
C
L1 L2
N1 : N2
RL
Id
Vo(t)
Vcc
|Vp|
Vin(t)
Q
Fig. 6.16: Modulador AM com JFET.
No circuito da Fig. 6.16, temos que
V v t V v t gs in P C ? ? ? ? ? ? ? (6.40)
Substituindo a equação 6.40 em 6.39, temos
? ? ? ? 2 ? ? ? ? ? ? ? ? 2 2
2
2
in C in in C C
d DSS DSS
P P
v t v t v t v t v t v t
I I I
V V
? ? ? ? ? ? ?
? ? ? ? ? ? ? ? ? ? ? ? ? ? (6.41)
Considerando amplificador sintonizado na frequência ?0, e v t V t C C ? ? ? cos??0 ? na equação 6.41,
somente o termo em cos??0t? é selecionado, de forma que a tensão AC no dreno é
? ? ? ? ? ?
2
2 0
2 1
cos
2
DSS C L
d in
P
I V R N
v t v t t
V N
?
? ?
? ? ?
? ?
e pela relação de espiras, temos que a tensão v t o ? ? é
? ? 2 2 1 ? ? ? ? cos 0
2
DSS C L
o in
P
I V R N
v t v t t
V N
?
? ?
? ? ?
? ? (6.42)
Observe que Vgs deve ser sempre maior que VP , obrigando v t in ? ? ter nível DC diferente de zero.
Portanto, teremos obrigatoriamente modulação com portadora.
Se tivermos v t V mf t in m ? ? ? ? ?1 ? ?? , a equação 6.42 torna-se
? ? 2 2 1 ? ? 1 cos ? ? ? ? 0
2
DSS C m L
o
P
I V V R N
v t mf t t
V N
?
? ?
? ? ? ?
? ? (6.43)
Podemos notar facilmente que as equações 6.43 e 6.42 representam a modulação AM com e sem
portadora, respectivamente.
Este circuito não gera distorção apreciável, pois o dispositivo não linear é de ordem 2, ou seja,
n ? 2 .
6.5 Multiplicador Analógico - Célula de Gilbert
Os multiplicadores analógicos de quatro quadrantes são dispositivos muito empregados em
modulação e demodulação de amplitude, circuitos de mixers, multiplicadores de frequência, detectores
de fase, circuitos de processamento de sinais, etc. Uma topologia muito comum para implementação
destes dispositivos é a célula de Gilbert, devido à sua elevada linearidade. O circuito da Fig. 6.17 é
uma célula de Gilbert padrão, implementada em circuito integrado. A célula é composta por doisMaterial não disponível para publicação
93
amplificadores diferenciais, cujas correntes de polarização são controladas por um sinal externo. As
correntes do circuito estão indicadas na figura.
Considerando os transistores idênticos, e com ? muito elevados, temos que
y
y
e
V
I
R
? (6.44)
Chamando gm1 e gm2 as transcondutâncias dos pares diferenciais 1 e 2, respectivamente, as
correntes I2, I3, I4 e I5 são facilmente calculadas pelo sistema
1
2 1
1
3 1
1
4 2
1
5 2
2 2
2 2
2 2
2 2
y x
y x
y x
y x
I I V
I gm
I I V
I gm
I I V
I gm
I I V
I gm
? ?
? ? ?
?
? ?
? ? ? ?
?
? ?
? ? ?
?
? ?
? ? ? ?
(6.45)
As correntes IA e IB que circulam pelas cargas são dadas por
? ?
? ?
2 4 1 2 1
5 3 1 1 2
x2 2
A
x
B
V
I I I I gm gm
V
I I I I gm gm
?
? ? ? ? ? ? ?
??
? ? ? ? ? ? ?
(6.46)
Fazendo a aproximação de pequenos sinais para a transcondutância dos transistores, ou seja,
gm I V ? Cq T , temos
1
1
1
2
2 2
y
T
y
T
I I
gm
V
I I
gm
? V
?
? ?
? ?
? ?
? ? ?
(6.47)
Substituindo as equações 6.47 em 6.46, temos
1 1
x2 2
y
A
T
x y
B
T
V I
I I
V
V I
I I
V
?
? ? ?
???
? ? ? ?
(6.48)
Finalmente, substituindo a equação 6.44 em 6.48, temos para as correntes nas cargas
1 1
2 2
x y
A
e T
x y
B
e T
V V
I I
R V
V V
I I
R V
?
? ? ?
???
? ? ?
?
(6.49)Material não disponível para publicação
94
+ I1+Iy
_
Vy
IA
Vo2
Vcc
I1
2
I3
1
RL
Vo1
+ _
Vx
Re
I4
I5
Iy
RL
I1
IB
-Vee
I1-Iy
I2
Fig. 6.17: Célula de Gilbert.
Conhecendo as correntes IA e IB, podemos calcular as tensões de saída Vo1 e Vo2, ou seja,
1 1
2 1
2 2
L
o CC L A CC L x y
e T
L
o CC L B CC L x y
e T
R
V V R I V R I V V
R V
R
V V R I V R I V V
R V
?
? ? ? ? ? ?
???
? ? ? ? ? ? ?
(6.50)
A saída no modo diferencial
V V o o 1 2 ? é obtida facilmente da equação 6.50 como
1 2
L
o o x y
e T
R
V V V V
R V
? ? (6.51)
onde verificamos a operação de multiplicação de dois sinais.
Devemos avaliar com cautela a amplitude máxima do sinal Vx, para que não haja corte dos
transistores dos pares diferenciais 1 e 2. Admitindo a variação máxima de uma década nas correntes
dos coletores, por exemplo I I I 3 4 1 ou y ? ? 0.05? ? e I I I 2 5 1 ou y ? ? 0.95? ? , ou vice-versa, aplicando a
relação exponencial entre a corrente de coletor e a tensão base-emissor I I e C S ? VBE 0.026 , temos que
max 77
V mV x ? (6.52)
Um modulador AM implementado com célula de Gilbert é apresentado na Fig. 6.18. Os
transformadores T1 e T2 são indutores acoplados, e são usados para obter a saída v t o ? ? no modo
diferencial e aplicar o sinal da portadora v t C ? ? também no modo diferencial. A fonte de tensão Vb
polariza as entradas diferenciais.Material não disponível para publicação
95
N1
-Vee
Vc(t)
I1
T2
Vb
RL
N4
C
T1
N1
Vin(t)
N2
I1
N3
Vo
Vcc
Re
N3
Fig. 6.18: Modulador AM com célula de Gilbert.
Podemos representar o circuito no modelo AC, conforme a Fig. 6.19, fazendo as reflexões de
impedâncias e fontes de sinal convenientes.
Considerando o circuito sintonizado em
?0 2 ?1 L C , pela equação 6.51 temos que na frequência
de ressonância, a tensão de saída é
? ? 2 3 1 ? ? ? ?
4 2
L
o in C
e T
N N R
v t v t v t
N N R V
? (6.53)
Assumindo v t V t C C ? ? ? ? ? cos ?0 e v t V mf t in m ? ? ? ? ?1 ? ?? , temos finalmente que
? ? 2 1 cos 3 1 ? ? ? ? ? ? 0
4 2
L C m
o
e T
N N R V V
v t mf t t
N N R V
? ? ? (6.54)
Verificamos pelas equações 6.53 e 6.54, que este circuito admite as modulação AM com ou sem
portadora.Material não disponível para publicação
96
2
2RL(N1/N2)
2N1
2
2RL(N1/N2)
C
Re
Vo
L2
2 ________ N3Vc(t)
N4
Vin(t)
N2
Fig. 6.19: Modelo AC do modulador AM com célula de Gilbert.Material não disponível para publicação
97
Capítulo 7
Demodulação AM
A demodulação consiste em recuperar o sinal modulador, em um canal de rádio, por exemplo, cuja
portadora encontra-se na frequência ?0; é o processo inverso da modulação.
Podemos destacar basicamente dois tipos de demoduladores AM: os de detecção de envoltória; os
demoduladores síncronos. Os demoduladores baseados em detecção de envoltória se dividem em
detectores de pico e média, e são usados nos sinais AM com portadora e banda estreita. Os
demoduladores síncronos são empregados na demodulação dos sinais AM SSB (single-side band) e
AM SC (supressed carrier).
7.1 Demodulador por Detecção de Pico de Envoltória
Este circuito é essencialmente um retificador de meia onda com filtro capacitivo, conforme a Fig.
7.1. O sinal v t in ? ? modulado em AM é retificado pelo diodo D, e em seguida aplicado a um filtro
capacitivo RC, que interpola os pontos de máximo da portadora, conforme mostrado na Fig. 7.2. O
sinal AM deve possuir portadora, para que a envoltória nunca troque de sinal. A frequência da
portadora ?0 deve ser muito maior que a da envoltória ?m. Isto assegura que a amplitude da portadora
é aproximadamente constante, quando observada em uma escala de tempo da ordem de grandeza do
seu período.
A constante
? ? RL L C deve ser escolhida com base na frequência máxima da envoltória ?m e a
frequência da portadora ?0. Para que os picos da portadora sejam interpolados, devemos ter
? ? 2? ?0 . Entretanto, para que os picos da envoltória não sejam interpolados, devemos ter
2
? ? ? ?m . De forma geral temos que
2 2 ? ? ? ? ? 0 ? ? m (7.1)
A inequação 7.1 obriga que as frequências da portadora e da envoltória sejam muito distantes, pelo
menos uma década. Uma forma prática para determinar ?, é a média geométrica, ou seja,
0
2
m
?
?
? ?
? (7.2)
CL
Vin(t)
D
Vo(t)
RL
Fig. 7.1: Demodulador AM por detecção de pico de envoltória.Material não disponível para publicação
98
Fig. 7.2: Sinal AM demodulado.
O demodulador AM, em geral, atua como carga para um filtro sintonizado, cuja função é selecionar
e amplificar a faixa de frequências desejada. A Fig. 7.3 é um exemplo deste circuito. Devemos
considerar que a carga RL é importante também na determinação da seletividade do filtro.
L2
Vo(t)
D
RL
Vin(t)
Q
C
Ce
R1
Cb
Re
L1
V1(t)
R2
CL
Fig. 7.3: Filtro sintonizado, com demodulador AM.
Para determinarmos a resistência equivalente do demodulador, vista pelo indutor L2, consideremos
as potências médias Pin , entregue ao demodulador, e
PRL entregue à carga RL, conforme a Fig. 7.4.
Consideremos também que o diodo D é ideal, tendo tensão de condução igual a zero. Desta forma,
pelo princípio de conservação de energia, devemos ter
P P in R ? L . Analisando os sinais na base de
tempo da portadora, temos que v t in ? ? é senoidal com amplitude constante, ou seja,
v t V t in C ? ? ? ? ? cos ?0 . Após a retificação e a filtragem, v t o ? ? é uma tensão constante de valor VC.
Chamando R
eq a resistência observada pela fonte v t in ? ? , temos os valores das potências são
2
2
C
in
eq
V
P
R
? (7.3)
2
L
C
R
L
V
P
R
? (7.4)
Impondo a igualdade
P P in R ? L às equações 7.3 e 7.4, temos finalmente que
L2
eq
R
R ? (7.5)Material não disponível para publicação
99
CL
PRL
Vin(t) Vo(t)
Pin
D
RL
Fig. 7.4: Potências de entrada e saída do demodulador.
O capacitor CL permanece o tempo todo praticamente carregado com o valor máximo de tensão.
Sendo a variação de tensão em CL quase nula, a corrente
i C dV dt C L CL L ? é aproximadamente zero, e
por este motivo CL não é percebido pela fonte v t in ? ? .
Devemos observar alguns aspectos relativos ao diodo.
O diodo possui potencial de junção Vd, e desta forma, v t in ? ? deve ter amplitude suficientemente
grande para vencê-lo. Se Vd não for compensado, a envoltória deve ter valor V V min ? d . Caso contrário,
devemos usar um circuito de compensação como o da Fig. 7.5. Assumindo que as tensões de junção
dos diodos D e D1 sejam iguais, o circuito de polarização formado por R1, R2 e D1, coloca o diodo
detector no limiar de condução. O capacitor C1 é necessário para estabelecer o aterramento nas
frequências de trabalho. Podemos escolher C1 pela equação 7.6, onde ?min é a menor frequência da
envoltória.
1
min 1 2
1
//
C
? R R
? (7.6)
O diodo detector D deve ser capaz de retificar sinais de alta frequência, e por isto, são componentes
rápidos e de baixas capacitâncias parasitas. É comum usar diodos de germânio para este fim, devido à
sua baixa tensão de junção (aproximadamente 0.3V).
Fig. 7.5: Demodulador AM com compensação para Vd.
7.2 Demodulador AM por Detecção de Valor Médio de Envoltória
Este tipo de detector simplesmente retifica o sinal AM e o aplica a um filtro passa-baixas.
Escolhendo a frequência de corte no intervalo entre a máxima frequência da envoltória ?m e a
portadora ?0, as componentes de alta frequência são eliminadas, restando somente a envoltória.
O circuito da Fig. 7.6 é um exemplo de demodulador. O sinal v t in ? ? é retificado pelo diodo D, e
aplicado ao filtro passa-baixas RLCL através de uma fonte de corrente controlado por corrente.
Considerando v t A mf t t in ? ? ? ? ? ? ?1 cos ? ??0 ?, temos queMaterial não disponível para publicação
100
? ? ? ? ? ? ? ? ? ?
? ?
0 0
0
1 cos ; para cos 0
0; para cos 0
d in
A
mf t t t
i t R
t
? ?
?
?
? ? ?
? ?
?
? ?
(7.7)
Fig. 7.6: Circuito do detector de valor médio de envoltória.
A forma de onda de i t d ? ? está representada na Fig. 7.7, e pode ser matematicamente expressa por
d ? ? ? ? 1 cos ? ? ? ? ? ? 0
in
A
i t mf t t S t
R
? ? ? (7.8)
onde S t ? ? é a função amostragem, representada na Fig. 7.8.
Fig. 7.7: Forma de onda de i t d ? ? .
Fig. 7.8: Função amostragem.
A função S t ? ? pode ser representada pela série de Fourier como
? ? ? ?
S t n t ? ? ? 1 2 2 2 1 ? ?n??0 ? ? ? ?? ? ?n1?n cos 2 1 ? ? ? ??0 ? ? ? ? (7.9)
Substituindo a equação 7.9 em 7.8, temos que
? ? ? ? ? ? ? ? ? ?
i t mf t t n t d ? ? ? ? R n Ain 1 cos cos 2 1 ? ? ? ? ? ? ? ? cos 1 2 2 1 ?0t ?2 ?n??0 ? ? ? ?? ? ? ?n ? ? ? ? ? ? 0 0 ? ?? ? ? ? (7.10)
Aplicando a propriedade trigonométrica cos cos cos cos 2 ?a b a b a b ? ? ? ? ? ? ? ? ? ? ? ?? à equação
7.10, e multiplicando por ?, obtemos
? ? ? ? ? ? ? ? ? ?
? ?
0 ? ? ? ? ? 0 0 ? ??
0
cos 1 2 cos 2 cos 2 1
1
2 2 1 2
n
d
in n
A t n t n t
i t mf t
R n
? ? ? ?
?
? ?
?
? ? ? ? ? ?
? ? ? ? ? ? ? ?
? ? ? ? ?
? ? ? ?
? (7.11)Material não disponível para publicação
101
Dimensionando a frequência de corte do filtro passa-baixas RLCL suficientemente abaixo de ?0,
para que todas as componentes próximas a ?0 sejam eliminadas, pela equação 7.11 verificamos que
somente o termo em 0 n ? é selecionado, e obtemos finalmente
o ? ? L ? ? 1 ? ?
in
AR
v t mf t
R
?
?
? ? (7.12)
O coeficiente 1 ? na equação de v t o ? ? é o valor médio do cosseno retificado em meia onda. Por
isto, este demodulador é chamado de detector de valor médio.
O circuito da Fig. 7.9 é uma implementação prática do detector de média de envoltória. O modelo
AC é idêntico ao da Fig. 7.6, sendo que neste caso 1 ? ? , pois o transistor PNP encontra-se na
configuração base comum. Devemos considerar, no dimensionamento do circuito, a tensão de junção
base-emissor do transistor.
Q
Rin
RL
Vo(t)
Vin(t) CL
Fig. 7.9: Implementação do detector de média de envoltória.
É interessante observar que, no exemplo, utilizamos um filtro passa-baixas de primeira ordem, com
atenuação de 20dB por década na faixa de rejeição. Entretanto, podemos usar um filtro de ordem mais
alta, com atenuação elevada e frequências de corte e rejeição muito próximas, permitindo que a
frequência máxima da envoltória ?m seja próxima da portadora ?0, conforme ilustra a Fig. 7.10. O
mesmo não pode ser feito com detector de pico de envoltória.
Fig. 7.10: Demodulador com filtro passa-baixas de ordem alta.
7.3 Detector Síncrono
Os detectores síncronos são usados para demodular sinais AM sem portadora. O diagrama de
blocos de um detector síncrono está representado na Fig. 7.11.
R
Vc(t)
Vo(t)
Multiplicador
Analógico
C
V1(t)
Vin(t)
Fig. 7.11: Diagrama de blocos do detector síncrono.
Neste tipo de demodulador, v t C ? ? é um oscilador com frequência idêntica à portadora e com a
mesma fase. Desta forma temos queMaterial não disponível para publicação
102
v t Af t t in ? ? ? ? ?cos??0 ?
e
v t A t C C ? ? ? cos??0 ?
A multiplicação de v t in ? ? por v t C ? ? é realizada por uma célula de Gilbert, onde obtemos
1 ? ? ? ? ? ?cos 2 ? 0 ?
2 2
AA f t AA f t t C C
v t
?
? ? (7.13)
Dimensionando a frequência de corte do filtro passa-baixas RC, muito menor que ?0, somente o
termo AA f t C ? ? 2 de v t 1? ? é selecionado, e temos então que
? ? ? ?
2
C
o
AA f t
v t ? (7.14)
Este tipo de demodulador necessita de um mecanismo de sincronismo de frequência e fase do
oscilador com a portadora. Normalmente, em determinados intervalos de tempo, é enviada uma
amostra da portadora para sincronizar o oscilador.
Um exemplo onde este processo ocorre, é na transmissão do sinal de cor de TV, que é modulado
em AM SC. Durante o pulso de apagamento horizontal é enviada uma amostra da portadora de cor
(burst), que serve para sincronizar o oscilador a cristal de 3.56MHz.Material não disponível para publicação
103
Capítulo 8
Modulação de Frequência e Fase
Nos moduladores AM, a informação é transmitida através de alterações na amplitude da portadora.
Qualquer perturbação no meio de propagação do sinal pode provocar atenuações na portadora, que são
interpretadas como modulação indesejável, ou seja, interferência. Entretanto, se a informação for
transmitida pelas variações de fase da portadora, as oscilações de amplitude são irrelevantes.
As modulações de frequência (FM) e fase (PM) são basicamente o mesmo processo, consistindo
simplesmente em alterar a fase de uma portadora, segundo um sinal modulador.
8.1 Modulação de Fase (PM)
O sinal modulado em fase possui a forma geral da equação 8.1.
y t A t t ? ? ? ? C cos?? ? 0 ? ?? (8.1)
O ângulo instantâneo é dado por
? ? ? ?t t t ? ? ? 0 ? ?
sendo ? ? ? t diretamente dependente do sinal modulador f ?t? , ou seja,
? ? ?t f t ? ? ? ? ?
onde ?? é o máximo desvio de fase, e está limitado por
0 ? ? ? ? ?
O sinal modulador f ?t? deve ser limitado em f t ? ? ?1. Isto garante um desvio de fase entre ??
e ? . Desvios de fase maiores que ? devem ser evitados, pois o ângulo ? ?? é equivalente a ? ? ? ? ,
e ? ? ? ? equivale a ? ?? . Isto gera uma ambiguidade na modulação, e não podemos ter excesso de
modulação de fase, pois a informação se perde.
Portanto, o sinal modulado em fase linear tem a forma
y t A t f t ? ? ? ? ? ? ? ? ? C cos 0 ??0 ? ? ? ? ??
8.2 Modulação de Frequência (FM)
O sinal modulado em frequência possui a forma geral da equação 8.2.
y t A t A t t ? ? ? ? ? C C cos cos ?? ? ? ? ?? ? 0 ? ?? (8.2)
Observe que as equações 8.1 e 8.2 são idênticas, e a diferença entre as modulações PM e FM está
no ângulo ? ? ? t .Material não disponível para publicação
104
Sabemos que a frequência é a derivada da fase no tempo, e aplicando este conceito à equação 8.2,
temos que a frequência de y t ? ? é dada por
? ? t d t d t ? ? 0 ? ?
dt dt
? ?
? ? ? ? ? (8.3)
Verificamos que ? ?t? possui um termo constante, que é a frequência da portadora, e outro
dependente do tempo, que é a modulação. Podemos interpretar d t dt ? ? ? como sendo a variação de
frequência em torno da portadora. Assumindo que a modulação FM é linear, devemos ter
? ?
d t f ? ? t
dt
?
? ?? (8.4)
onde f ? ? t é o sinal modulador e ?? o desvio de frequência. Da mesma forma que na modulação AM,
devemos ter f t ? ? ? 0 e f t ? ? ?1.
Substituindo a equação 8.4 em 8.3, temos que
? ? ? ?t f t ? ? ? ? 0 ? ? (8.5)
Integrando ?? ? t no tempo, temos o ângulo ? ?t? de y t ? ? , ou seja,
? ? 0 ? ?
t
? t t f d ? ? ? ? ? ? ? ? (8.6)
Para determinação das características da modulação FM, consideremos f ?t t ? ? cos??m ? , e
aplicando esta condição à equação 8.6, temos
? ? 0 0 sin sin ? ? ? ? m m
m
t t t t t
?
? ? ? ? ? ?
?
?
? ? ? ? (8.7)
onde a constante
? ? ?? ?m é o índice de modulação.
Substituindo a equação 8.7 em 8.2, temos
y t A t t ? ? ? ? C m cos sin ?? ? ? 0 ? ??
ou de forma equivalente
y t A t t t t ? ? ? ? ? ? C m m ? ? ? ? cos cos sin sin sin sin ? ? ? ? ? ? 0 0 ? ? ?? ? ? ? ? ?? (8.8)
Podemos representar as funções cos sin ?? ? ? mt?? e sin sin ?? ? ? mt?? pelas suas séries de Fourier
como
? ? ? ? 0 2 ? ? ? ? ? ?
1
cos sin 2 cos 2
m n m
n
? ? ? ? ? t J J n t
? ?
? ? ? ? ?? ? (8.9)
e
? ? ? ? 2 1 ? ? ? ? ? ?
0
sin sin 2 sin 2 1
m n m
n
? ? ? ? t J n t
?
?
?
? ? ?? ? ? ? (8.10)
onde J n ? ? ? são as funções de Bessel de primeira classe e ordem n. Graficamente, estas funções tem a
forma da Fig. 8.1.Material não disponível para publicação
105
Fig. 8.1: Funções de Bessel.
Substituindo as equações 8.9 e 8.10 em 8.8, temos
? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? 0 0 2 0 2 1 0 ? ? ? ?
1 0
cos 2 cos 2 cos 2 sin 2 1 sin
C n m n m
n n
y t A J t J n t t J n t t ? ? ? ? ? ? ? ?
? ?
?
? ?
? ?
? ? ? ? ? ? ? ? ? ? ? ? ??
? ? ? ?
Lembrando que
cos cos ? ? ? ? cos cos ? ? ? ?
2
a b a b
a b
? ? ?
?
e
sin sin ? ? ? ? cos cos ? ? ? ?
2
a b a b
a b
? ? ?
?
podemos representar y t ? ? na forma da equação 8.11.
? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ?
? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ?
0 0 2 0 0
1
2 1 0 0
0
cos cos 2 cos 2
cos 2 1 cos 2 1
C C n m m
n
C n m m
n
y t A J t A J n t n t
A J n t n t
? ? ? ? ? ? ?
? ? ? ? ?
? ?
?
?
?
? ? ? ? ? ? ?
? ?
? ? ? ? ? ? ? ?
? ?
?
?
(8.11)
Através da equação 8.11, verificamos facilmente que o espectro de frequências, positivas, de y t ? ?
é formado por um conjunto infinito de raias, espaçadas de ?m, simetricamente em torno de ?0, e com
amplitude proporcional à funções de Bessel, conforme a Fig. 8.2.
Fig. 8.2: Espectro de frequências positivas de y t ? ? .
Se definirmos a largura de banda do sinal FM como sendo a faixa que engloba todas as raias com
módulo maior que 1% da portadora, J J n ?? ? ? 0 ? ? ? 0.01, veremos que esta é normalmente maiorMaterial não disponível para publicação
106
que a do sinal AM. Entretanto, quando 1 ? ? , temos a largura de banda do sinal FM praticamente
igual a do AM.
Muitas fórmulas empíricas foram desenvolvidas para determinação da largura de banda necessária
de um modulador FM. Definindo a razão de desvio
D
?? W
? (8.12)
onde W é a máxima frequência do sinal modulador f ?t? . Empiricamente, determinamos que o sinal
FM possui a largura de banda BT dada por
2 2 ; 2 ? ?
T 2 ; 1
D W D
B
W D
?? ? ?
? ?
? ? ?
(8.13)
Como exemplo, considere uma estação transmissora de FM, cujo modulador possui
? ? ? ? 471.24 103 rd s (75kHz) e sinal modulador com W rd s ? ? 94.25 103 (15kHz). A razão de
desvio calculada pela equação 8.12 é 5 D ? , e consequentemente, pela equação 8.13, a largura de
banda necessária para a transmissão é BT ? ? 1.32 106 rd s (210kHz).
Os moduladores de FM são essencialmente osciladores com frequência controlada por tensão
(VCO), neste caso, um sinal modulador v t in ? ? . Portanto, podemos definir o parâmetro ko, que
relaciona a variação de frequência do oscilador com a variação da tensão v t in ? ? , ou seja,
k V o ? ? ? ? . Podemos observar na Fig. 8.2, que a amplitude da portadora que é proporcional a
J 0 ? ? ? , e conforme o gráfico da Fig. 8.1, verificamos que J 0 ?? ? é zero para infinitos valores de ?,
sendo que o primeiro zero ocorre em 2.4 ? ? . Neste momento temos o primeiro apagamento da
portadora. Medindo o primeiro apagamento de portadora com um analisador de espectro, para um
sinal modulador v t V t in m m ? ? ? cos?? ? conhecido, podemos determinar a constante ko do modulador
FM utilizando a equação 8.6, ou seja,
o m m 2.4 2.4
o
m m m
k V
k
? V
?
?
? ?
?
? ? ? ? ? (8.14)
Este procedimento é muito útil na calibração de moduladores de FM.
8.2.1 Modulador de Armstrong
Conforme vimos anteriormente, o sinal modulado em FM pode ser expresso por
? ? ? ? C cos 0
t
y t A t f d ? ? ? ?
? ?
? ? ? ? ?
? ? ?
ou de forma equivalente
? ? ? ? ? ? ? ? ? ? C cos cos sin sin 0 0
t t
y t A t f d t f d ? ? ? ? ? ? ? ?
? ? ? ? ? ?
? ? ? ? ? ? ? ? ? ?
? ? ? ? ? ? ? ? ? ? (8.15)
Se escolhermos ?? de forma que ? ? 1
t
?? ? ? ? f d ? , podemos aproximar a equação 8.15 por
? ? ? ? ? ? ? ? C C cos sin 0 0
t
y t A t A f d t ? ? ? ? ?
? ?
? ? ? ? ?
? ? ? (8.16)
A equação 8.16 pode ser facilmente implementada pelo diagrama de blocos da Fig. 8.3, onde
v t in ? ? é um oscilador senoidal ( v t A t in C ? ? ? cos??0 ? ), e a rede de defasamento de 90 ? ? é
implementada com circuito LC. Esta estrutura é conhecida como modulador de Armstrong.Material não disponível para publicação
107
Fig. 8.3: Modulador de Armstrong.
8.2.2 Modulador com VCO (Voltage-Controlled-Oscillator)
O modulador de Armstrong possui desvio de frequência muito baixo, não atendendo às
especificações para transmissão de FM comercial. Para obtermos desvios mais altos, usamos
osciladores controlados por tensão (VCO). Este tipo de modulador baseia-se na variação controlada do
valor de um componente do circuito, que afete diretamente a frequência de oscilação.
O circuito da Fig. 8.4 é um oscilador Colpitts, onde um dos capacitores de sintonia é o diodo
varactor. Este tipo de diodo possui capacitância de transição alta e variável com a tensão reversa,
conforme a equação 8.17. C0 é uma constante do dispositivo, VR é a tensão reversa, e VT é a tensão de
junção do diodo.
0
1
?
?
T
R T
C
C
VV
(8.17)
Vin(t)
A
Re
Cb
D
RL
Rb2
L2
Rb1
Cv L1
Q
C3
C4
Vcc
C1
Vo(t)
R3
C2
R1
R2
Fig. 8.4: Modulador FM com VCO.
A frequência de oscilação do circuito é dada por
? ?
? ?
0
1 2 ' 4
1
1 2 ' 4
1
b e T
V
b e T
C C C C C
L C
C C C C C
? ?
? ? ?
? ? ? ? ? ? ? ? ? ? ?
(8.18)
A tensão de polarização do diodo varactor é determinada pelo divisor resistivo formado por R2 e R3,
e é dada porMaterial não disponível para publicação
108
3
2 3
?
?
Rq CC
R
V V
R R
Como CT varia com a tensão de polarização, ou seja, C C V T T R ? ? ?, e V V v t R Rq in ? ? ? ? , temos que
a variação de frequência do oscilador é
0
0
?
?? ? ?
R
R
d
V
dV
(8.19)
Substituindo a equação 8.18 em 8.19, e calculando a derivada, temos
? ?
3
1 3
2
2 2 2
0 4 1
0 2
4
1
2
Rq
eq
T
R
Tq T
V
C C L C
V
V
C C V
?
?
? ? ? ?
? ? ?
? ?
? ? ?
?
(8.20)
onde
? ?
? ?
1 2 ' 4
1 2 ' 4
b e Tq
eq V
b e Tq
C C C C C
C C
C C C C C
?
? ? ?
? ? ?
Da equação 8.20 podemos concluir que a curva ?0 ?VR possui coeficiente angular positivo,
conforme a Fig. 8.5.
Fig. 8.5: Curva de ?0 ?VR .
Assumindo que v t V in Rq ? ? ? , podemos considerar ? ? V v t R in ? ? , e finalmente
? ? ? ?
3
1 3
2
2 2 2
0 4 1
0 2
4
1
2
Rq
eq
T
in
Tq T
V
C C L C
V
v t
C C V
?
?
? ? ? ?
? ? ?
? ?
? ?
?
(8.21)
O termo que multiplica v t in ? ? é definido como a constante ko do VCO. Para estabelecer uma
equivalência com a equação 8.5, podemos considerar v t V f t in m ? ? ? ? ? na equação 8.21, e obtermos
? ?
? ? ? ? ? ? ? ?
3
1 3
2
2 2 2
0 4 1
0 2 0
4
1
2
Rq
m eq
T
Tq T
V
V C C L C
V
t f t t f t
C C V
? ? ? ? ?
?
? ? ? ?
? ? ?
? ?
? ? ? ? ? ?
?
(8.22)
Desta forma, em termos da constante do VCO, o desvio de frequência também pode ser definido
como
o m
? ? ? k V .
O capacitor variável CV é usado para ajustar a frequência de oscilação. É possível realizar este
ajuste através da tensão de polarização do varactor. Entretanto, é recomendável que o varactor esteja
polarizado em um ponto que permita grande excursão de sinal.
O dimensionamento de C1, C2 e Cb segue as mesmas considerações feitas na seção 5.1.1 para o
oscilador Colpitts.Material não disponível para publicação
109
O capacitor C4 serve para desacoplar o diodo varactor da fonte de alimentação, e também atua
como divisor capacitivo, reduzindo a amplitude do sinal de RF aplicado ao diodo, para minimizar a
distorção harmônica. Seu valor é, na prática, escolhido próximo de CTq 3.
O resistor R1 tem a função de desacoplar o varactor da fonte de sinal modulador, na frequência de
oscilação. O cálculo de C3 e R1 deve levar em consideração as frequências mínima ?min e máxima ?m
de v t in ? ? . A relação entre a tensão do nó A e a entrada v t in ? ? , pode ser obtida do circuito da Fig.
8.6a, e é expressa aproximadamente pela função de transferência 8.23, cujo gráfico encontra-se na Fig.
8.6b.
? ? ? ?
? ? ? ?? ? ? ?
3 2 3
3 2 3 4 1
//
// 1 1
? ?
? ? ?
A
in Tq
V s sC R R
H s
V s sC R R s C C R
(8.23)
As frequências de corte inferior ?I e superior ?S devem ser escolhidas tal que H j ? ?? ? 1 no
intervalo ? ? ? ? ?
min m . Esta condição estabelece que ?I ??min e ?S m ?? .
Analisando a equação 8.23, concluímos que
3 2 3
1
//
? ?
I
C R R
e
? ? 4 1
1
? ?
?
S
C C R Tq
R2 R3
R1
C4 D Vin(s)
VA(s)
C3
(a) (b)
Fig. 8.6: Circuito equivalente para determinação de C3 e R1.
8.2.3 Modulador de FM com Frequência Estabilizada por Cristal
O modulador FM com VCO possui a frequência controlada por elementos sensíveis a fatores
externos ao circuito. Por isso, a frequência de oscilação não é precisa e nem estável. Uma solução para
este problema é o uso de osciladores a cristal. Como não podemos variar a frequência destes
osciladores, devido à elevada estabilidade, não é prático construir VCOs com cristal.
Podemos implementar um modulador de FM através de um modulador de fase, bastando para isto,
integrar o sinal modulador, conforme a equação 8.24. Neste caso, o desvio de frequência corresponde
a ??.
? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? 1 1 ? ? ? ? ? ? ? ?
t
d t
t t f d t f t
dt
(8.24)
Entretanto, o desvio de frequência obtido é pequeno, tornando necessário aumentar seu valor. Isto é
feito através de um gerador de harmônicos, que é simplesmente um circuito com relação de
transferência não linear, e um filtro sintonizado no harmônico de ordem N. O diagrama da Fig. 8.7
exemplifica o processo. O sinal v t 1? ? está modulado em fase e tem a forma
1 1 1 ? ? ? ? ? ? ? cos? ? ? ? ? ? ? ?
v t V t f d ? ? ?t (8.25)Material não disponível para publicação
110
Gerador
de
Harmônico
RL
V1(t)
de
Vin(t)
Fase
Modulador
a
Oscilador
Cristal
Vo(t)
Filtro
Harmônico N
Sintonizado no
Integrador
Fig. 8.7: Diagrama de blocos do modulador FM com cristal.
O circuito não linear, gerador de harmônico, produz um harmônico de ordem N, que é selecionado
pelo filtro sintonizado na frequência N?1 , e disponibilizado para a carga RL. O sinal de saída v t 0 ? ?
tem a forma
0 0 1 0 0 0 ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? cos cos ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ?
v t V N t N f d v t V t N f d ? ? ? ? ? ? t t (8.26)
Comparando a equação 8.26 com 8.25, verificamos que o desvio de frequência está multiplicado
por N. Na prática, constatamos que este tipo de implementação necessita de um fator de multiplicação
N ?15 . Portanto, se desejamos uma frequência de portadora ?0, devemos dimensionar um oscilador a
cristal em
?0 15 .
O circuito da Fig. 8.8 é uma implementação prática deste modulador. O oscilador a cristal possui,
como carga, o modulador de fase, que é simplesmente um circuito RLC paralelo, sintonizado em ?0,
mais um diodo varactor que modifica a sintonia, e altera a fase. O sinal gerado no modulador de fase é
aplicado a um amplificador sintonizado em ?1, que aumenta a amplitude. O sinal é então aplicado,
através dos indutores acoplados L2-L3, ao amplificador em classe C, formado por Q5, que gera
harmônicos e sintoniza a frequência 5?1. Novamente, o sinal é aplicado, através dos indutores
acoplados L4-L5, a um segundo amplificador em classe C, formado por Q4, que também gera
harmônicos e sintoniza a frequência desejada 15?1 .
O mecanismo de modulação de fase pode ser melhor entendido pela Fig. 8.9. Verificamos que
exatamente na frequência de sintonia ?1, a fase de V j ? ?1? é zero. Sendo ?1 fixa, ao modificarmos a
capacitância do varactor, a frequência de sintonia muda de posição, e a fase de V j ? ?1? também
modifica. A tensão de polarização e o sinal de controle do varactor, são fornecidos pelo circuito
integrador implementado com amplificador operacional.
Os cálculos envolvidos no dimensionamento dos componentes são derivados das análises feitas
para circuitos sintonizados, amplificadores em classe C e osciladores a cristal.Material não disponível para publicação
111
Fig. 8.8: Circuito para implementação do modulador FM com cristal.
V
C3 D
C4
I L1
Fig. 8.9: Circuito modulador de fase.
8.3 Demodulação de FM
A demodulação FM consiste em transformar as variações de frequência de um sinal, em variações
de amplitude. Dado o sinal modulado em frequência
? ? ? ? C cos 0
t
y t A t f d ? ? ? ?
? ?
? ? ? ? ?
? ? ?
se aplicarmos a derivada, obtemosMaterial não disponível para publicação
112
? ?
C ? ? 0 0 ? ? sin ? ?
t
dy t
A f t t f d
dt
? ? ? ? ? ?
? ?
? ? ? ? ? ? ? ?
? ? ? (8.27)
Verificamos na equação 8.27 que dy t dt ? ? é essencialmente um sinal modulado em amplitude,
com portadora em torno de ?0. Podemos realizar a demodulação FM, simplesmente demodulando este
sinal AM. Entretanto, a implementação de circuitos diferenciadores perfeitos não é possível.
Nos itens seguintes, serão apresentadas algumas implementações usadas para realização,
aproximada, de diferenciadores.
8.3.1 Demodulador no Domínio da Frequência
Este procedimento emprega um circuito sintonizado para a demodulação. A Fig. 8.10 representa o
gráfico de resposta em frequência de um amplificador sintonizado na frequência ?1. Podemos verificar
que na frequência ?0, fora da sintonia, o ganho é fortemente dependente da frequência. Quando um
sinal modulado em FM, com portadora em ?0, é aplicado ao circuito, a amplitude da saída muda
proporcionalmente à variação de frequência. Esta modulação na amplitude do sinal de saída pode ser
demodulada por um detector de pico de envoltória.
Fig. 8.10: demodulação de FM no domínio da frequência.
O circuito da Fig. 8.11 é uma implementação prática desta técnica de demodulação. A frequência
de ressonância ?1, do amplificador sintonizado, deve ser escolhida de forma que a portadora ?0 esteja
na região mais linear possível de H j ? ?? . Evidentemente, a amplitude de v t o ? ? dependerá do ganho
H j ? ?1? e da inclinação de H j ? ? ? em torno de ?0.
Este tipo de demodulador é de fácil implementação, mas não é empregado em sistemas de alta
qualidade, devido às distorções produzidas pela não linearidade da curva H j ? ?? .Material não disponível para publicação
113
L2
R2
D
Ce
L1 CL
Cb
RL
R1
Vo(t)
C
Re
Vin(t) Q
Fig. 8.11: circuito demodulador de FM no domínio da frequência.
8.3.2 Demodulador com Detector de Quadratura
Este tipo de demodulador é muito empregado nos circuitos integrados, devido à sua simplicidade e
a facilidade de implementação de multiplicadores analógicos de quatro quadrantes. O princípio de
funcionamento baseia-se no fato de que é possível aproximar uma deriva por uma diferença, ou seja,
? ? ? ? ? ? ? ? ? ?
0
lim
x
f x f x x f x f x x
f x
? ? x x
? ? ? ? ? ?
? ? ?
? ?
(8.28)
quando ?x é pequeno. Desta forma, temos
f ? ? x f x x f x x ? ? ? ? ? ? ? ?? ? (8.29)
Antes de analisarmos o demodulador, consideremos o circuito da Fig. 8.12.
Vin
Cs
Vo
Cp L R
Fig. 8.12: Circuito atrasador.
A função de transferência H s V s V s ? ? ? o in ? ? ? ? é dada por
? ? ? ?
? ?
2
2 2 0
0
S
o S P
in
C
s
V s C C
H s
V s
s s
? Q
?
? ?
? ?
? ? ?
? ?
? ?
(8.30)
onde
0 ? ?
1
L C C P S
? ?
?
e
Q R C C ? ? ?0 ? P S ?
Fazendo s ? j? na equação 8.30, temosMaterial não disponível para publicação
114
? ?
? ?
2
2 2 0
0
S
S P
C
C C
H j
j
? Q
?
?
? ? ?
? ?
?? ?
? ? ?
?
? ?
(8.31)
A fase de H j ? ? ? é dada por
? ?
? ?
1 0
2 2
0
H j tan
? Q
?
? ?
? ?
?
? ?
? ? ? ?
? ? ?
? ?
? (8.32)
Vista no gráfico da Fig. 8.13, verificamos que ?H j ? ?? ?? 2 em ? ??0 e possui derivada
negativa em ?.
Fig. 8.13: Gráfico de fase do atrasador.
Se considerarmos a região próxima de ?0, podemos aproximar ?H j ? ?? por uma série de Taylor
com os termos de ordem zero e um. Desta forma, temos
? ? ? ? 0
0 0
2 2
2
2 2
Q Q
H j Q ? ? ? ? ? ?
? ?
? ? ? ? ? ? ? (8.33)
A variação de ?, em torno de ?0, onde a equação 8.33 gera erros pequenos, depende do Q. Quanto
menor o Q, maior é a variação admissível para ?.
Assumindo que, na faixa de frequências correspondente a largura de banda de v t in ? ? ,
H j H j ? ? ? ? ? ?0 ? , podemos fazer a aproximação
? ? ? ? 0 ? ? ? ? 0 ? ?
2 2
2 2
2 2
0 0
? ?
? ?
? ?
? ? ? ? ?
? ? ? ?
? ? ? ? ? ? ? ?
? ? ? ?
? ? ?
Q Q
j Q j Q j j
H j H j e e V j H j e e V j o in (8.34)
que significa a introdução da fase ? ? ? 2 2 ? Q e o atraso no tempo de 2Q ?0 .
Considerando v t A t t in C ? ? ? ? cos?? ? 0 ? ?? , onde ? ? ? ?
t
? t f d ? ?? ? ? ? , e sabendo que
H j QC C C ? ?0 ? ? ? S S P ? ? , temos que
? ? 0
0 0
2 2
cos 2
? 2
? ?
? ?
? ? ? ? ? ?
v t t Q t o ? ? ? ? ? ? C C A QC S P C S ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? Q Q
ou de forma melhor
? ? 0
0
2
C S sin
o
S P
A QC Q
v t t t
C C
? ?
?
? ? ? ?
? ? ? ? ? ? ? ? ? ? ? ? ? ? ? (8.35)
Podemos chamar
? ? t Q 2 ?0 , e reescrever a equação 8.35 comoMaterial não disponível para publicação
115
o ? ? C S sin? ? 0 ? ?
S P
A QC
v t t t t
C C
? ? ? ? ? ? ?
?
(8.36)
A demodulação é realizada pela multiplicação v t v t o in ? ?? ? ? , onde obtemos
? ? ? ? ? ? ? ? ? ?
2
dem C S sin cos 0 0
S P
A QC
v t t t t t t
C C
? ? ? ? ? ? ? ? ? ?
?
(8.37)
Aplicando a identidade trigonométrica sin cos sin sin 2 ?a b a b a b ? ? ? ? ? ? ? ? ? ? ? ?? à equação 8.37,
temos
? ?
? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ?
2 2
sin sin 2 0
2 2
C S C S
dem
S P S P
A QC A QC
v t t t t t t t t
C C C C
? ? ? ? ? ? ? ? ? ? ? ? ? ?
? ?
(8.38)
Aplicando v t dem ? ? por um filtro passa-baixas, com frequência de corte bem abaixo de 2?0, e
utilizando a equação 8.29 para aproximar ? ? ? ?t t t t t ? ? ? ? ? ? ? ? ?? ? , temos
? ?
? ? ? ? ? ? ? ? ? ? ? ?
2 2
sin sin
2 2
C S C S
dem
S P S P
A QC A QC
v t t t t f t
C C C C
? ?
? ? ? ? ? ?
? ?
ou de forma melhor
? ?
? ? ? ?
2
0
2
sin
2
C S
dem
S P
A QC Q
v t f t
C C
?
?
? ? ?
? ? ?
? ? ?
(8.39)
Se
2 1 Q?? ?0 ? , o que normalmente é verdade, temos finalmente que
? ?
? ? ? ?
2 2
0
C S
dem
S P
A Q C
v t f t
C C
? ?
?
?
?
(8.40)
O circuito da Fig. 8.14 implementa o demodulador. Os valores de R1 e C1 devem ser dimensionados
para que a frequência de corte do filtro passa-baixas seja bem menor que 2?0 e maior que a máxima
frequência de f ? ? t , ou seja,
0
1 1
1
2
?m ? R C ? ? (8.41)
Cs
L Gilbert
Célula
R
Vin(t)
Vdem(t)
de
C1
R1
Cp
Fig. 8.14: Circuito demodulador de FM com detecção de quadratura.
Como exemplo, considere um sinal de FM em ?0 ? ? 67.23 106 rd s (10.7MHz) e
? ? ? ? 471.24 103 rd s (75kHz). A largura de banda deste sinal está na faixa de 1.25 10 ? 6 rd s
(200kHz). Devemos dimensionar o Q, para atender às condições
0
2
Q ? 1 71.3 Q
? ?
? ? ?
eMaterial não disponível para publicação
116
? ? ? ? 0 0 53.5
Largura de Banda
H j H j Q Q ? ? ? ? ? ? ? ?
Podemos escolher 20 Q ? e fazer
1
S
S P
C
C C Q
?
?
Aplicando estes resultados à equação 8.40, obtemos
v t A f t dem C ? ? ? 0.14 2 ? ?
Por inspeção, verificamos que 2 0.28 1 Q? ? ? ?0 ? , satisfaz a aproximação de primeira ordem de
tan?1 ? ? x .
8.4 Interferência no Sinal de FM
Considere dois sinais v t C ? ? e v t in ? ? sendo recebidos por um receptor de fase ou frequência, onde
v t A t C C ? ? ? ? ? cos ?0 é o sinal desejado e sem modulação, e v t A t i i i i ? ? ? ? ? cos???0 ? ? ? ? é o sinal de
interferência, com frequência ligeiramente diferente do sinal desejado. Portanto, o sinal total recebido
é
v t A t A t ? ? ? ? ? ? C i i i cos cos ??0 0 ? ??? ? ? ? ? (8.42)
Através de manipulações algébricas, podemos reescrever a equação 8.42 como
v t A t t t ? ? ? ? V V ? ?cos?? ? 0 ? ?? (8.43)
onde
A t A t V C i ? ? ? ? ? ? ? 1 2 cos ? ? ? 2 ? ?
? ? ? ? ??
? ? ? ?
1 sin
tan
1 cos
? ?
?
? ?
?
? ?
? ? ?
? ? ? ? ?
i
V
t i
t
t
? ? i
C
AA
?i i i ?t t ? ? ? ? ?
Se a interferência for pequena, 1 ? ? , podemos considerar
A t A t V C i i ? ? ? ? ? ?1 cos ? ?? ? ?? (8.44)
e
?V i i ?t t ? ? ? ? ? ? sin? ? (8.45)
Das equações 8.43, 8.44 e 8.45, observamos que a portadora é modulada em fase e amplitude, pelo
sinal de interferência. A modulação em amplitude pode ser eliminada por um limitador de amplitude.
Entretanto, a demodulação de fase ou frequência é contaminada pela interferência.
Conforme apresentado na Fig. 8.15, vemos que a amplitude da interferência é constante com a
frequência, e com valor ?, na demodulação de fase. Entretanto, na demodulação em frequência, devido
à diferenciação, a amplitude da interferência cresce proporcionalmente com a frequência, e com valor
?? i.Material não disponível para publicação
117
Fig. 8.15: Interferência na modulação PM e FM.
8.4.1 Circuito de Pré-Ênfase
No demodulador de fase, a relação sinal-ruído se mantém constante com a frequência ?i, mas no
demodulador FM ela se deteriora com o aumento de ?i. A solução para este problema consiste em dar
ênfase na amplitude do sinal modulador, nas frequências altas. Isto feito por um circuito RC de
primeira ordem chamado pré-ênfase. A Fig. 8.16a e b apresenta o circuito de pré-ênfase e a resposta
em frequência respectivamente. A função de transferência é dada por
? ?
? ?
2
1 2
11
?
?
?
?
? ?
o Z
in P
V s R s
V s R R s
(8.46)
onde
1
1
?
?
? ?
Z
Z
R C
e
1 2
1 2
1
?
?
? ?
?
P
P
R R C
R R
Normalmente, adotamos como padrão 75 ? Z ? ?s , e ?P deve ser escolhida acima da frequência
limite do sinal modulador.
Vo(t)
C
Vin(t)
R2
R1
(a)
(b)
Fig. 8.16: Pré-ênfase: a) circuito; b) resposta em frequência.
8.4.2 Circuito de De-Ênfase
Para que a demodulação FM seja correta, é necessário restaurar a forma original do sinal, aplicando
a função inversa à pré-ênfase. Isto é feito pelo circuito de de-ênfase, mostrado na Fig. 8.17a, que é
usado na saída do demodulador FM. A função de transferência é dada por
? ?
? ?
1
? 1
?
?
o
in P
V s
V s s
(8.47)
ondeMaterial não disponível para publicação
118
1
?
?
? ?
P
P
RC
Conforme podemos observar na Fig. 8.17b, a frequência do pólo ?P, deve ser igual a ?Z no circuito
de pré-ênfase. Portanto, devemos fazer ? P ? 75?s . É importante observar que, ao atenuarmos o sinal
nas frequências altas, atenuamos também a interferência, mantendo a relação sinal-ruído constante.
Vin(t)
R
C
Vo(t)
(a)
(b)
Fig. 8.17: De-ênfase: a) circuito; b) resposta em frequência.Material não disponível para publicação
119
Capítulo 9
Fontes Chaveadas
As fontes de tensão convencionais baseiam-se na retificação do sinal AC da rede elétrica, com
subsequente filtragem por capacitor.
Considere o retificador de onda completa, com filtro capacitivo, da Fig. 9.1. A tensão de ripple na
carga RL é dada por
2
?
pico
r
L
V
V
fCR
VAC
C
RL
Fig. 9.1: Retificador de onda completa com filtro capacitivo.
Como a frequência f da rede elétrica é 60Hz, para circuitos de potência (RL baixo), com Vr pequeno,
temos capacitores de filtragem muito grandes, na ordem de mF. Isto aumenta o tamanho da fonte e
consequentemente o custo. Outro aspecto importante é o tamanho do transformador. Para manter a
corrente de magnetização pequena, os transformadores são muito grandes, quando usamos frequências
baixas. Isto também contribui para o aumento do custo da fonte. É desejável também, nos circuitos
modernos, que as fontes de alimentação não ocupem muito espaço e sejam leves.
Se usarmos frequências mais elevadas, teremos uma redução proporcional no tamanho do capacitor
e do transformador. As fontes chaveadas exploram esta propriedade.
9.1 Conversor Boost
O conversor Boost é uma fonte chaveada, normalmente usada para elevar tensão, e o circuito
básico encontra-se na Fig. 9.2. Neste tipo de conversor, como também nos outros que serão
apresentados, usaremos uma fonte de alimentação VCC, implementada com retificador e filtro
capacitivo, que será analisada à parte, e uma fonte de corrente IS, que representa uma carga variável
com consumo médio de corrente IS. A fonte de tensão e a carga podem variar dentro dos intervalos
? ?
V V V CCMIN CC CCMAX e I I I SMIN S SMAX ? ? .Material não disponível para publicação
120
D
Q
I
Vcc
Vs
Vp
L
Rb
Cs
Is
Fig. 9.2: Conversor Boost.
O transistor Q atua como chave, que liga e desliga sob o comando do sinal de controle VP, cujo
período vale T. Duas regiões de operação são possíveis neste conversor; o modo contínuo e o
descontínuo. No modo contínuo, sempre existe corrente circulando pelo indutor. No modo
descontínuo, em determinados intervalos de tempo, a corrente que circula no indutor é zero.
Considerando o modo de operação contínuo em regime permanente, a Fig. 9.3 representa o
diagrama de chaveamento. Vamos assumir que a fonte VP e o resistor Rb estão dimensionados para
garantir o corte e a saturação do transistor. No intervalo ?T, em que o transistor está conduzindo, o
indutor se carrega até a corrente IMAX. Quando o transistor é cortado, o indutor se descarrega, através
do diodo, até a corrente IMIN. Desta forma, uma certa quantidade de energia é transferida à carga IS, e o
capacitor atua como filtro.
Consideremos que a tensão de condução (saturação) da chave (transistor) seja VT, a tensão de
condução do diodo seja Vd, e que o ripple na carga seja pequeno, ou seja, VS seja aproximadamente
constante. Durante o carregamento, a variação de corrente no indutor é
? ?
I I - I MAX MIN (9.1)
e a diferença de potencial que está submetido é
? ? ?
V V V CC T (9.2)
Lembrando que a relação entre a tensão e corrente no indutor é V L dI dt ? , e na Fig. 9.3 equivale
a
?
? ?
?
I
V L
T
(9.3)
substituindo as equações 9.1 e 9.2 em 9.3, temos
? ?
?
? ?
MAX MIN
CC T
I - I
V V L
T
(9.4)Material não disponível para publicação
121
Fig. 9.3: Diagrama de chaveamento do conversor Boost.
O indutor se descarrega no intervalo de tempo ?1???T , com variação de corrente igual a
? ? ? ? I I I ? MAX MIN ? , e submetido a diferença de potencial ?V V V V ? ? ? CC d S . Portanto, temos no
descarregamento que
? ?
? ? 1 ?
?
? ? ?
?
MAX MIN
CC d S
I - I
V V V L
T
(9.5)
Das equações 9.4 e 9.5, temos que a tensão de saída do conversor Boost no modo contínuo é dada
por
1 1
?
? ?
? ? ?
? ?
CC T
S d
V V
V V (9.6)
e a variação de corrente no indutor é
? ? ??
?
CC T
MAX MIN
V V T
I - I
L
(9.7)
A operação em modo descontínuo é caracterizada pela corrente 0 IMIN ? . Isto significa que o
indutor se descarrega em um intervalo de tempo ?1T menor que ?1???T , conforme exemplificado
na Fig. 9.4. Neste caso, as equações 9.4 e 9.5 podem ser reescritas como
?
? ?
MAX
CC T
I
V V L
T
(9.8)
e
?1
?
? ? ?
MAX
CC d S
I
V V V L
T
(9.9)
Das equações 9.8 e 9.9, temos que a tensão de saída do conversor Boost no modo descontínuo é
dada por
1 1
1 ? ?
? ?
? ?
? ? ? ? ? ?
V V V V S CC T d ? ? (9.10)Material não disponível para publicação
122
e a corrente máxima no indutor é
? ? ??
?
CC T
MAX
V V T
I
L
(9.11)
Fig. 9.4: Operação do conversor Boost no modo descontínuo.
A fronteira entre os dois modos de operação é determinada pelas condições ?1 ? ? ? ? 1 ? e IMIN ? 0 .
Sabendo que a corrente média de consumo da carga IS tem que ser a mesma do indutor no intervalo ?1,
pelo gráfico da Fig. 9.3, podemos calcular IS por
?1 ?? ?
2
? ? ?
?
MAX MIN
S
I I
I (9.12)
Solucionando o sistema formado pelas equações 9.6, 9.7 e 9.12, temos
?
? ?
?
? ?
S CC d
S T d
V V V
V V V
(9.13)
e
? ?? ?
? ?
2
2
2
? ? ?
?
? ?
S CC d CC T
S S T d
V V V V V T
L
I V V V
(9.14)
Para garantirmos a operação em modo contínuo, devemos ter 0 IMIN ? . Esta condição é sempre
satisfeita se o conversor operar na fronteira, quando V V CC CCMAX ? e I I S SMIN ? . Qualquer redução de
VCC ou aumento de ISMIN, coloca o conversor obrigatoriamente no modo contínuo. Aplicando estas
condições às equações 9.13 e 9.14, temos
? ?? ?
? ?
2
2
2
? ? ?
?
? ?
S CCMAX d CCMAX T
Contínuo
SMIN S T d
V V V V V T
L
I V V V
(9.15)
Evidentemente, as variações de VCC e IS provocam alterações em VS. Para manter a tensão de saída
constante, é necessário controlar o parâmetro ?. O menor ? admissível no circuito é
?
? ?
?
? ?
S CCMAX d
MIN
S T d
V V V
V V V
(9.16)
Podemos calcular o maior valor de ? necessário, aplicando a condição V V CC CCMIN ? à equação
9.13. Temos então que
?
? ?
?
? ?
S CCMIN d
MAX
S T d
V V V
V V V
(9.17)
De forma análoga, para garantirmos a operação em modo descontínuo, basta dimensionar o circuito
para operar na fronteira quando V V CC CCMIN ? e I I S SMAX ? . Qualquer aumento de VCC ou redução de IS
obriga o conversor a operar no modo descontínuo.Material não disponível para publicação
123
? ?? ?
? ?
2
2
2
? ? ?
?
? ?
S CCMIN d CCMIN T
Descontínuo
SMAX S T d
V V V V V T
L
I V V V
(9.18)
Também é necessário controlar o parâmetro ?, para manter a tensão de saída constante. O maior ?
admissível neste circuito é
?
? ?
?
? ?
S CCMIN d
MAX
S T d
V V V
V V V
(9.19)
É importante observar que, no modo contínuo a tensão de saída não depende do consumo da carga,
enquanto no modo descontínuo, devemos controlar o parâmetro ?1 para estabilizar a tensão.
Entretanto, no modo descontínuo, a quantidade de energia armazenada pelo indutor é menor, pois a
corrente vai a zero. Isto permite o uso de indutores com núcleos menos volumosos. Este assunto será
melhor estudado mais à frente.
O capacitor CS pode ser determinado pela máxima tensão de ripple Vripple na carga. Durante o
carregamento do indutor, a carga é alimentada exclusivamente pela tensão no capacitor. Podemos
determinar aproximadamente, que a máxima variação de carga no capacitor neste momento é
? ? ?
Q I T SMAX MAX
e consequentemente
? ?
? ? ? ? SMAX MAX
S ripple
S S
Q I T
V V
C C
Portanto, devemos ter
?
? SMAX MAX
S
ripple
I T
C
V
(9.20)
A Tabela 9.1 resume as equações de projeto do conversor Boost nos dois modos de operação.
Tabela 9.1: Equações de projeto do conversor Boost.
CONVERSOR BOOST
CONTÍNUO DESCONTÍNUO
1 1
?
? ?
? ? ?
? ?
CC T
S d
V V
V V
1 1
1
V V V V S CC T d ? ?
? ?
? ?
? ? ? ? ? ?
? ?
? ?? ?
? ?
2
2
2
? ? ?
?
? ?
S CCMAX d CCMAX T
SMIN S T d
V V V V V T
L
I V V V
? ?? ?
? ?
2
2
2
? ? ?
?
? ?
S CCMIN d CCMIN T
SMAX S T d
V V V V V T
L
I V V V
?
? SMAX MAX
S
ripple
I T
C
V
?
? SMAX MAX
S
ripple
I T
C
V
?
? ?
?
? ?
S CCMIN d
MAX
S T d
V V V
V V V
?
? ?
?
? ?
S CCMIN d
MAX
S T d
V V V
V V V
?
? ?
?
? ?
S CCMAX d
MIN
S T d
V V V
V V V
2 ? ?
?
? ?
?
?
SMIN S CCMAX d
MIN
CCMAX T
I L V V V
T
V VMaterial não disponível para publicação
124
9.2 Conversor Buck
O conversor Buck é essencialmente um filtro passa-baixas LC, onde o sinal de entrada é uma fonte
de tensão comutada. Este circuito é normalmente usado como abaixador de tensão. O esquema básico
está apresentado na Fig. 9.5.
Quando operando em modo contínuo, a fonte de tensão VP coloca o transistor em corte e saturação
em intervalos de tempo controlados. Quando o transistor está em condução, temos V V V a CC T ? ? , e
uma corrente é estabelecida no indutor. Quando o transistor está em corte, a corrente do indutor é
obrigada a circular pelo diodo, estabelecendo a tensão V V a d ? ? . O diagrama de chaveamento da Fig.
9.6 exemplifica o processo.
Podemos verificar que a tensão Va atua como fonte de sinal para o filtro passa-baixas formado por
L, CS e IS. Desta forma, a tensão de saída VS é o valor médio de Va, que é facilmente calculado por
V V V V S CC T d ? ? ? ? ? ?? ?1 ? ? (9.21)
Va
Q
D
Rb
Vs
I
Vcc
L
Is
Vp
Cs
Fig. 9.5: Conversor Buck.
Fig. 9.6: Diagrama de chaveamento do conversor Buck no modo contínuo.
Para garantir que o conversor Buck opere sempre no modo contínuo, devemos determinar o menor
valor admissível para a corrente média da carga. Neste circuito, a corrente média que circula peloMaterial não disponível para publicação
125
indutor é a mesma da carga, e pode ser calculada pela área do gráfico da Fig. 9.6, ou seja,
? 2
? ? ? MAX MIN
S MIN
I I
I I I (9.22)
De forma similar ao conversor Boost, podemos calcular ?I I MAX MIN ? ? pela diferença de potencial
aplicada ao indutor no intervalo de carregamento ?T , e no descarregamento ?1???T , ou seja,
? ? ? ??
? ?
CC T S
MAX MIN
V V V T
I I
L
(9.23)
e
? ? ? ??1 ? ?
? ?
S d
MAX MIN
V V T
I I
L
(9.24)
Solucionando o sistema de equações 9.22, 9.23 e 9.24, temos que a corrente média da carga deve
ser
? ?
1 ? ?
2
? ? ?
? ? ? ?
S CC d T MIN
T
I V V V I
L
(9.25)
Para garantir o funcionamento no modo contínuo, devemos ter IMIN ? 0 . Considerando os
intervalos ? ?
V V V CCMIN CC CCMAX e I I I SMIN S SMAX ? ? , pela equação 9.25 concluímos que
? ?
1 ? ? 0
2
? ? ?
? ? ? ? MIN MIN
SMIN CCMAX d T
T
I V V V
L
ou de forma equivalente
? ?
1 ? ?
2
? ? ?
? ? ? MIN MIN
CCMAX d T
SMIN
T
L V V V
I
(9.26)
O parâmetro ?MIN pode ser calculado aplicando a condição V V CC CCMAX ? à equação 9.21, e é dado
por
?
?
?
? ?
S d
MIN
CCMAX T d
V V
V V V
(9.27)
Substituindo a equação 9.27 em 9.26, temos finalmente
? ?? ?
2 ? ?
? ? ?
?
? ?
S d CCMAX S T
SMIN CCMAX T d
V V V V V T
L
I V V V
(9.28)
O capacitor CS pode ser dimensionado para atender à especificação do ripple na saída.
Considerando que a frequência de chaveamento está muito acima do corte do filtro passa-baixas,
podemos aproximar a função de transferência V j V j S a ? ?? ? ?? por
? ? ? ?
? ? 2
? 1
?
? ?
? ? ?
S
a S
V j
H j
V j LC
Embora v t a ? ? seja uma onda quadrada, com variação de tensão igual a V V V CC d T ? ? , podemos
assumir de forma aproximada que esta variação é atenuada pelo filtro e transferida à carga, produzindo
a tensão de ripple Vripple, ou seja,
2 ? ? ? 2 ? 2
4
CCMAX d T
ripple CCMAX d T
S
V V V T
V H j V V V
T LC
?
?
? ? ? ?
? ? ? ? ? ?
? ? (9.29)
Para atender à equação 9.29, devemos fazerMaterial não disponível para publicação
126
? ? 2
4 2
CCMAX d T
S
ripple
V V V T
C
? LV
? ?
? (9.30)
Quando operando em modo descontínuo, o indutor se descarrega totalmente no intervalo de tempo
?1T , onde ?1 ? ? 1 ? . A Fig. 9.7 apresenta as formas de onda do conversor. Note que, após o intervalo
?1T , a tensão Va é igual à própria tensão de saída VS pois a diferença de potencial no indutor é zero.
Fig. 9.7: Diagrama de chaveamento do conversor Buck no modo descontínuo.
A tensão de saída também é calculada pelo valor médio de Va, que neste caso é
V V V V V S CC T d S ? ? ? ? ? ? ? ? ? ? ? ? 1 1 ?1 ?
e de forma melhor,
? ? 1
1 1
V V V V S CC T d ? ?
? ? ? ?
? ? ?
? ?
(9.31)
As condições necessárias para a operação em modo descontínuo podem ser determinadas do
conversor operando na fronteira dos dois modos. Neste caso, as formas de onda são as mesmas da Fig.
9.6, mas com 0 IMIN ? . Quaisquer perturbações nos parâmetros do conversor devem colocá-lo
obrigatoriamente no modo descontínuo. Portanto, os parâmetros adotados para o projeto devem ser
VCCMIN , ISMAX e ?MAX . Na região de fronteira, a corrente na carga ISMAX é o valor médio da corrente
no indutor, ou seja,
M2
AX
SMAX
I
I ? (9.32)
mas temos também que
? S d MAX ??1 ?
MAX
V V T
I
L
? ??
? (9.33)
? ? CCMIN T S MAX
MAX
V V V T
I
L
? ? ?
? (9.34)Material não disponível para publicação
127
Das equações 9.32, 9.33 e 9.34, obtemos:
? ?? ?
2 ? ?
S d CCMIN S T
SMAX CCMIN T d
V V V V V T
L
I V V V
? ? ?
?
? ?
(9.35)
e
S d
MAX
CCMIN T d
V V
V V V
?
?
?
? ?
A equação 9.35 estabelece o limite superior para o indutor, de forma que qualquer valor abaixo deste
force o conversor a operar no modo descontínuo. Portanto, podemos dimensionar qualquer valor de L
dentro do intervalo
? ?? ?
0 ? ? L V V V V V T 2S d CCMIN S T I V V V ? ? ? SMAX CCMIN T d ? ? ? ?
Tal como no modo contínuo, o capacitor CS é calculado de forma aproximada e dado pela equação
9.30.
A Tabela 9.2 resume as equações de projeto do conversor Buck.
Tabela 9.2: Equações de projeto do conversor Buck.
CONVERSOR BUCK
CONTÍNUO DESCONTÍNUO
V V V V S CC T d ? ? ? ? ? ? ? ? ? 1 ? ? ? 1
1 1
V V V V S CC T d ? ?
? ? ? ?
? ? ?
? ?
? ?? ?
2 ? ?
? ? ?
?
? ?
S d CCMAX S T
SMIN CCMAX T d
V V V V V T
L
I V V V
? ?? ?
0 ? ? L V V V V V T 2S d CCMIN S T I V V V ? ? ? SMAX CCMIN T d ? ? ? ?
? ? 2
4 2
CCMAX d T
S
ripple
V V V T
C
? LV
? ?
?
? ? 2
4 2
CCMAX d T
S
ripple
V V V T
C
? LV
? ?
?
?
?
?
? ?
S d
MIN
CCMAX T d
V V
V V V
? ?
? ?? ?
SMIN S d
MIN
CCMAX T S CCMAX d T
I L V V
T V V V V V V
?
?
?
? ? ? ?
S d
MAX
CCMIN T d
V V
V V V
?
?
?
? ?
S d
MAX
CCMIN T d
V V
V V V
?
?
?
? ?
9.3 Conversor Buck-Boost
O circuito básico do conversor Buck-Boost encontra-se na Fig. 9.8. Conforme veremos a seguir,
este circuito gera tensão de saída negativa. O diagrama de chaveamento encontra-se na Fig. 9.9.
Q
I
Cs
Vp
L
D
Vcc
Is
Vs
Rb
Fig. 9.8: Conversor Buck-Boost.Material não disponível para publicação
128
Fig. 9.9: Diagrama de chaveamento do conversor Buck-Boost.
Assumindo o modo de operação contínuo, quando o transistor está conduzindo, o indutor é
submetido a tensão ? ? V V CC T ? , e o diodo polariza-se inversamente. A variação de corrente no indutor
é dada por
? ? ??
? ?
CC T
MAX MIN
V V T
I I
L
(9.36)
No momento em que o transistor é cortado, a corrente do indutor é obrigada a circular pelo diodo,
transferindo energia à carga. O indutor fica submetido à diferença de potencial ? ? V V S d ? , e sofre a
mesma variação de corrente, mas negativa, ou seja,
? ? ? ? ? I I MAX MIN ?V V T S d ? ? ??1 ? ?
L
(9.37)
Solucionando o sistema de equações 9.36 e 9.37, obtemos
? ?
1
?
?
?
? ? ?
?
CC T
S d
V V
V V (9.38)
Verificamos facilmente da equação 9.38 que a tensão de saída é negativa.
No modo descontínuo, temos IMIN ? 0 , e o descarregamento ocorre no intervalo ?1T , menor que
? ? 1?? T . As equações 9.36 e 9.37 são re-escritas como
? ? ??
?
CC T
MAX
V V T
I
L
(9.39)
e
? ? ??1
? ?
S d
MAX
V V T
I
L
(9.40)
Solucionando o sistema de equações 9.39 e 9.40, obtemos que a tensão de saída no modo
descontínuo é dada por
? ?
1
?
?
?
? ? ? CC T
S d
V V
V V (9.41)
A fronteira entre os dois modos de operação ocorre em IMIN ? 0 e ?1 ?1?? . A corrente média que
circula pela carga pode ser calculada com base na Fig. 9.9, e é dada por
? ??1 ?
2
? ??
?
MAX MIN
S
I I
I (9.42)Material não disponível para publicação
129
Solucionando o sistema formado pelas equações 9.36, 9.38 e 9.42, temos
? ?? ?
? ?
2 2
2
? ?
? ?
? ? ?
S d CC T
S CC T d S
V V V V T
L
V V V V I
(9.43)
e
?
?
?
? ? ?
S d
S CC T d
V V
V V V V
(9.44)
Para garantirmos a operação em modo contínuo, usaremos as mesmas considerações feitas para o
conversor Boost. Portanto, temos
? ?? ?
? ?
2
2
2
? ?
? ?
? ? ?
S d CCMAX T
Contínuo
S CCMAX T d SMIN
V V V V T
L
V V V V I
(9.45)
?
?
?
? ? ?
S d
MIN
S CCMAX T d
V V
V V V V
(9.46)
?
?
?
? ? ?
S d
MAX
S CCMIN T d
V V
V V V V
(9.47)
Da mesma forma, o modo descontínuo é garantido quando
? ?? ?
? ?
2
2
2
? ?
? ?
? ? ?
S d CCMIN T
Descontínuo
S CCMIN T d SMAX
V V V V T
L
V V V V I
(9.48)
?
?
?
? ? ?
S d
MAX
S CCMIN T d
V V
V V V V
(9.49)
O capacitor de filtragem CS é o mesmo calculado para o conversor Boost, ou seja,
?
? SMAX MAX
S
ripple
I T
C
V
(9.50)
A Tabela 9.3 resume as equações de projeto do conversor Buck-Boost.Material não disponível para publicação
130
Tabela 9.3: Equações de projeto do conversor Buck-Boost.
CONVERSOR BUCK-BOOST
CONTÍNUO DESCONTÍNUO
? ?
1
?
?
?
? ? ?
?
CC T
S d
V V
V V
? ?
1
?
?
?
? ? ? CC T
S d
V V
V V
? ?? ?
? ?
2
2
2
? ?
? ?
? ? ?
S d CCMAX T
S CCMAX T d SMIN
V V V V T
L
V V V V I
? ?? ?
? ?
2
2
2
? ?
? ?
? ? ?
S d CCMIN T
S CCMIN T d SMAX
V V V V T
L
V V V V I
?
?
?
? ? ?
S d
MAX
S CCMIN T d
V V
V V V V
?
?
?
? ? ?
S d
MAX
S CCMIN T d
V V
V V V V
?
?
?
? ? ?
S d
MIN
S CCMAX T d
V V
V V V V
2 ? ?
?
?
?
?
SMIN d S
MIN
CCMAX T
I L V V
T
V V
?
? SMAX MAX
S
ripple
I T
C
V
?
? SMAX MAX
S
ripple
I T
C
V
9.4 Conversor Flyback
O conversor Flyback utiliza um indutor acoplado, e introduz um parâmetro a mais no
dimensionamento, que é a relação de espiras. Isto permite que o Flyback seja dimensionado para
elevar ou reduzir tensão. O circuito básico do conversor encontra-se na Fig. 9.10.
.
L2
.
L1
N1 : N2
I2 Cs
Q
Vcc
Rb
Vs
I1
D
Vp
Is
Fig. 9.10: Conversor Flyback.
O diagrama de chaveamento encontra-se na Fig. 9.11. Quando o transistor está conduzindo, o
indutor L1 é submetido à tensão ? ? V V CC T ? e a corrente varia de I1MIN a I1MAX. Devido ao sentido dos
enrolamentos, o diodo está polarizado reversamente, e a corrente I2 é zero. Durante o corte do
transistor, a energia magnética armazenada no núcleo dos indutores obriga a existência da corrente I2,
que conduz através do diodo, e fornece energia à carga. Durante o descarregamento, o indutor L2 fica
submetido à tensão ? ? V V d S ? .
Assumindo o modo de operação contínuo, no carregamento de L1, temos
? ?
1 1
1
? ?
? ?
CC T
MAX MIN
V V T
I I
L
(9.51)
e durante o descarregamento de L2, temosMaterial não disponível para publicação
131
? ?? ?
2 2
2
? ? 1 ?
? ?
S d
MAX MIN
V V T
I I
L
(9.52)
Fig. 9.11: Diagrama de chaveamento do conversor Flyback.
Considerando o circuito em regime permanente, o valor médio de energia no núcleo dos indutores é
constante, isto obriga que as variações de corrente nos indutores respeite a relação
N I I N I I 1 1 1 2 2 2 ? ? MAX MIN MAX MIN ? ? ? ? ? (9.53)
Aplicando a relação 9.53 à equação 9.51, temos
? ? 2 2 2 ? ?
1 1
? ?
? ?
CC T
MAX MIN
N V V T
I I
N L
(9.54)
Resolvendo o sistema formado pelas equações 9.52 e 9.54, e lembrando que L L N N 1 2 1 2 ? ? ?2 ,
temos que a tensão de saída no modo contínuo é
? ?
? ?
2
1 1
?
?
? ? ?
?
S CC T d
N
V V V V
N
(9.55)
No modo descontínuo, temos I1MIN ? 0 e I2MIN ? 0 , e o descarregamento de L2 ocorre no intervalo
?1T , menor que ? ? 1?? T . As equações 9.52 e 9.54 são re-escritas como
? ? 1
2
2
? ?
?
S d
MAX
V V T
I
L
(9.56)
e
2 ? ?
2
1 1
? ?
?
CC T
MAX
N V V T
I
N L
(9.57)
Solucionando o sistema de equações 9.56 e 9.57, temos que a tensão de saída no modo descontínuo
é dada por
? ? 2
1 1
? ?
? ? ?
S CC T d
N
V V V V
N
(9.58)Material não disponível para publicação
132
A fronteira entre os dois modos de operação ocorre em I2MIN ? 0 e ?1 ?1?? . A corrente média
que circula pela carga pode ser calculada com base na Fig. 9.11, e é dada por
? 2 2 ??1 ?
2
? ??
?
MAX MIN
S
I I
I (9.59)
Solucionando o sistema de equações 9.54, 9.55 e 9.59, temos
? ?? ?
? ?
2 1
1 ?
?
? ?
?
?
S d
CC T
N V V
N V V
(9.60)
? ?
? ?
2 2
1
2
? ?
?
?
CC T
S d S
V V T
L
V V I
(9.61)
? ? ? ? 2
2
1
2
? ? ?
?
S d
S
V V T
L
I
(9.62)
Neste conversor, o parâmetro ? é uma especificação de projeto, ou seja, deve ser arbitrado.
As condições necessárias para garantir a operação em modo contínuo são as mesmas do conversor
Boost, mas podemos escolher o ?MIN. Desta forma temos
? ?? ?
? ?
2 1
1 ?
?
? ?
?
?
MIN S d
MIN CCMAX T
N V V
N V V
(9.63)
? ?
? ?
2 2
1
2
? ?
?
?
MIN CCMAX T
S d SMIN
V V T
L
V V I
(9.64)
? ? ? ? 2
2
1
2
? ? ?
?
MIN S d
SMIN
V V T
L
I
(9.65)
Pela equação 9.55, podemos calcular o ?MAX, fazendo V V CC CCMIN ? , ou seja,
? ?
? ?
2
1
1
1
? ?
?
?
?
MAX
CCMIN T
S d
V V N
V V N
(9.66)
De forma similar ao conversor Boost, o modo descontínuo é garantido, escolhendo o ?MAX, e
aplicando as condições V V CC CCMIN ? e I I S SMAX ? , ou seja,
? ?? ?
? ?
2 1
1 ?
?
? ?
?
?
MAX S d
MAX CCMIN T
N V V
N V V
(9.67)
? ?
? ?
2 2
1
2
? ?
?
?
MAX CCMIN T
S d SMAX
V V T
L
V V I
(9.68)
? ? ? ? 2
2
1
2
? ? ?
?
MAX S d
SMAX
V V T
L
I
(9.69)
O capacitor de filtragem é calculado da mesma forma que no conversor Boost, ou seja,
?
? SMAX MAX
S
ripple
I T
C
V
(9.70)
O transistor e o diodo também devem ser dimensionados, segundo as correntes e tensões que estão
submetidos. Vamos considerar somente o modo de operação descontínuo, pois as correntes e tensões
de pico são, na maioria das vezes, maiores que no modo contínuo. Desta forma, se dimensionarmos oMaterial não disponível para publicação
133
transistor e o diodo para operarem no modo descontínuo, também estarão dimensionados para o modo
contínuo, com margem de segurança mais alta.
A corrente de pico ICpico no transistor coincide com o pico de corrente no indutor L1, e é alcançada
quando ? ??MAX e V V CC CCMIN ? . Portanto, temos pela 9.51 que
? ?
1
CCMIN T MAX
Cpico
V V T
I
L
? ?
?
A corrente média no transistor é obtida pelo valor médio da corrente no indutor L1, ou seja,
? ? 2
2 1
CCMIN T MAX
C
V V T
I
L
? ?
?
A tensão máxima no transistor ocorre durante o descarregamento de L2, quando a tensão reversa de
L1 se soma à da fonte. Desta forma, pela relação de espiras, temos
1 ? ?
2
? ? ?
CMAX CCMAX d S
N
V V V V
N
A corrente média que circula pelo diodo é a mesma da carga, ou seja,
?
I I d SMAX
A corrente de pico no diodo é a corrente máxima do indutor L2, ou seja,
1 ? ? 1
2 1
2 1 2
CCMIN T MAX
dpico MAX MAX
N V V N T
I I I
N L N
? ?
? ? ?
A tensão reversa Vdr no diodo equivale à variação máxima de tensão no indutor L1 refletida para L2
e somada com a tensão de saída. Através da relação de espiras, temos
2 ? ?
1
? ? ?
dr S CCMAX T
N
V V V V
N
A Tabela 9.4 resume as equações de projeto do conversor Flyback.
Tabela 9.4: Equações de projeto do conversor Flyback.
CONVERSOR FLYBACK
CONTÍNUO DESCONTÍNUO
? ?
? ?
2
1 1
?
?
? ? ?
?
S CC T d
N
V V V V
N
? ? 2
1 1
? ?
? ? ?
S CC T d
N
V V V V
N
? ?? ?
? ?
2 1
1 ?
?
? ?
?
?
MIN S d
MIN CCMAX T
N V V
N V V
? ?? ?
? ?
2 1
1 ?
?
? ?
?
?
MAX S d
MAX CCMIN T
N V V
N V V
? ?
? ?
2 2
1
2
? ?
?
?
MIN CCMAX T
S d SMIN
V V T
L
V V I
? ?
? ?
2 2
1
2
? ?
?
?
MAX CCMIN T
S d SMAX
V V T
L
V V I
? ? ? ? 2
2
1
2
? ? ?
?
MIN S d
SMIN
V V T
L
I
? ? ? ? 2
2
1
2
? ? ?
?
MAX S d
SMAX
V V T
L
I
? ?
? ?
2
1
1
1
? ?
?
?
?
MAX
CCMIN T
S d
V V N
V V N
2 1 ? ?
?
?
?
?
SMIN S d
MIN
CCMAX T
L I V V
T
V VMaterial não disponível para publicação
134
?
? SMAX MAX
S
ripple
I T
C
V
?
? SMAX MAX
S
ripple
I T
C
V
TRANSISTOR E DIODO
? ?
1
CCMIN T MAX
Cpico
V V T
I
L
? ?
? ?
? 2
2 1
CCMIN T MAX
C
V V T
I
L
? ?
?
1 ? ?
2
? ? ?
CMAX CCMAX d S
N
V V V V
N
?
I I d SMAX
? ? 1
1 2
CCMIN T MAX
dpico
V V N T
I
L N
? ?
?
2 ? ?
1
? ? ?
dr S CCMAX T
N
V V V V
N
O dimensionamento do transistor e diodo dos outros conversores é similar ao Flyback.
Exemplo: Projetar um conversor Flyback que opere no modo descontínuo, e atenda às especificações
abaixo:
1. 100 155 ? ?
V V V CC .
2. 100 5 ? ?
mA I A S .
3. ? ? 0.5
MAX .
4. ?100
V mV ripple .
5. Frequência de chaveamento 40 ?
S
f kHZ .
6. Tensão de saída ? 5
V V S .
7. ? 0
VT e 1 V V d ? .
Solução:
Usaremos as equações da Tabela 9.4.
Passo 1:
Determinação da relação de espiras.
? ?? ?
? ?
? ?? ?
? ?
2 1
1 2
1 1 0.5 5 1
0.06 16.7
0.5 100 0
?
?
? ? ? ?
? ? ? ? ?
? ?
MAX S d
MAX CCMIN T
N N V V
N V V N
Passo 2:
Cálculo dos indutores.
? ?
? ?
? ?
? ?
2 2 3 2 2
3
1 1
0.5 100 0 1 40 10
1.04 10 1.04
2 2 5 1 5
?
?
? ? ? ? ?
? ? ? ? ? ?
? ? ? ?
MAX CCMIN T
S d SMAX
V V T
L L mH
V V IMaterial não disponível para publicação
135
? ? ? ? 2 2 ? ? ? ? 3 6
2
1 1 0.5 5 1 1 40 10
3.75 10 2 3.75
2 2 5
?
?
?
?
? ? ? ? ? ?
? ? ? ? ? ?
?
MAX S d
SMAX
V V T
L L H
I
Passo 3:
Cálculo do capacitor de filtragem.
3
6
3
5 0.5 1 40 10
625 10 625
100 10
?
? ?
?
? ? ?
? ? ? ? ? ?
?
SMAX MAX
S S
ripple
I T
C C F
V
Passo 4:
Cálculo das correntes de pico e média no coletor do transistor.
A corrente de pico no transistor é determinada pela máxima variação de tensão no indutor L1, no
intervalo de carregamento ?MAX. Portanto, temos
? ? ? ? 3
1 3
1
100 0 0.5 1 40 10
1.2 1.2
1.04 10
CCMIN T MAX
MAX Cpico
V V T
I I A
L
?
?
? ? ? ? ?
? ? ? ? ?
?
A corrente média é dada pela área da corrente de carregamento, ou seja,
1 0.5 1.2
0.3 0.3
2 2
MAX MAX
C C
I
I I A ? ? ? ? ? ? ?
Passo 5:
Cálculo da tensão máxima no coletor do transistor.
A tensão máxima no coletor do transistor ocorre durante o descarregamento de L2, quando a tensão
reversa de L1 se soma à da fonte.
1 ? ? ? ?
2
? ? ? ? ? ? ? ? ? ? 155 16.7 1 5 255.2 255.2
CMAX CCMAX d S CMAX
N
V V V V V V
N
Passo 6:
Cálculo das correntes média máxima e pico do diodo.
A corrente média que circula pelo diodo é a mesma da carga, ou seja,
? ? ? ? 5 5
I I I A d SMAX d
A corrente de pico no diodo é a corrente máxima do indutor L2, ou seja,
1
2 1
2
16.7 1.2 20 20
dpico MAX MAX dpico
N
I I I I A
N
? ? ? ? ? ? ?
Passo 7:
Cálculo da tensão reversa máxima no diodo.
A tensão reversa Vdr no diodo equivale à variação máxima de tensão no indutor L1 refletida para L2
e somada com a tensão de saída. Através da relação de espiras, temos
2 ? ? ? ?
1
? ? ? ? ? ? ? ? ? ? 5 0.06 155 0 14.3 14.3
dr S CCMAX T dr
N
V V V V V V
N
9.5 Conversor Forward
Conforme analisado anteriormente, o conversor Buck atua como abaixador de tensão. Se
desejarmos elevar tensão com esta estrutura, devemos promover algumas modificações. O conversor
Forward é uma versão modificada do Buck, que permite elevação e redução de tensão. O circuito
básico encontra-se na Fig. 9.12. Verificamos facilmente que o circuito é composto por um conversor
Buck, mas com alimentação fornecida através do sistema de indutores acoplados L1, L2 e L3.Material não disponível para publicação
136
Considerando acoplamento unitário, durante a condução do transistor, a tensão ? ? V V CC T ? é
transferida ao indutor L2 pela relação de espira N2 1 N . Descontando a queda de tensão Vd1 no diodo
D1, temos que a tensão v t a ? ? no modo contínuo é dada pelo gráfico da Fig. 9.13(a). Constatamos que
a tensão de alimentação, da seção correspondente ao conversor Buck, é N2 1 1 N V V V ? CC T d ? ? ? .
Cs Is
Vs
D1 L
Rb
Vp
I2
Vcc
Q
I1
D2
.
L2
.
L3
N1 : N3 : N2 Va
.
L1
D
Fig. 9.12: Conversor Forward.
(a)
(b)
Fig. 9.13: Tensão de alimentação modificada: (a) modo contínuo; (b) modo descontínuo.
As equações de projeto são as mesmas do conversor Buck, mas trocando ? ? V V CC T ? por
N2 1 1 N V V V ? ? CC T d ? ? , ou seja,
? ? ? ?
? ?
2
1
1
2 1
1
1 1 1
1 , para o modo contínuo
, para o modo descontínuo
S CC T d d
S CC T d d
N
V V V V V
N
N
V V V V V
N
? ?
? ?
? ? ? ?
? ?
? ? ? ? ? ? ?
? ?
? ?
? ? ? ? ? ?
? ? ? ?
(9.71)
Entretanto, devemos determinar o valor máximo do ?, que neste caso é menor que 1. Isto se deve
aos indutores acoplados. Quando o transistor é ligado, o indutor L1, além de fornecer potência à carga,
acumula um pouco de energia no núcleo. Esta energia deve ser totalmente descarregada quando oMaterial não disponível para publicação
137
transistor é desligado. Este procedimento é realizado pelo indutor L3, que força a passagem de uma
corrente pelo diodo e a fonte de alimentação, devolvendo a energia acumulada à fonte. Observe que,
durante o carregamento de L1, o indutor L3 polariza o diodo D2 reversamente, e durante o corte do
transistor, L2 polariza D1 inversamente, mas L3 polariza D2 diretamente. Portanto, no carregamento de
L1, devemos ter
? ?
1
? ?
? ? I V V T CC T
L
(9.72)
No descarregamento de L3, pela relação de espiras, temos
1 1 2 ? ?
3 3
N V V T CC d
I
N L
?? ?
? ? (9.73)
onde
?1?T é o tempo que L3 necessita para descarregar totalmente.
Substituindo a equação 9.72 em 9.73, temos
? ?
? ?
3
1
1 2
CC T
CC d
N V V
N V V
? ?
?
? ?
?
(9.74)
Sabemos que ?1? ? ? ?1 ?? , e aplicando esta condição à equação 9.74, lembrando que
? ?
V V V CCMIN CC CCMAX , devemos ter
2
1
3
1
1
? ?
? ? ?
? ? ?
? ? ?
MAX
CCMAX T
CCMAX d
N V V
N V V
(9.75)
ou de forma equivalente
2
3 1
1
?
?
?
?
? ? ?
? ?
? ? ?
MAX
CCMAX T
MAX
CCMAX d
NN
V V
V V
(9.76)
Aplicando a condição V V CC CCMIN ? à equação 9.71, também temos que
2 ? ? 1
1
S d
MAX
CCMIN T d d
V V
N
V V V V
N
?
?
?
? ? ?
(9.77)
ou de forma melhor
? ? ? ?
2 1
1
S d d d
MAX CCMIN T CCMIN T
N V V V V
N ? V V V V
? ?
? ?
? ?
(9.78)
As equações 9.76 e 9.78 sugerem que ?MAX deve ser uma especificação de projeto.
É importante observar que, em regime permanente, ? ??MAX ocorre em V V CC CCMIN ? , mas na
equação 9.75, usamos ? ??MAX em V V CC CCMAX ? . Isto pode acontecer quando o conversor passa por
um transiente, por exemplo, uma mudança brusca no consumo da carga, ou na tensão de alimentação.
A Tabela 9.5 resume as equações de projeto do conversor Forward.
Tabela 9.5: Equações de projeto do conversor Forward.
CONVERSOR FORWARD
CONTÍNUO DESCONTÍNUO
2 ? ? ? ? 1
1
? 1 ?
? ?
? ? ? ? ? ? ?
S CC T d d ? ?
N
V V V V V
N
2 1 ? ? 1
1 1 1
S CC T d d
N
V V V V V
N
? ?
? ? ? ?
? ?
? ? ? ? ? ?
? ? ? ?Material não disponível para publicação
138
? ? ? ?
2 1
1
S d d d
MAX CCMIN T CCMIN T
N V V V V
N ? V V V V
? ?
? ?
? ? ? ? ? ?
2 1
1
S d d d
MAX CCMIN T CCMIN T
N V V V V
N ? V V V V
? ?
? ?
? ?
2
3 1
1
?
?
?
?
? ? ?
? ?
? ? ?
MAX
CCMAX T
MAX
CCMAX d
NN
V V
V V
2
3 1
1
?
?
?
?
? ? ?
? ?
? ? ?
MAX
CCMAX T
MAX
CCMAX d
NN
V V
V V
? ? ? ?
? ?
2
1
1
2
1
1
2
? ?
? ? ? ? ? ?
? ?
?
? ?
? ? ? ? ?
? ?
S d CCMAX T d S
SMIN CCMAX T d d
N
V V V V V V T
N
L
N
I V V V V
N
? ? ? ?
? ?
2
1
1 2
1
1
0
2
S d CCMIN T d S
SMAX CCMIN T d d
N
V V V V V V T
N
L
N
I V V V V
N
? ?
? ? ? ? ? ?
? ?
? ?
? ?
? ? ? ? ?
? ?
2 ? ? 1 2
1
4 2
CCMAX T d d
S
ripple
N
V V V V T
N
C
? LV
? ?
? ? ? ? ?
? ?
?
2 ? ? 1 2
1
4 2
CCMAX T d d
S
ripple
N
V V V V T
N
C
? LV
? ?
? ? ? ? ?
? ?
?
2 ? ? 1
1
?
?
?
? ? ?
S d
MIN
CCMAX T d d
V V
N
V V V V
N
? ?
2 2 ? ? 1 1 ? ?
1 1
SMIN S d
MIN
CCMAX T d S CCMAX T d d
I L V V
N N
T V V V V V V V V
N N
?
?
?
? ?? ?
? ?? ? ? ? ? ? ?
? ?? ?
Note que os valores dos indutores não estão definidos. Isto é razoável, pois quaisquer valores
servem, desde que as relações de espiras corretas sejam respeitadas. Entretanto, devemos escolher os
menores valores possíveis, para termos as menores dimensões. Esta escolha é feita, considerando a
energia armazenada no núcleo dos indutores como um percentual, pré-definido, da energia transferida
à carga no intervalo de chaveamento.
9.6 Dimensionamento do Núcleo
O núcleo dos indutores usados nas fontes chaveadas é, em geral, de ferrite, devido às elevadas
frequências, e são dimensionados em função do máximo fluxo magnético, para evitar a saturação.
Normalmente, usamos núcleos retangulares e toroidais, conforme a Fig. 9.14a e b respectivamente.
Os núcleos toroidais são menores e mais eficientes, devido à distribuição mais uniforme do campo
magnético, mas a confecção dos indutores é mais trabalhosa. Na maioria das aplicações usamos
núcleos retangulares.
(a) (b)
Fig. 9.14: Núcleo do transformador: a) retangular; b) toroidal.
Um resultado bastante conhecido do eletromagnetismo mostra que o campo magnético dentro de
um núcleo fechado éMaterial não disponível para publicação
139
2?
?
ef
E
B
A l
(9.79)
onde
1. ? é a permeabilidade magnética do material;
2. E é a energia acumulada no indutor;
3. l é o comprimento médio do caminho magnético;
4. Aef é a área efetiva do núcleo, por onde podemos concentrar todo o fluxo, como se o núcleo
fosse um toróide.
Portanto, sabendo a energia máxima EMAX acumulada no núcleo, e o máximo campo magnético
BMAX que o material suporta sem saturação, escolhemos um núcleo segundo os parâmetros Aef e l, de
forma a atender a equação 9.80.
2?
?
MAX
MAX
ef
E
B
A l
(9.80)
O cálculo da energia máxima acumulada é simples. Por exemplo, considere o conversor Flyback.
No intervalo de tempo T, a carga e o diodo consomem a quantidade de energia
EMAX SMAX d S ? ? I V V T ? ? , que deve ser o mesmo valor armazenado pelo núcleo, no mesmo intervalo T.
9.7 Fonte de Tensão VCC
A fonte de tensão VCC, pode ser uma bateria ou um retificador de meia onda ou onda completa, com
filtro capacitivo, ligado diretamente à rede elétrica, conforme a Fig. 9.15a e b.
Vrede
+ _
CF Vcc
(a)
Vrede
CF
+ _
Vcc
(b)
Fig. 9.15: Retificador com filtro capacitivo: a) meia onda; b) onda completa.
Chamando fF a frequência da rede elétrica, podemos calcular o capacitor CF pela energia perdida
durante o intervalo de descarga. O capacitor CF se carrega a cada intervalo de tempo T f F ?1 F (meia
onda) ou T f F ?1 2 ? ? F (onda completa). Neste intervalo, a tensão no capacitor varia de VCCMIN a
VCCMAX, e a variação de energia é dada por
1 1 2 2
2 2
? ? ?
E C V C V F CCMAX F CCMIN (9.81)
Esta quantidade de energia tem que ser equivalente ao consumo do conversor no intervalo TF.
Considerando que, no intervalo de chaveamento TF, a potência média máxima consumida pelo
conversor seja PMAX , a energia consumida é dada por
? ? E P T MAX F (9.82)
Substituindo a equação 9.82 em 9.81, temos
? ? 2 2
2
MAX F
F
CCMAX CCMIN
P T
C
V V
?
?
(9.83)Material não disponível para publicação
140
Como exemplo, considere o conversor Flyback projetado no item 9.4, onde 100 V V CCMIN ? e
?155
V V CCMAX . A potência média máxima consumida pelo conversor é
P I V V W MAX SMAX d S ? ? ? ? ? ? ? ? 5 1 5 30 ? ?
Considerando um retificador de onda completa, e a rede de 60Hz, o capacitor de filtragem é
? ?
? ? 2 2
2 30 2 60
35.7
C C F F F 155 100 ?
? ?
? ? ?
?Material não disponível para publicação
141
Capítulo 10
Conversores Digital-Analógico e Analógico-Digital
Todo sistema digital que, de certa forma, interage com o meio físico, necessita de uma interface
analógica-digital (ADC) e ou digital-analógica (DAC). Os ADCs convertem um sinal de tensão ou
corrente em um registro binário, que pode ser processado digitalmente. Os resultados de um
processador digital, por exemplo um filtro digital, ou sistema de controle, muitas vezes são saídas
analógicas. Portanto, é necessário um DAC, que é um dispositivo capaz de converter um registro
binário em um sinal de tensão ou corrente.
A precisão dos processadores digitais pode ser tão grande quanto desejarmos, bastando aumentar o
número de bits, a velocidade de processamento e aprimorar os algoritmos. Entretanto, de nada adianta
a precisão quase absoluta no processamento, se os ADCs e DACs são imprecisos. Portanto, é
fundamental o projeto de ADCs e DACs que atendam a precisão exigida pelos processadores. Para
atender esta exigência, existem muitas estruturas para implementação de ADCs e DACs, onde as
características principais são: a velocidade de conversão, a linearidade, a faixa dinâmica e o nível de
ruído.
10.1 Conversor Digital-Analógico com Rede R-2R
Este tipo de DAC, muito usado, utiliza uma rede resistiva R-2R, para converter o dado binário em
analógico. A principal característica da rede R-2R, é que a resistência vista por cada resistor 2R é
sempre 2R, conforme mostrado na Fig. 10.1.
Fig. 10.1: Conversor DAC com rede R-2R.
As chaves analógicas são comandadas pelos sinais lógicos Dk. Quando Dk ? 0 , a chave conecta o
resistor 2R ao terra, e quando 1 Dk ? , a conexão é feita ao terra virtual do opamp. O número N de
chaves é o número de bits do conversor.
A tensão de referência VR, estabelece a faixa de tensão de saída do conversor. Analisando o
circuito, verificamos que as tensões nos nós sãoMaterial não disponível para publicação
142
1 2 1
1 2 3
2 2 4 2 8 2 2
? ? ? ?
? ? ? ?
? ? ? ? ? ? ? ? ? ? R N N N n R R R
N N N N n n
V V V V V V V
V V V V
Fazendo a substituição N ? ? n k , temos que
2
2
?
R k
k N
V
V (10.1)
Pela equação 10.1 determinamos facilmente as correntes Ik, ou seja,
2
2 2
?
R k
k N
V
I
R
(10.2)
A corrente total ITotal que entra no terra virtual do opamp, é dada por
? ?
1 1 1
1
0 0 0
2 2
2 2 2
? ? ?
?
? ? ?
? ?
? ? ? ? ? ? ? ? ?
? ? ? ? ?
N N N
R R k k
Total k k k k N N
k k k
V V
I D I D D
R R
Portanto, a tensão de saída Vo é
1
1
0
2
2
?
?
?
? ? ?? ? ? ?
N
R f k
o k N
k
V R
V D
R
(10.3)
Verificamos na equação 10.3, que a tensão de saída Vo é exatamente o número binário
D D D N N ? ? 1 2 0 ? multiplicado pela constante ??V R R R f ? ?2N ?1 ? , que pode ser ajustada para a faixa de
valores desejada.
Os DACs são usados em processadores digitais de sinais (DSP), e como parte de alguns circuitos
conversores analógico-digitais.
10.2 Circuito Sample-Hold
Devemos sempre especificar dois parâmetros básicos nos conversores analógico-digitais, a taxa de
amostragem e o tempo de conversão. A taxa de amostragem deve respeitar a frequência de Nyquist, ou
seja, devemos amostrar com pelo menos o dobro da máxima frequência do sinal. Todo ADC necessita
de um determinado intervalo de tempo para realizar a conversão. Durante este intervalo, o sinal deve
ser estático na entrada do conversor. Para esta finalidade, usamos o circuito sample-hold da Fig. 10.2.
O sinal v t P ? ? está sincronizado com o clock do conversor. Quando v t P ? ? está em nível lógico alto, a
chave S fecha, e o sinal v t in ? ? é aplicado ao capacitor. No momento em que v t P ? ? vai ao nível lógico
baixo, a chave abre e o capacitor retém o valor de v t in ? ? , exatamente no momento da abertura da
chave. O sinal deve ser retido no capacitor por um intervalo de tempo suficiente para realizar a
conversão. A cada ciclo de fechamento e abertura da chave o processo se repete, conforme a Fig. 10.3.
Vp(t)
+ -
C
Vin(t)
S
Vs(t)
Fig. 10.2: Circuito sample-hold.Material não disponível para publicação
143
Fig. 10.3: Sinal amostrado.
10.3 Conversor Analógico-Digital Com Rampa Digital
Neste conversor, como nos próximos que serão apresentados, assumiremos que o sinal v t S ? ? é
oriundo de um sample-hold.
O ADC de rampa digital utiliza um DAC de N bits, um contador binário de N bits, um comparador
de tensão, e uma lógica de controle que gera os pulsos de clock e reset, conforme a Fig. 10.4. No
início da conversão, a lógica de controle envia um pulso de reset, que inicia o contador em zero
D ? 000 0 ? . A cada ciclo de clock, o contador é incrementado e o número binário D é convertido
pelo DAC para a tensão Vo. Quando Vo é imediatamente superior a v t S ? ? , o sinal EC (end of
conversion) vai ao nível lógico alto, informando que o um resultado de conversão válido D está
disponível na saída do contador. A lógica de controle ao receber o sinal EC, reinicia o processo de
conversão. O diagrama de sinais encontra-se na Fig. 10.5.
Contador de N bits
EC
Clock
Vo
DN-2
Reset
Vs(t)
D0
+ -
Lógica de Controle
DAC de N bits
DN-1
Fig. 10.4: ADC com rampa digital.Material não disponível para publicação
144
Fig. 10.5: Diagrama de sinais do ADC com rampa digital.
Este tipo de conversor é lento (alguns kHz), e é muito sensível aos erros nos resistores da rede R-
2R. O tempo máximo de conversão TCmax ocorre para o maior valor de v t S ? ? , e é
2 ? N
T T Cmax ck (10.4)
onde Tck é o período do clock. A frequência de amostragem fS deve ser considerada
1
?
S
Cmax
f
T
(10.5)
10.4 Conversor Analógico-Digital Por Aproximações Sucessivas
O esquema básico de um ADC por aproximações sucessivas encontra-se na Fig. 10.6. Este ADC é
composto por um registrador de deslocamento de N bits, um registrador de aproximações sucessivas
(SAR) (simplesmente um latch), um DAC e um comparador de tensão.
B0
Deslocam ento
de
+ -
DN-1 DN-2 D0
SAR
Vo
DAC de N bits
Clock
Vs(t)
BN-2
Registrador
EC
BN-1
Fig. 10.6: ADC por aproximações sucessivas.
O mecanismo de conversão segue os passos abaixo:
1. Inicialmente o 1 é aplicado à entrada do registrador de deslocamento. A cada bit convertido, o
1 é deslocado uma posição. Então, inicialmente BN ?1 ?1 e B B B N N ? ? 2 3 0 ? ? ? ? ? 0 .
2. O bit mais significativo na saída do SAR, DN-1, é inicialmente igualado a 1, enquanto os
restantes são igualados a 0.
3. Como a saída do SAR controla o DAC, e inicialmente é 1000 0 D ? ? , a saída do DAC é
V V o MAX ? ? ? 2 2 1 N N ?1? ? ? , onde VMAX corresponde à tensão máxima na saída do DAC, ou seja,
quando 1111 1 D ? ? .Material não disponível para publicação
145
4. A tensão v t S ? ? é comparada com Vo. Se Vo é maior que v t S ? ? , a saída do comparador é 1, e o
bit DN-1 é igualado a 0. Se Vo é menor que v t S ? ? , a saída do comparador é 0, e o bit DN-1 é
mantido em 1.
5. O 1 aplicado ao registrador de deslocamento é deslocado uma posição, ou seja, o bit BN ?2 ?1,
e os restantes iguais a zero.
6. O bit DN-2 é igualado a 1, enquanto D D D N N ? ? 3 4 0 ? ? ? ? ? 0 , e DN-1 continua com o valor
anterior. A saída do DAC passa a ser V V o MAX ? ? 2 2 2 1 N N ?1? ? ? ? , se DN ?1 ? 0 , ou
V V o MAX ? ? 3 2 2 2 1 ? N N ?1? ? ? , se DN ?1 ?1 .
7. A tensão v t S ? ? é comparada com Vo. Se Vo é maior que v t S ? ? , o bit DN-2 é igualado a 0, caso
contrário, é mantido em 1.
8. O processo continua, até que todos os bits do registrador de deslocamento sejam percorridos,
quando então, temos na saída do SAR o resultado da conversão. Neste momento, o sinal EC
assume nível lógico alto, sinalizando o final da conversão. O procedimento é reiniciado, e
outra conversão é realizada.
Este conversor é relativamente rápido (alguns MHz), pois necessita somente de N ciclos de clock,
para qualquer valor de v t S ? ? . O tempo de conversão é sempre
?
T NT C ck (10.6)
e a frequência de amostragem equivale a
1
?
S
C
f
T
(10.7)
10.5 ADC de Rampa Simples
O ADC de rampa simples é um conversor de fácil implementação, e boa precisão. É composto por
um integrador, um comparador de tensão, um contador de N bits, um latch de N bits e uma lógica de
controle. O circuito básico encontra-se na Fig. 10.7.
D0
EC
S
Lógica
Vs(t)
-Vref
Latch de N bits
Clock Contador de N bits
DN-1
Controle
BN-1 BN-2
Reset
DN-2
Vo1
Vo2
R
+ -
C
B0
+ -
de
Fig. 10.7: ADC de rampa simples.
Inicialmente, o capacitor encontra-se descarregado, e o contador iniciado em B ? 000 0 ? . A
tensão de referência ?
Vref aplicada ao integrador é negativa e, portanto, a tensão Vo1 é uma rampa no
tempo dada por
1
0
1
t?? ??
ref
o ref
V
V V d t
RC RC
(10.8)Material não disponível para publicação
146
Enquanto a saída Vo1 é menor que v t S ? ? , Vo2 é igual a 1 e a lógica de controle aplica sinais de clock
ao contador, que acumula a contagem. Quando Vo1 é maior que v t S ? ? , Vo2 é igual a 0 e o contador
para a contagem, transferindo o resultado da conversão para o latch de saída. Neste momento, o sinal
EC assume nível lógico 1, por um determinado intervalo de tempo, fechando a chave S, que
descarrega o capacitor. O processo tem início novamente, e outra conversão é realizada.
O tempo de conversão TC é dado pelo intervalo no qual Vo1 varia de zero a v t S ? ? , portanto
? ?
?
S
C
ref
v t
T RC
V
(10.9)
Considerando que o pulso de clock possui período Tck, a contagem final do contador, e
consequentemente o valor da conversão é
? ?
int int
? ? ? ?
? ? ? ? ? ? ? ?
? ? ? ?
C S
ck ref ck
T v t RC
D
T V T
(10.10)
O maior tempo de conversão ocorre quando D ? 2 1 N ? , ou seja,
T T Cmax ck ? ? ?2 1 N ? (10.11)
A frequência de amostragem fS deve considerada
1
?
S
Cmax
f
T
(10.12)
Este conversor, embora preciso, é muito lento (alguns Hz), e muito usado em voltímetros digitais.
10.6 ADC de Rampa Dupla
O ADC de rampa simples é muito sensível às variações de R e C, conforme podemos verificar na
equação 10.10. O ADC de rampa dupla tem por objetivo eliminar a imprecisão gerada por estes
componentes. O circuito básico encontra-se na Fig. 10.8.
S1
DN-1
EC
DN-2
Vs(t)
D0
R B0
Latch de N bits
BN-2
Contador de N bits
de
Vo1
BN-1
+ -
S2
Reset
Controle
Clock
+ -
C
Lógica
CO
Vo2
-Vref
Fig. 10.8: ADC de rampa dupla.
Inicialmente o capacitor está descarregado, e a chave S1 conecta a fonte v t S ? ? ao integrador.
Portanto, o sinal Vo1 é uma rampa no tempo, dada por
1 ? ? ? ?
0
1
? ? ? ? ? ?
t?
S
o S
v t
V v d t
RC RC
(10.13)Material não disponível para publicação
147
A lógica de controle aplica pulsos de clock, com período Tck, ao contador, que incrementa de 0 até
2N . Portanto, neste intervalo Vo1 varia de zero a ?v t T RC S ck ? ?2N . Após receber 2N pulsos de clock,
o contador volta a condição inicial 000 0 B ? ? , e a saída CO vai ao nível lógico alto, que comuta a
chave S1 para ?Vref . O contador conta os pulsos de clock até o momento em que Vo2 ?1 . Esta
condição é alcançada quando Vo1 ? 0 . Neste momento, a lógica de controle carrega o resultado da
contagem no latch, e reinicia o contador. A saída EC vai ao nível lógico alto, que fecha a chave S2 e
descarrega o capacitor. O intervalo de tempo ?T que Vo1 gasta para variar de ?v t T RC S ck ? ?2N a zero
é
? ?2 ? ?
? ? ? ? ? ? 0 2
N
ref S ck S N
ck
ref
V v t T v t
T T T
RC RC V
(10.14)
O resultado da conversão é dado por
? ?
int int 2
? ? ? ? ?
D ? ? ? ? ? ? T V ck ref T ? ? ? ? ? ? N v t S (10.15)
O tempo máximo de conversão é dado por
T T T T Cmax ck ck ck ? ? ? ? ? 2 2 1 2 1 N N N ? ? ? ?1 ? (10.16)
e a frequência de amostragem fS deve ser considerada
1
?
S
Cmax
f
T
(10.17)
Verificamos na equação 10.15, que o resultado da conversão não depende da constante RC e do
período do clock. Este conversor é muito preciso, mas lento.
10.7 Conversor Flash
O conversor flash é usado em sistemas onde o tempo de conversão é muito pequeno, osciloscópios
digitais, vídeos digitais, etc. Uma forma simples de implementação de um ADC de N bits, é a
utilização de 2N comparadores e um codificador binário. Considere como exemplo o ADC de 2 bits
da Fig. 10.9. A tensão Vref é dividida em partes iguais pela rede de resistores. As tensões V1, V2, V3 e
Vref são usadas como referências pelos comparadores, e são dadas por V V k k ref ? 4 . As saídas dos
comparadores definem a posição da tensão v t S ? ? em relação às tensões de comparação. As saídas são
aplicadas ao codificador binário, que apresenta o resultado da conversão em D1D0, sendo que a saída
OVF indica o overflow na conversão. A Tabela 10.1 apresenta a lógica de conversão.Material não disponível para publicação
148
Vs(t)
OVF
V1
V3
V2
+ -
OP2
A B
+ -
OP1
+ -
OP3
C
R R
CODIFICADOR BINÁRIO
R
D1
D
Vref
R
+ -
OP4
D0
Fig. 10.9: Conversor flash de 2 bits.
Tabela 10.1: Tabela de conversão do ADC flash.
CONDIÇÃO A B C D OVF D1 D0
v t V S ? ? ? 1 0 0 0 0 0 0 0
V v t V 1 2 ? ? S ? ? 0 0 0 1 0 0 1
V v t V 2 3 ? ? S ? ? 0 0 1 1 0 1 0
V v t V 3 ? ? S ref ? ? 0 1 1 1 0 1 1
v t V S ref ? ? ? 1 1 1 1 1 0 0
Este tipo de conversor é muito rápido, trabalha na faixa de centenas de MHz. O tempo de
conversão é determinado pelo slew-rate dos comparadores de tensão, e a velocidade de propagação do
sinal no circuito combinacional. Entretanto, existem alguns inconvenientes. São necessários 2N
resistores idênticos, o que é difícil de obter com precisão. São necessários também, 2N comparadores
de tensão, e uma lógica combinacional grande. Estes fatores levam a um consumo elevado de
potência, e a uma área grande de integração (circuito integrado).
De forma geral, podemos representar o ADC de N bits como na Fig. 10.10, onde as tensões de
comparação são dadas por
; 1, ,2 1
2
? ? ? ?
N
k ref N
k
V V k (10.18)
O codificador binário pode ser implementado por uma memória de 2N posições.Material não disponível para publicação
149
Fig. 10.10: Conversor flash de N bits.
10.8 Conversor ??
Os conversores ?? são largamente usados nos circuitos integrados que realizam processamento
misto analógico-digital de sinais, e em circuitos de comunicações. Estes conversores amostram o sinal
a uma taxa muito acima do limite de Nyquist, mas com um número de bits muito pequeno, na maioria
das aplicações somente 1 bit. O diagrama de blocos do conversor encontra-se na Fig. 10.11.
Vs(kT) 1bit ADC
q(kT)
1bit DAC
u(kT)
DELAY y (kT)
INTEGRADOR
-1
Fig. 10.11: Diagrama de blocos do conversor ??.
O sinal de entrada v t S ? ? é amostrado em intervalos de tempo T. Portanto, podemos considerar a
entrada do ADC como v kT S ? ? . Os conversores ADC e DAC de 1 bit são simplesmente
comparadores, que determinam se o sinal está abaixo ou acima de um determinado valor de referência.
Analisando o diagrama de blocos, verificamos que a saída u kT ? ? do integrador é dada por
u kT v kT T q kT T u kT T ? ? ? ? ? ? ? ? ? ? S ? ? ? ? (10.19)
que é a integral discreta do erro v kT q kT S ? ? ? ? ?.
Como o ADC é de 1 bit, é natural que exista uma discrepância grande entre u kT ? ? e y kT ? ? , que é
devida ao erro de quantização Q kT e ? ? gerado pelo ADC. Portanto, podemos assumir que
Q kT y kT u kT e ? ? ? ? ? ? ? ?
ou de forma melhorMaterial não disponível para publicação
150
u kT y kT Q kT ? ? ? ? ? ? e ? ? (10.20)
Podemos interpretar Q kT e ? ? como sendo uma fonte de ruído introduzido no sistema, e
substituindo a equação 10.20 em 10.19, temos
y kT Q kT v kT T q kT T y kT T Q kT T ? ? ? ? ? ? ? ? ? ? ? e S e ? ? ? ? ? ? ? ? ? ? (10.21)
Por simplicidade, sem perder generalidade, podemos considerar a saída do DAC q kT y kT ? ? ? ? ? , e
aplicando esta condição à equação 10.21, temos finalmente
y kT v kT T Q kT Q kT T ? ? ? ? ? ? ? ? ? S e e ? ? ? ? (10.22)
Aplicando a transformada Z à equação 10.22, temos
Y z V z z z Q z ? ? ? ? ? S e ? ? ? ? 1 1 ?1 ? ? ?
Notamos claramente que Y z ? ? é composto pelo sinal V z S ? ? atrasado de um intervalo de
amostragem, mais o ruído Q z e ? ? modulado pela função ?1? z?1? . Podemos representar Y z ? ? por
Y z X z N z ? ? ? ? ? ? ? ? , onde X ? ? ? ? z V z z ? S ?1 é o sinal desejado, e N ? z z Q z ? ? ? ?1 ?1? e ? ? é o ruído.
É comum aproximar o erro de quantização Q kT e ? ? por um ruído branco, com densidade espectral
de potência S T N QQ ?? ? ? 0 2 . Lembrando que z e ? j?T , temos que a densidade espectral de potência
do sinal desejado é S T XX ?? ? , e a do ruído dada por
S T T N NN ? ? ? ? ? ? ?1 cos? ?? 0 (10.23)
Verificamos no gráfico da Fig. 10.12 que a potência do ruído cresce com a frequência, significando
que a relação sinal ruído (SN) degrada com o aumento da frequência.
Fig. 10.12: Gráfico das densidades espectrais de potência do sinal desejado e ruído.
Assumindo que a máxima frequência do sinal de entrada seja ?max, podemos calcular a relação
sinal ruído por
? ?
? ?
? ?
? ? ? ?
? ?
? ?
0 0 0
0
0 0
0 0
sin
1 cos
? ? ?
? ?
? ? ? ? ? ?
?
? ? ? ? ?
? ? ?
? ?
? ? ?
? ?
max max max
max max
XX XX XX
max
NN max
S T d S T d S T d
SN
N T
S T d T N d N
T
(10.24)
É possível fazer a relação sinal ruído tão grande quanto desejarmos, bastando reduzir T ou, de
forma equivalente, aumentar a frequência de amostragem. Entretanto, como se tratam de sinais
amostrados, devemos avaliar a potência dos sinais até metade da frequência de amostragem 1 2T .
Portanto, para estabelecermos a SN calculada na equação 10.24, devemos aplicar o sinal de saída a um
filtro passa-baixas que elimine todas as componentes de frequência acima de ?max, e para esta tarefa,
empregamos um filtro digital de N bits. Obrigatoriamente, na saída do filtro, obtemos um sinalMaterial não disponível para publicação
151
digitalizado com N bits. Evidentemente, a SN deve ser compatível com a faixa dinâmica do filtro, ou
seja,
2 SN ? N (10.25)
10.8.1 Implementação do Conversor ?? a Capacitor Chaveado
O conversor ?? é facilmente implementado na tecnologia de capacitores chaveados (SC), conforme
apresentado na Fig. 10.13. Neste tipo de circuito são necessários dois sinais de clock, chamados de
fase 1 e 2, que comandam as chaves analógicas, abrindo-as e fechando-as. Cada fase possui largura
T 2 ; portanto, um intervalo de amostragem T corresponde a duas fases.
Vs(kT)
S6
+ -
+ -
C2
Vs(t) +
-
2
S3
C3
S1
2
2
y (kT)
S4
+ -
2
1
C4
Vref
S5
1
1
C1 u(kT)
S2
q(kT)
1
Fig. 10.13: Conversor ?? a capacitor chaveado.
O sinal v t S ? ? é amostrado pelo sample-hold, formado pela chave S1 e o capacitor C3, durante a fase
2. Portanto, o sinal de saída deve ser avaliado na fase 2.
Neste circuito, temos y kT q kT ? ? ? ? ? , e o conversor ADC de 1 bit é um comparador de tensão, em
torno de Vref.
Para a análise do circuito, usaremos a nomenclatura 1x para representar as variáveis (tensão,
corrente ou carga) observadas na fase 1, e 2 x para a fase 2. O intervalo entre as fases 2 e 1 é T 2 , que
equivale a z?1 2 no domínio da transformada Z.
No tempo da fase 1, todas as chaves comandadas por ela estão fechadas, enquanto as outras
permanecem abertas, e temos o circuito equivalente da Fig. 10.14.
Neste momento, os capacitores C1 e C2 acumulam as cargas 1 1 1 1 Q C V z ? S ? ? e 1 2 2 1 Q C U z ? ? ?
respectivamente. Observamos que a tensão 1V z S ? ? é a mesma medida na fase 2 anterior, ou seja,
? ? ? ?
12
1 2
?
?
V z V z z S S (10.26)
Portanto, temos que a carga acumulada em C1 equivale a
? ?
12
1 1 1 2
?
?
Q C V z z S (10.27)
As outras equações do circuito são
? ? ? ?
12
1 2
?
U z U z z ? (10.28)
? ? ? ? ? ? ? ?
1 1
2 2
1 1 2 2
? ?
Y z Q z Y z z Q z z ? ? ? (10.29)Material não disponível para publicação
152
? ? ? ? ? ?
12
1 4 1 2
?
V z Q z Q z z ? ? (10.30)
+ -
C3 Y(z)
V4(z)
C2
U(z)
V4(z)
C1
Q(z)
Vref
+ -
1
+ -
+ -
Vs(z)
2
C4
Fig. 10.14: Circuito equivalente na fase 1.
No tempo da fase 2, todas as chaves comandadas por ela fecham, enquanto as outras abrem, e
temos o circuito equivalente da Fig. 10.15. Agora, o capacitor C1 acumula a carga
2 1 1 2 4 Q C V z ? ? ? (10.31)
Temos também que
? ? ? ?
12
2 4 1 4
?
V z V z z ? (10.32)
+ -
V4(z)
C1
C3
2
+ -
Vs(z)
C2
Q(z)
1
+ -
U(z)
Vs(z)
+ -
Vref
Y(z)
C4
Fig. 10.15: Circuito equivalente na fase 2.
A variação da carga em C1 é calculada pelas equações 10.27 e 10.31, ou seja,
? ? ? ?
1 1 1
2 2 2
2 1 2 1 1 1 1 2 4 1 2
? ? ?
? ? ? ? ?
Q Q Q z C V z C V z z z S (10.33)
Esta variação de carga é integralmente transferida ao capacitor C2, que passa a acumular a carga
? ? ? ? ? ?
1 1 1
2 2 2
2 2 2 1 1 2 4 1 2
? ? ? ? ?
? ? ? ? ?
Q C U z z C V z C V z z z ? ? S (10.34)
Portanto, a tensão 2U z ? ? é dada porMaterial não disponível para publicação
153
? ? ? ? ? ? ? ?
1 1 1
2 2 1 1 2 2 2
2 1 2 4 2
2 2 2
? ? ? ? ?
? ? ? ? ? ?
? ? S
Q C C
U z U z z V z V z z z
C C C
(10.35)
Substituindo as equações 10.28, 10.32 em 10.35, temos
? ? ? ? ? ? ? ?
1 1 1 1 1
2 2 2 2 2 1 1
2 2 1 4 2
2 2
? ? ? ? ? ? ?
? ? ? ? ?
? ? S
C C
U z U z z z V z z V z z z
C C
(10.36)
Finalmente, substituindo a equação 10.30 em 10.36, temos
2 2 2 2 ? ? ? ? 1 1 1 1 ? ? ? ? ? ?
2
? ? ?
? ? ?
S
C
U z U z z Q z z V z z
C
(10.37)
Retornando ao domínio do tempo, e fazendo C C 1 2 ? , temos que na fase 2
u kT v kT T q kT T u kT T ? ? ? ? ? ? ? ? ? ? S ? ? ? ? (10.38)
Verificamos facilmente que as equações 10.38 e 10.19 são idênticas, mostrando que o circuito
desempenha a função do conversor ??.Material não disponível para publicação
154
Capítulo 11
Phase Locked Loop (PLL)
A ideia central do PLL é controlar a frequência e a fase de um VCO, através de um sinal de
referência com fase ?in ?t? . O diagrama de blocos do PLL encontra-se na Fig. 11.1.
Fig. 11.1: Diagrama de blocos do PLL.
O sinal v t A f t in in in in ? ? ? ?? ? ?? é aplicado ao detector de fase (PD), juntamente com o sinal
v t A f t o o o o ? ? ? ?? ? ?? vindo do VCO. As funções fin ?? ? e fo ?? ? são periódicas em 2? , e com
amplitude igual a 1. A saída do detector de fase é um sinal de tensão proporcional ao erro
? ? ? e in o ?t t t ? ? ? ? ? ? ? , ou seja,
v t k t k t t d d e d in o ? ? ? ? ? ? ? ? ? ? ? ? ? ? ??
onde kd é a constante de ganho do detector de fase. O circuito do detector de fase é, de forma geral, um
multiplicador. Portanto, o sinal de saída possui componentes harmônicas indesejáveis em altas
frequências, e por este motivo, v t d ? ? é aplicado a um filtro passa-baixas, chamado loop-filter (LF). O
sinal v t C ? ? na saída do loop-filter é aplicado ao VCO, que o integra, e produz o sinal
v t A f t o o o o ? ? ? ?? ? ?? , com fase o o C ? ? ? ?
t
? t k v d ? ? ? ? .
Conforme podemos notar, o PLL é um sistema de realimentação negativa que utiliza a fase como
sinal de controle.
Como em todo sistema de malha fechada, devemos garantir a estabilidade da rede, e respeitar as
amplitudes máximas admitidas pelos amplificadores.
Existem várias estruturas para a implementação do detector de fase, e todas possuem uma faixa de
detecção, que pode ser linear ou não, conforme a Fig. 11.2. Portanto, devemos respeitar o maior erro
de fase admissível pelo detector.Material não disponível para publicação
155
Fig. 11.2: Curva de detecção de fase.
Normalmente, os detectores de fase trabalham com multiplicações ou operações lógicas com os
sinais v t in ? ? e v t o ? ? . Estes procedimentos levam a sinais v t d ? ? com largo espectro de frequências,
mas com valores em baixas frequências aproximadamente proporcionais ao erro de fase. O loop-filter
é fundamental para eliminar as componentes em altas frequências, que fatalmente levariam VCO a um
funcionamento caótico.
O VCO também possui uma faixa de operação, uma frequência máxima e mínima em função da
tensão de controle, conforme a Fig. 11.3.
Fig. 11.3: Faixa de atuação do VCO.
11.1 Função de Transferência do PLL
Podemos atribuir a cada bloco do PLL uma função de transferência, ou seja: o loop-filter
representamos pela função passa-baixas F ?s?; o detector de fase, simplesmente pela constante kd; o
VCO pelo integrador k s o , pois a frequência é a derivada da fase, ou seja, ? ? o o ?t d t dt ? ? ? ? . Desta
forma, pelo diagrama da Fig. 11.1, temos as relações:
? ?
??in o d o o d ? ? ss ? ? H s ? ? s k k F s ?k k F s ? ? ? ? (11.1)
? ?
? ? ? ?
e
in o d
s s
s s k k F s
? ?
?
?
(11.2)
? ?
? ?
? ?
? ?
C d ? ?
in o d o
V s sk F s sH s
? s s k k F s k
? ?
?
(11.3)
11.2 Loop-Filter
O loop-filter é uma das partes mais importantes do PLL, pois define a estabilidade e o desempenho
do circuito. Os filtros mais empregados são os de primeira ordem com ganho DC unitário (passivo), eMaterial não disponível para publicação
156
com ganho DC infinito (ativo). A Tabela 11.1 apresenta os dois tipos de filtros, com as respectivas
funções de transferência.
Tabela 11.1: Implementação do Loop-Filter.
Loop-Filter Passivo Loop-Filter Ativo
R2
V1(s) V2(s)
R1
C
R3
C
R3
+ V2(s)
-
R1
V1(s)
+ -
R2
? ? 1
1
z p
s
F s
s
?
?
?
?
?
? z ? CR2
? p ? ? C R R ? ? 1 2
? ? z 1
p
s
F s
? s
? ?
?
? z ? CR2
? p ? CR1
As funções de transferência que caracterizam o PLL dependem do tipo de loop-filter usado, e
encontram-se na Tabela 11.2.
Tabela 11.2: Funções de transferência do PLL, de acordo com o tipo de loop-filter.
Loop-Filter Passivo Loop-Filter Ativo
? ? ? ?
? ?
2
1 1 2
1
2 2 1
1
o o d
in
s
s Q k k
H s
s
s s
Q
? ?
?
?
? ?
?
? ?
? ? ? ?
? ?
? ?
? ?
? ? ? ?
? ?
1 2
1
2 2 1
1
o
in
s
s Q
H s
s
s s
Q
?
?
?
? ?
?
?
? ?
? ?
? ?
? ?
2
2 2 1
1
e p
in
s
s
s s
s s
Q
? ?
? ?
?
?
?
? ?
? ?
? ?
2
2 2 1
1
e
in
s s
s
s s
Q
?
? ?
?
?
? ?
? ?
? ?
2 2
21 1 12
2 2 1
1
C o o d o
in
Q
s s
V s k Q k k k
s
s s
Q
? ? ?
? ?
?
? ?
? ? ? ?
? ?
?
? ?
? ?
? ?
2
1 1 2
2 2 1
1
C o o
in
s s
V s k Q k
s
s s
Q
? ?
? ?
?
?
?
? ?
1
o d
p
k k
?
?
?
1
o d
p
k k
?
?
?
1
1
o d
z
p o d
Q
k k
k k
?
?
?
? ?
? ? ?
? ? 1
2
z
Q
? ?
?
? p ? ? ?R1 2 R C ? ? p ? R1C
? z ? R2C ? z ? R2CMaterial não disponível para publicação
157
Verificamos facilmente que H s ? ? é uma função de transferência passa-baixas, e temos que a
frequência de corte ?3dB (atenuação de 3dB), é dada por
2
3 1 2 2
1 1
1 1 1
? ? db 2 2 Q Q
? ?
? ? ? ? ? ? ?
? ?
(11.4)
Este resultado é válido para PLL com loop-filter ativo e passivo, sendo que para o loop-filter
passivo devemos ter 1 ? z o d k k ? .
É comum usarmos Q ?1 2 para obter a resposta ao degrau mais rápida e sem overshoot.
11.3 Erro em Regime Permanente para um Degrau de Fase
Conforme discutido anteriormente, para o funcionamento correto do PLL, o erro de fase deve estar
dentro da faixa de atuação do detector de fase. Portanto, esta condição deve ser garantida para o tipo
de sinal aplicado ao PLL.
Considerando a entrada um degrau de fase
in in ? ? ? ? ? ? t u t s
? s
? ? ? ? ? ? ??
temos, pela função de transferência do erro de fase, que
? ?
e s s k k F s o d ? ?
?
? ? ?
?
(11.5)
O erro em regime permanente pode ser calculado pelo teorema do valor final, ou seja,
? ? ? ?
0
lim lim
t s
y t sY s
?? ?
? ? ? ? ? (11.6)
Aplicando a equação 11.6 a 11.5, temos
? ? ? ?
lim lim lim 0 t s s ?? ? ? ? ? e e t s s ? ? ? ? ? 0 0 ? ? ? ? ? ? ? ? ? ? s k k F s ? so d ?? ? ?
O erro de fase igual a zero, significa que o PLL está funcionando corretamente, e o sinal de saída
do VCO possui a mesma fase e frequência do sinal de entrada.
11.4 Erro em Regime Permanente para um Degrau de Frequência
Um degrau de frequência ? ? ? in ?t u t ? ? ? ? implica em uma rampa de fase, pois a frequência é a
derivada da fase, ou seja,
? ? ? ? ? ? 2
t 0
in in t u t s
s
?
? ? ?
?
?
? ? ? ? ? (11.7)
Substituindo a equação 11.7 na função de transferência do erro de fase, e aplicando o teorema do
valor final, temos
? ? ? ?
lim lim lim t s s ?? ? ? ? ? e e t s s ? ? ? ? ? 0 0 ? ? ? ? ? ? ? ? ? ? s k k F s k k F ? o d o d ? ? ? ? ? ? ? ? 0 (11.8)
Sabendo que, para o loop-filter passivo, F ?0 1 ? ? , pela equação 11.8, temos que
? ? e o d ? ? ? ? ? ? ? k k . Considerando ?emax o módulo do maior erro de fase que o detector consegue
medir, devemos ter ? ? ? ? k k o d emax .Material não disponível para publicação
158
Entretanto, para o loop-filter ativo, F ?0? ? ? , e o erro de fase em regime permanente é ?e ? ? ? ? 0 .
Neste caso, o PLL consegue rastrear qualquer degrau de frequência, desde que a frequência do sinal de
entrada permaneça dentro da faixa admitida pelo VCO.
Em ambos os casos, a frequência do VCO é idêntica a do sinal de entrada.
Em regime transitório, os resultados não são obtidos de forma tão imediata, pois ?e ? ? t é muito
dependente da ordem do filtro F ? ? s , e normalmente usamos análise numérica. Em geral, com
Q ?1 2 , os transitórios são suaves.
11.5 VCO com Offset
É comum encontrarmos VCOs com offset de frequência, ou seja, com uma tensão v t C ? ? ? 0 o VCO
oscila em ?o. Isto é equivalente a somar uma tensão Vo a v t C ? ? , conforme o diagrama da Fig. 11.4.
Fig. 11.4: VCO com offset.
Lembrando que a transformada de Laplace da constante Vo é V s o , e definindo ?o o o ? k V , temos
o in o ? ? ? ? ? ? s H s s 1 H s 2 ? ?
s
? ? ?
?
? ? (11.9)
? ?
? ?
? ?
o
in
e
o d
s s
s
s
s k k F s
?
?
?
?
?
?
(11.10)
C in o ? ? ? ? ? ? ? ?
o o
sH s H s
V s s
k k s
? ? ? ? (11.11)
11.6 Parâmetros Característicos do PLL
O PLL deve ser dimensionado em função do tipo de sinal que irá rastrear. Nos itens seguintes,
vamos definir três parâmetros básicos que são usados para caracterizar o PLL: o hold-in range, lock-in
range e pull-in range.
11.6.1 Hold-in Range
O hold-in range é o maior desvio de frequência, em relação à ?o, que pode ser aplicado ao sinal de
entrada, sem que o PLL perca o sincronismo. Esta variação deve ser suave, para que não haja
overshoot no transiente. O hold-in range é calculado como o erro de regime permanente do degrau de
frequência, ou seja,
? ?
e k k F o d ? ? 0
?
? ? ? ?
Sabendo que o erro de fase deve estar no intervalo ??emax e emax ? ? ? ? , devemos terMaterial não disponível para publicação
159
emax emax k k F o d ? ? 0
?
? ? ? ? ? ?
ou de forma equivalente
? ? ? k k F o d emax ?0??
Portanto, temos
Hold in Range k k F ? ? o d emax ?0?? (11.12)
Devemos observar que o VCO pode não suportar a variação de frequência acima. Neste caso, o
hold-in range passa a ser definido pela máxima variação de frequência do VCO.
11.6.2 Lock-in Range
Quando um sinal de entrada ?in ?t?, com frequência próxima de ?o, é aplicado ao PLL, este se
comporta como se estivesse em sincronismo e ?in ?t? fosse um degrau de frequência. O lock-in range é
a maior variação de frequência para a qual o PLL sincroniza instantaneamente. Este parâmetro é mais
restritivo que o erro em regime permanente do degrau de frequência, pois exige que o erro de fase
esteja dentro da faixa de atuação do detector, mesmo durante o período transitório. Esta análise só
pode ser feita manualmente para o loop-filter de ordem zero, ou seja, F s ? ? ?1 . Ordens mais elevadas
exigem análise numérica.
Considerando o diagrama da Fig. 11.4, temos que o sinal de saída do PLL no tempo é dado por
? ? ? ? ? ? ? ? ? ?
0
0
t
? ? ? ? ? ? o o o d e o t tu t k k d u t
?
?
? ? ? ? (11.13)
Sabendo que o erro de fase é ? ? ? e in o ?t t t ? ? ? ? ? ? ?, e considerando ? ? in in ?t tu t ? ? ? ? , aplicando
estes resultados à equação 11.13, temos
? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ?
0
0
t
? ? ? ? ? ? ? ? ? e in o in o o d e o t t t tu t k k d u t
?
?
? ? ? ? ? ? ? (11.14)
A condição de sincronização instantânea impõe que a derivada do erro de fase, em relação ao
tempo, seja igual a zero ( d t dt ?e ? ? ? 0 ).
Aplicando esta condição à equação 11.14, temos
0 0 ? ? ? ? ? ? ? ? ? ? ? ? ? ? in o o d e o d e k k t k k t ? ? ? ?
Assumindo que o máximo erro de fase seja ?emax, temos que ? ? ? ? max o d emax k k , ou de forma
equivalente
Lock in Range k k ? ? o d emax ? (11.15)
Para o loop-filter de ordem igual a zero, o ganho de malha do PLL, k k F s o d ? ? , é constante em toda
faixa de frequência. Podemos considerar, de forma aproximada, que o PLL com loop-filter de ordem
maior que zero, se comporta como no caso anterior, mas com ganho de malha igual a k k F o d ? ? ? . Esta
aproximação é razoável, pois, para variações rápidas em ?in ?t?, o loop-filter possui ganho reduzido.
No caso dos filtros apresentados na Tabela 11.1, o ganho em altas frequências é dado por
F ? ? ? ?? z p ? . Desta forma, temos
Lock in Range k k F ? ? ? o d emax ? ?? (11.16)Material não disponível para publicação
160
11.6.3 Pull-in Range
Durante o lock-in range, o PLL entra em sincronismo com o sinal de entrada logo no primeiro
ciclo. Entretanto, existe uma faixa de frequência, k k F k k F o d emax o d emax ?? ? ? ? ?? ? ? ? ? 0 , na qual o
PLL sincroniza, mas após alguns ciclos do sinal de entrada. Esta faixa é chamada pull-in range, e é
determinada empiricamente.
11.7 Aplicações do PLL
As aplicações do PLL são inúmeras, mas estudaremos somente algumas, que estão dentro do
contexto desta apostila.
11.7.1 Demodulação de Frequência
Supondo um sinal de entrada in ? ? ? ? cos 0
t
v t t x d ? ? ? ?
? ?
? ? ? ? ?
? ? ? aplicado ao PLL, com VCO
possuindo frequência de offset ?0, a tensão de saída é
C in ? ? ? ? ? ? ? ? 0
o o
sH s H s
V s s
k k s
? ? ? ? (11.17)
sendo que
in ? ? s 20 X s ? ?
s s
? ?
? ? ?? (11.18)
Substituindo a equação 11.18 em 11.17, temos
C ? ? ? ? ? ?
o
H s
V s X s
k
??
? (11.19)
Sabendo que H s ? ? é um filtro passa baixas, e dimensionando sua frequência de corte acima da
máxima frequência de x?t?, podemos fazer a aproximação
C C ? ? ? ? ? ? ? ?
o o
V s X s v t x t
k k
? ? ? ?
? ? ? (11.20)
Verificamos facilmente na equação 11.20 que v t C ? ? é o sinal de FM demodulado.
Devemos tomar o cuidado de manter o erro de fase sempre menor que o valor máximo permitido
pelo detector de fase. O erro máximo de fase ?e ?s? é dado por
? ? ? ?
? ?
? ?
?e s ? ? ? F s k F s k k s F s k k V s H s C d d o d o ? ? ?? X s X s ? ? ? ?? ? ? ? ?
Admitindo que x? ? ? ? t t ? cos ? , devemos ter, para toda faixa de frequência do sinal de entrada, que
? ?
e emax emax t j F j k k ? ? d o
?
? ? ?
? ?
?
? ? ?
?
(11.21)
Considerando o loop-filter ativo, a equação 11.21 resume-se a
p
emax
z o d k k
? ?
?
? ?
? (11.22)
Exemplo: Projetar um demodulador de FM com PLL, com as seguintes especificações:
Sinal de FMMaterial não disponível para publicação
161
1. ? ? ? ? 2 75 ? kHz .
2.
?0 ? ? 2 10.7 ? MHz .
3. x t ? ? ?1.
4. FM estéreo com faixa de frequência de 0 a 53kHz.
Características do PLL
1.
? ? ? ? ? ? e .
2. 0.8
kd ? .
3. 26.9 106
ko ? ? - com este valor, o VCO aceita uma variação de ? ? ? 2 1 10 ? 6 rd s em torno da
frequência central.
4. Frequência de offset do VCO igual a 2 10.7 ? ? MHz , com tensão de offset 2.5 V V o ? .
5. Loop-filter ativo.
6. Alimentação de 5V.
O circuito encontra-se na Fig. 11.5. Vamos assumir que v t in ? ? é uma função do tipo
in ? ? ? ? 0
t
v t f t x d ? ? ? ?
? ?
? ? ? ? ?
? ? ? .
+ -
VCO
R3
PD
R1
C1
+ -
R3
Vo
2.5V
Vin(t)
R2
R3
Vc(t)+Vo
-Vc(t)
Fig. 11.5: Demodulador de FM.
Para suavizar a resposta transiente, vamos considerar Q ?1 2 . Da equação 11.4, temos que a
frequência de corte é dada por
2
3 1 2 2
1 1
1 1 1
? ? db 2 2 Q Q
? ?
? ? ? ? ? ? ?
? ?
2
3 3
1 1 2 2
1 1
2 53 10 1 1 1 161.8 10
1 1
2 2
2 2
? ? ? rd s
? ?
? ?
? ?
? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ? ?
? ? ? ? ? ?
Das equações da Tabela 11.1, temos
6
3 6
1
26.9 10 0.8
o d 161.8 10 822 10
p
p p
k k
? ?
? ?
?
? ?
? ? ? ? ? ? ?Material não disponível para publicação
162
6
3
1
2 1 2
17.5 10
2 161.8 10 z
z z
Q ?
? ? ?
?
? ? ? ? ? ?
? ?
Escolhendo
C nF 1 ?10 , temos
6 9
? z ? ? ? ? ? ? ? ? ? R C R R 2 1 2 2 17.5 10 10 10 1750 ? ?
6 9 3
? p ? ? ? ? ? ? ? ? ? ? R C R R 1 1 1 1 822 10 10 10 82.2 10 ? ?
Fazendo a verificação do erro máximo de fase, testamos a equação 11.22, ou seja,
6 3
3
3 6
822 10 2 75 10
1 10
17.5 10 26.9 10 0.8
p
emax
z o d k k
? ? ?
? ? ?
?
?
?
?
? ? ? ? ?
? ? ? ? ? ?
? ? ? ?
onde verificamos que o detector de fase opera corretamente.
O sinal de saída é dado pela equação 11.20, ou seja,
? ? ? ? ? ? ? ? ? ? ? ?
3
6
2 75 10
0.018
C C C 26.9 10
o
v t x t v t x t v t x t
k
? ? ? ? ?
? ? ? ? ? ?
?
11.7.2 Modulador de Frequência e Fase
O esquema da Fig. 11.6 funciona como modulador de frequência ou de fase, dependendo de onde
conectamos o sinal de modulação. Para a modulação PM utilizamos o sinal V s P ? ? , enquanto para FM
utilizamos V s F ? ? . Conforme estudado anteriormente, nos moduladores PM e FM consideramos
max 1 v t P ? ? ? e max 1 v t F ? ? ? .
Fig. 11.6: Modulador de fase e frequência.
Analisando o diagrama de blocos, temos que
o in o F P ? ? ? ? ? ? o o ?1 1 ? ?? ? ? ? ? ?? ? ? ? ? ? ?
d
k H s k H s H s
s H s s V s V s V s
s s k
? ?
? ?
? ? ? ? (11.23)
e
e in o F P ? ? ? ? ? ? 1 ? ? o o ? ? 1 1 ? ? ? ? ? ? ?? ? ? ? ? ? ?
d
k H s k H s H s
s H s s V s V s V s
s s k
? ?
? ?
? ? ? ? ? (11.24)
Para funcionar como modulador, o sinal ?in ?t? deve ser periódico e com frequência estabilizada,
sem qualquer tipo de modulação, ou seja, ?in ?t t ? ? ?0 . A tensão v t o ? ? deve ser contínua ( v t V o o ? ? ? ),
pois determina a frequência de offset do VCO em ?0, e ?0 ? k V o o . Aplicando estas condições às
equações 11.23 e 11.24, temosMaterial não disponível para publicação
163
o F P ? ? 20 o ?1 ? ?? ? ? ? ? ? ?
d
k H s H s
s V s V s
s s k
?
?
?
? ? ? (11.25)
e F P ? ? o ? ? 1 ? ? ? ? ? ? ? ?
d
k H s H s
s V s V s
s k
?
?
? ? ? (11.26)
11.7.2.1 Modulador de Fase
O modulador de fase é obtido fazendo V s F ? ? ? 0 . Aplicando esta condição às equações 11.25 e
11.26, obtemos
o P ? ? 20 ? ? ? ?
d
H s
s V s
s k
?
? ? ? (11.27)
e
e P ? ? ? ? ? ?
d
H s
s V s
k
? ? ? (11.28)
Dimensionando a frequência de corte de H s ? ? acima da máxima frequência do sinal modulador
V s P ? ? , podemos aproximar a equação 11.27 por
o ? ? 20 P ? ?
d
V s
s
s k
?
? ? ?
cuja representação no domínio do tempo é
o ? ? 0 P ? ?
d
v t
t t
k
? ? ? ? (11.29)
Verificamos na equação 11.29, que a saída do VCO é exatamente um sinal modulado em fase, e
com desvio de fase 1
? ? ? kd .
11.7.2.2 Modulador de Frequência
Fazendo V s P ? ? ? 0 , obtemos o modulador de frequência. Esta condição aplicada às equações 11.25
e 11.26 implica em
o F ? ? s 20 k H s o ?1 ? ??V s ? ?
s s
?
?
?
? ? (11.30)
e
e F ? ? s k H s o ?1 ? ??V s ? ?
s
?
?
? ? (11.31)
Como o filtro H s ? ? é passa-baixas, a função de transferência ?1? H s ? ?? é passa-altas, e com
frequência de corte inferior próxima à frequência de corte superior de H s ? ? . Dimensionando a
frequência de corte de H s ? ? consideravelmente abaixo da mínima frequência de V s F ? ? , podemos
considerar ?1? H s ? ?? aproximadamente constante na faixa de passagem de V s F ? ? . Portanto,
podemos aproximar a equação 11.30 por
o F ? ? s 20 ko V s ? ?
s s
?
? ? ? (11.32)
Diferenciando a equação 11.32, obtemos a frequência ?o ?s?, dada porMaterial não disponível para publicação
164
o o F ? ? s 0 k V s ? ?
? s
? ? ?
cuja representação no tempo é
? ? o o F ?t k v t ? ? ? 0 ? ? (11.33)
Verificamos facilmente na equação 11.33 que a saída do VCO é exatamente um sinal modulado em
frequência, e com desvio de frequência ?? ? ko .
Com esta técnica de modulação de FM, podemos obter frequência de portadora extremamente
estável, bastando usar um oscilador a cristal para gerar o sinal ?in ?t? .
11.7.3 Modulador FM com Multiplicador de Frequência
Um procedimento muito comum nos sistemas de modulação FM, consiste em utilizar um oscilador
a cristal com frequência ?0, e gerar um sinal de FM com portadora em N?0. Isto é facilmente realizado
pelo sistema da Fig. 11.7. Neste caso, a saída do VCO é conectada a um divisor por N.
Fig. 11.7: Modulador FM com multiplicador de frequência.
Podemos considerar o VCO e o divisor como sendo um novo VCO com constante
k k N o o ? ? .
Desta forma, as equações desenvolvidas no item 11.7.2.2 são aplicadas diretamente ao sistema da Fig.
11.7. Portanto, temos
? ? o o F ?t k v t ? ? ? 0 ? ? ?
Se considerarmos ?oN ?t? a saída, a frequência é
? ? oN o F ? ? t N Nk v t ? ? 0 ? ? ? (11.34)
Verificamos na equação 11.34 que a frequência da portadora é N?0, e o desvio de frequência
? ? ? Nko? .
O projeto deste modulador é feito como no item 11.7.2.2, simplesmente considerando ko? no lugar
de ko.
11.7.4 Sintetizador de Frequências
O sintetizador de frequências é um circuito capaz de gerar frequências muito precisas, segundo
uma determinada programação. Os sintonizadores digitais de rádio são exemplos típicos de
sintetizadores de frequências. O esquema é basicamente o mesmo do item 11.7.3, mas sem o sinal
modulador, conforme a Fig. 11.8.Material não disponível para publicação
165
Fig. 11.8: Sintetizador de frequências.
O sinal de entrada ?in ?t? é gerado por um oscilador a cristal com frequência ?0, e a saída é ?oN ?t? ,
com frequência N?0. O divisor por N é simplesmente um contador programável.
11.7.5 Sintetizador de Frequências com Prescaler
Os sintetizadores podem ser usados para gerar frequências muito elevadas, na faixa de centenas de
MHz e alguns GHz. Os contadores programáveis, devido à complexidade dos circuitos lógicos, não
conseguem operar nestas faixas de frequências. A solução para este problema é o uso de divisores
fixos (não programáveis), com circuitos lógicos simples, mas rápidos, chamados prescalers. A
configuração básica encontra-se na Fig. 11.9.
Fig. 11.9: Sintetizador de frequências com prescaler.
A frequência de saída é ?oN ? NP?0 , e a programação é feita a cada intervalo de frequência
? ? ?oN P?0 .
11.7.6 Sintetizador de Frequências com Prescaler de Módulo P+Q
O sintetizador com prescaler apresentado no item anterior, possui o inconveniente da frequência de
saída variar em saltos de
P?0 . Quando P é grande, no caso de frequência de saída muito elevada, a
resolução do sintetizador é muito ruim. Para solucionar este problema, usamos um prescaler de
módulo duplo. Este tipo de prescaler faz a divisão por P ou P+Q, segundo um sinal de controle. O
circuito que emprega este tipo de prescaler está representado na Fig. 11.10.Material não disponível para publicação
166
Fig. 11.10: Prescaler de módulo P+Q.
Os divisores A e N são programáveis, sendo que N ? A . Inicialmente, SN ? 0 e SA ? 0 . Com
SA ? 0 , o prescaler está programado para dividir por P+Q. A contagem tem início, com a aplicação
do sinal de entrada com frequência ?oN. Os contadores A e N são incrementados simultaneamente a
cada P+Q ciclos do sinal ?oN. Quando a contagem em A é completada, ocorre o transbordamento do
contador e SA ?1. Nesta condição, o prescaler é reiniciado e programado para dividir por P. A
contagem continua até completar o contador N, quando ocorre o transbordamento e 1 SN ? , quando
então, o processo reinicia. Entretanto, o contador N já havia acumulado a contagem de A, restando
apenas N ? A para completar. O número de ciclos D do sinal ?oN necessários para um ciclo de
trabalho completo é
D ? ? ? ? ? ? ? ? ? P Q A N A P D QA NP ? ?
Verificamos que, para cada ciclo de saída, em ?o, devemos ter D ciclos em ?oN. Portanto, a
frequência de entrada é
?oN o ? ? ?QA NP?? (11.35)
Normalmente usamos 1 Q ? , e a equação 11.35 torna-se
?oN o ? ? ? A NP?? (11.36)
Verificamos na equação 11.36 que a frequência ?oN pode ser ajustada a cada intervalo ?o. Portanto,
basta escolher o valor apropriado de ?o, para dimensionar a resolução do sintetizador de frequências.
O sinal de RESET deve ser um pulso muito estreito, e gerado a cada transição de SN. O circuito
formado pelos inversores e a porta ou-exclusivo, realizam esta tarefa. Considerando o atraso de
propagação do sinal nas portas inversoras, temos o diagrama de sinais da Fig. 11.11.
Fig. 11.11: Pulso de RESET.
Este sintetizador pode ser incorporado ao modulador FM, permitindo o ajuste digital da frequência
da portadora, conforme a Fig. 11.12.Material não disponível para publicação
167
Fig. 11.12: Modulador FM com sintetizador de frequências.
11.8 Detectores de Fase
Existem vários tipos de detectores de fase, cada um com características distintas. Vamos estudar
somente três detectores, que abrangem as classes existentes.
11.8.1 Detector de Fase por Multiplicação Analógica
Este tipo de detector utiliza um multiplicador analógico (célula de Gilbert), para estimar a
diferença de fase entre dois sinais, conforme a Fig. 11.13.
Vd(t)
Vo(t)
Célula de Gilbert
Vin(t)
Fig. 11.13: Detector de fase por multiplicação analógica.
Considerando v t A t in in ? ? ? ? ? cos ?0 ?? e v t A t o o ? ? ? cos??0 ? , a tensão v t d ? ? é dada por
? ? ? ? ? ? cos cos cos cos 2 0 0 0 ? ? ? ? ? ?
2
o in
d o in
A A
v t A A t t t ? ? ? ? ? ? ? ? ? ? ? (11.37)
Assumindo que a saída do detector é aplicada a um filtro passa-baixas, que elimina as componentes
de frequência na faixa de 2?0, podemos aproximar a equação 11.37 por
? ? cos? ?
2
o in
d
A A
v t ? ? (11.38)
e cujo gráfico encontra-se na Fig. 11.14.
Verificamos que a faixa de atuação do detector é 0 ?? ?? , e a tensão de saída vd é zero quando o
erro de fase é ? 2 . Quando usado em um PLL, o sincronismo ocorre com diferença de fase igual a
? 2 . Podemos notar também que a curva de detecção de fase é não linear e decrescente.
O detector por multiplicação é rápido, mas muito dependente da amplitude e da forma de onda dos
sinais.Material não disponível para publicação
168
Fig. 11.14: Gráfico da tensão de saída do detector, em função do erro de fase.
11.8.2 Detector de Fase com Ou-Exclusivo
Este detector necessita que as formas de onda sejam quadradas e simétricas. O circuito básico
encontra-se na Fig. 11.15.
Vo(t)
Vd(t)
Vin(t)
Fig. 11.15: Detector de fase com ou-exclusivo.
O gráfico da Fig. 11.16 mostra a tensão de saída v t d ? ? em função da diferença de fase dos sinais
de entrada.
Fig. 11.16: Gráfico de tensão de saída em função da diferença de fase.
A diferença de fase ? entre v t in ? ? e v t o ? ? é dada por
2 T
? T
? ? ? (11.39)
Aplicando v t d ? ? a um filtro passa-baixas, obtemos o valor médio, que é dado porMaterial não disponível para publicação
169
v t d ? ? 2A T
? T
? (11.40)
Substituindo a equação 11.39 em 11.40, temos
v t d ? ? A?
?
? (11.41)
A equação 11.41 mostra que a curva de detecção de fase é linear, e a faixa de atuação do detector é
0 ? ? ? ? , conforme a Fig. 11.17. Quando usado em um PLL, este detector deve estabelecer o
sincronismo com erro de fase ? 2 , e é possível estabelecer o sincronismo em frequências harmônicas.
O detector com ou-exclusivo é rápido, mas muito dependente da simetria da onda quadrada.
Fig. 11.17: Curva de detecção de fase.
11.8.3 Detector de Fase Sequencial com Flip-Flop
Este detector é muito versátil pois possui uma ampla faixa de detecção, e é insensível à assimetria
dos sinais de entrada. O circuito básico encontra-se na Fig. 11.18, onde os flip-flops tipo D são
sensíveis à transição positiva.
Vo(t)
F2
CLK
D Q
Q
1
RESET
F1
CLK
D Q
Vin(t) Q
Vd(t)
Fig. 11.18: Detector de fase sequencial com flip-flop.
Para analisar o circuito, vamos considerar inicialmente que a saída Q de cada flip-flop está em 0, e
os sinais de entrada representados pelos gráficos da Fig. 11.19.
A entrada v t o ? ? está atrasada em fase em relação a v t in ? ? . Isto significa que v t in ? ? sobe antes de
v t o ? ? , sendo Q1 ?1 e Q2 ? 0 . Quando v t o ? ? sobe, a saída Q2 troca de estado, Q2 ?1 , e rapidamente o
sinal de RESET põe as saídas Q1 e Q2 em nível 0. O que se observa em Q2 é um pulso extremamente
rápido. Entretanto, Q1 permanece alto pelo intervalo de tempo ?T. O processo se repete a cada período
T dos sinais de entrada.
Se v t o ? ? estiver adiantada em relação a v t in ? ? , é fácil deduzir que os gráficos de Q1 e Q2 são
permutados.Material não disponível para publicação
170
A diferença de fase ? entre v t in ? ? e v t o ? ? é dada por
2 T
? T
? ? ?
e a diferença de fase é estimada pelo valor médio de v t d ? ? .
Quando 0 ? ? , v t d ? ? corresponde ao valor médio de Q1. Entretanto, quando 0 ? ? , v t d ? ?
corresponde ao valor médio negativo de Q2. Portanto, podemos considerar
? ?
d 2
A
v t ?
?
? (11.42)
Fig. 11.19: Formas de onda dos sinais de entrada e saída.
Este detector é linear, insensível a assimetria dos sinais dos sinais de entrada, e possui faixa de
atuação muito ampla, 2 2 ? ? ? ? ? ? , conforme a Fig. 11.20.
Uma característica interessante, e muito útil, deste circuito, é que também funciona como detector
de frequência, ou seja, quando a diferença de frequência dos sinais de entrada é muito alta, gerando
erro de fase fora da faixa de atuação, v t d ? ? aponta o sinal de maior frequência. Esta propriedade
garante que o PLL sempre entra em sincronismo, evidentemente respeitando a faixa de operação do
VCO.
Fig. 11.20: Faixa de atuação do detector de fase.