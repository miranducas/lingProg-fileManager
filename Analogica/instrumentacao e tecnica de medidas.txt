Instrumentação e Técnicas de Medidas
BIPM (Bureau International des Poids et Mesures) - Pavillon de Breteuil
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 1Controle de Versões
2013
Versão 1: Com base em Measurement Systems Application and Design, Ernest O.
Doebelin, 4th edition, 1989, IEC 600050 - International Electrotechnical
Vocabulary, IEC 610298-2, Vocabulário Internacional de Metrologia (VIM) e Guia
para a Expressão da Incerteza de Medição (GUM).
Versão 1.1: Pequenas alterações de texto, informações adicionais da IEC 610298-2,
alguma informação sobre calibração dinâmica.
2015 Versão 2: Pequenas correções de texto e união de todas as apostilas.
Última alteração: 24/02/2016 (22/08/2013)
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 2Índice
1 Aplicações da instrumentação.........................................................................................................8
2 Configurações e descrições funcionais............................................................................................9
2.1 Elementos funcionais...............................................................................................................9
2.2 Transdutores ativos e passivos...............................................................................................10
2.3 Modos de operação analógico e digital..................................................................................10
2.4 Modos de nulo e de deflexão.................................................................................................11
2.5 Entradas e saídas....................................................................................................................11
3 Características de desempenho estático e dinâmico......................................................................12
3.1 Características estáticas..........................................................................................................12
3.1.1 Calibração estática..........................................................................................................12
3.1.2 Erros aleatórios e sistemáticos.......................................................................................12
3.1.3 Exatidão..........................................................................................................................13
3.1.4 Precisão..........................................................................................................................14
3.1.5 Deriva.............................................................................................................................14
3.1.6 Faixa...............................................................................................................................14
3.1.7 Faixa dinâmica...............................................................................................................14
3.1.8 Resolução.......................................................................................................................15
3.1.9 Limiar.............................................................................................................................15
3.1.10 Sensibilidade estática...................................................................................................15
3.1.11 Linearidade...................................................................................................................15
3.1.12 Histerese e outras não linearidades..............................................................................16
3.1.13 Ajustes..........................................................................................................................17
3.1.14 Exemplo sobre calibração estática...............................................................................18
3.2 Características dinâmicas.......................................................................................................19
3.2.1 Sistemas lineares no domínio do tempo.........................................................................19
3.2.2 Resposta ao degrau.........................................................................................................20
3.2.3 Resposta em frequência..................................................................................................20
3.2.4 Exemplos de sistemas de ordem zero, um e dois...........................................................21
3.3 Outras características.............................................................................................................27
3.4 Aspectos numéricos...............................................................................................................28
3.4.1 Algarismos significativos...............................................................................................28
3.4.2 Representação de incertezas...........................................................................................29
3.4.3 Cálculo e propagação de incertezas................................................................................29
3.4.4 Erro máximo...................................................................................................................30
3.4.5 Erros e incertezas em instrumentos eletrônicos.............................................................31
4 Transdutores resistivos...................................................................................................................33
4.1 Potenciômetro........................................................................................................................33
4.2 Strain gauge............................................................................................................................36
4.3 Detector resistivo de temperatura (RTD)...............................................................................41
4.4 Termistores.............................................................................................................................44
4.5 Outros transdutores resistivos................................................................................................50
4.6 Eletrônica para transdutores resistivos...................................................................................50
5 Amplificador operacional..............................................................................................................51
5.1 Introdução..............................................................................................................................51
5.2 Símbolo e Modelo..................................................................................................................52
5.3 Amplificador inversor............................................................................................................55
5.4 Amplificador não-inversor.....................................................................................................57
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 35.5 Amplificador somador inversor.............................................................................................59
5.6 Amplificador diferencial ou subtrator....................................................................................59
5.7 Conversores tensão corrente..................................................................................................63
5.7.1 Outras topologias............................................................................................................63
5.8 Considerações práticas...........................................................................................................66
6 Circuitos especiais.........................................................................................................................68
6.1 Amplificador de instrumentação............................................................................................68
6.2 Amplificador com realimentação ativa..................................................................................70
6.3 Amplificador diferencial completo........................................................................................71
6.4 Amplificador operacional de transcondutância (OTA)..........................................................72
6.5 Amplificador isolador............................................................................................................74
6.6 Amplificador chopper e auto-zero.........................................................................................75
6.7 Amplificador de ganho programável (PGA)..........................................................................77
6.8 Potenciômetro digital.............................................................................................................77
6.9 Conversores AD e DA............................................................................................................78
6.10 Referências de tensão e corrente..........................................................................................80
7 Circuitos condicionadores para transdutores resistivos.................................................................82
7.1 Medidas de resistência...........................................................................................................82
7.2 Circuitos em ponte de Wheatstone.........................................................................................83
7.2.1 Medições de resistência em ponte de Wheatstone.........................................................86
7.2.2 Instrumentação para medidas remotas...........................................................................90
7.2.3 Problemas com offset.....................................................................................................92
8 Interferência, blindagem e aterramento.........................................................................................96
8.1 Formas de propagação...........................................................................................................96
8.2 Aterramento...........................................................................................................................99
8.2.1 Laços de terra...............................................................................................................102
8.3 Cabeamento..........................................................................................................................105
8.3.1 Acoplamento capacitivo...............................................................................................105
8.3.2 Acoplamento indutivo..................................................................................................105
8.3.3 Ruídos em circuitos de alta frequência.........................................................................110
8.4 Gabinetes..............................................................................................................................111
8.5 Peças.....................................................................................................................................112
9 Transdutores reativos...................................................................................................................113
9.1 Transdutores capacitivos......................................................................................................113
9.1.1 Variações dimensionais................................................................................................114
9.1.2 Capacitores diferenciais................................................................................................117
9.2 Transdutor Indutivo..............................................................................................................118
9.2.1 Transdutores de relutância variável..............................................................................118
9.2.2 Transdutores de indutância mútua................................................................................123
9.2.3 Outros transdutores indutivos.......................................................................................124
10 Comparadores............................................................................................................................125
10.1 Símbolo..............................................................................................................................125
10.2 Características....................................................................................................................125
10.3 Configurações típicas.........................................................................................................127
10.3.1 Detetor por cruzamento de zero.................................................................................127
10.3.2 Limitação da tensão de saída......................................................................................128
10.3.3 Detetor de nível com limitação de tensão de saída.....................................................129
10.3.4 Comparador de janela.................................................................................................130
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 410.3.5 Comparador de declividade........................................................................................131
10.3.6 Comparador com histerese.........................................................................................132
11 Retificadores de precisão e detectores de pico...........................................................................134
11.1 Retificador de ½ onda........................................................................................................134
11.2 Retificador de onda completa.............................................................................................135
11.3 Detetor de pico...................................................................................................................137
11.4 Sobre a escolha dos diodos.................................................................................................138
12 Integradores e derivadores.........................................................................................................139
12.1 Integrador...........................................................................................................................139
12.1.1 Integrador prático.......................................................................................................140
12.2 Derivador............................................................................................................................143
12.2.1 Derivador prático........................................................................................................145
13 Conversor logarítmico e antilogarítmico...................................................................................146
13.1 Introdução...........................................................................................................................146
13.2 Modelo de Ebers Moll do transístor NPN..........................................................................146
13.3 Conversor logarítmico........................................................................................................147
13.4 Conversor Antilogarítmico.................................................................................................150
14 Outras operações com circuitos analógicos...............................................................................152
14.1 Multiplicação......................................................................................................................152
14.1.1 Multiplicador por transcondutância variável..............................................................153
14.1.2 Multiplicador com conversor logarítmico..................................................................154
14.2 Divisão...............................................................................................................................156
14.2.1 Raiz quadrada.............................................................................................................156
14.2.2 Circuito conversor RMS-DC......................................................................................157
15 Geradores de função..................................................................................................................158
15.1 Introdução...........................................................................................................................158
15.2 Osciladores harmônicos.....................................................................................................158
15.3 Osciladores não harmônicos...............................................................................................158
15.3.1 Gerador de onda retangular........................................................................................159
15.3.2 Gerador de onda triangular.........................................................................................161
15.3.3 Gerador de rampa ou dente de serra...........................................................................163
15.4 Gerador de onda senoidal por conformação de triangular.................................................165
15.4.1 Conformação usando par diferencial..........................................................................165
15.4.2 Conformador com diodos...........................................................................................166
15.4.3 Conformador por série de Taylor................................................................................170
15.5 Geração de senoides por síntese digital direta (DDS)........................................................171
16 Circuitos condicionadores para sensores reativos......................................................................172
16.1 Circuitos de medida............................................................................................................172
16.1.1 Circuitos em ponte......................................................................................................172
16.1.2 Circuitos para sensor simples ou diferencial..............................................................174
16.2 Blindagem..........................................................................................................................176
16.3 Demoduladores...................................................................................................................178
17 Transdutores autogeradores.......................................................................................................180
17.1 Transdutores termoelétricos...............................................................................................180
17.2 Transdutores Piezoelétricos................................................................................................183
17.3 Transdutores fotovoltaicos.................................................................................................187
18 Ruído e incertezas......................................................................................................................189
18.1 Ruído térmico.....................................................................................................................189
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 518.2 Shot noise...........................................................................................................................189
18.3 Ruído de contato.................................................................................................................189
18.4 Soma de ruídos...................................................................................................................190
18.5 Espectro de ruído................................................................................................................191
18.6 Equivalente Elétrico...........................................................................................................192
18.7 Razão sinal ruído e figura de ruído....................................................................................193
18.8 Tabela de erros...................................................................................................................194
19 Componentes Passivos...............................................................................................................196
19.1 Resistores e potenciômetros...............................................................................................196
19.1.1 Efeitos térmicos..........................................................................................................197
19.1.2 Elementos parasitas....................................................................................................197
19.1.3 Falhas, variação com o tempo e ruído........................................................................198
19.1.4 Potenciômetros...........................................................................................................198
19.2 Indutores.............................................................................................................................198
19.3 Capacitores.........................................................................................................................199
19.3.1 Absorção Dielétrica....................................................................................................200
19.3.2 Elementos parasitas (Rp, ESR e ESL)........................................................................201
19.3.3 Tolerância...................................................................................................................202
20 Condicionamento para sensores autogeradores.........................................................................204
20.1 Offset e drift em amplificadores operacionais...................................................................204
20.2 Eletrômetros, amplificadores de trans impedância e de carga...........................................205
20.2.1 Amplificador para fotodiodo no modo fotovoltaico...................................................206
20.2.2 Condicionador para fotodiodo operando no modo fotocondutivo.............................212
20.2.3 Amplificadores de Carga............................................................................................215
21 Filtros seletores de frequência...................................................................................................217
21.1 Introdução...........................................................................................................................217
21.2 Unidades e nomenclatura...................................................................................................218
21.3 Funções de 1ª e 2ª ordens...................................................................................................218
21.4 Gabaritos............................................................................................................................218
21.5 Normalização e desnormalização em frequência...............................................................220
21.5.1 Transformação passa baixa para passa baixa normalizado.........................................220
21.5.2 Transformação passa alta para passa baixa normalizado...........................................221
21.5.3 Transformação passa faixa para passa baixa normalizado.........................................222
21.5.4 Transformação rejeita faixa para passa baixa normalizado........................................224
21.6 Escolha das frequências e atenuações................................................................................225
21.7 Aproximações.....................................................................................................................226
21.8 Cálculo das aproximações..................................................................................................229
21.8.1 Para aproximação de Butterworth..............................................................................230
21.8.2 Outras aproximações..................................................................................................233
21.8.3 Gráficos de resposta normalizados.............................................................................233
21.8.4 Soluções tabeladas......................................................................................................233
21.9 Etapas da síntese.................................................................................................................239
21.10 Síntese de filtros...............................................................................................................240
21.11 Filtros de segunda ordem RC...........................................................................................240
21.11.1 Filtros a capacitor chaveado.....................................................................................240
21.11.2 Filtros variáveis de estado........................................................................................242
21.11.3 Exemplo 2.................................................................................................................246
21.11.4 Configurações de um único amplificador operacional.............................................248
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 621.11.5 Passa baixas Sallen-Key...........................................................................................249
21.11.6 Passa baixas MFB.....................................................................................................250
21.11.7 Passa altas Sallen-Key..............................................................................................251
21.11.8 Passa altas MFB........................................................................................................252
21.11.9 Passa Faixa Sallen-Key.............................................................................................253
21.11.10 Passa faixas MFB...................................................................................................255
21.11.11 Rejeita faixa (ou Notch)..........................................................................................255
21.11.12 Rejeita faixa Sallen-Key (modificado – com rede duplo T)...................................256
21.11.13 Rejeita faixa MFB (modificado).............................................................................256
21.11.14 Exemplo 1...............................................................................................................257
21.11.15 Exemplo 2...............................................................................................................260
21.11.16 Exemplo 3...............................................................................................................260
21.11.17 Exemplo 4...............................................................................................................262
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 71 Aplicações da instrumentação
A instrumentação trata do uso de instrumentos de medida para, basicamente, três tipos de
aplicações: O monitoramento de processos e operações; o controle de processos e operações, e a
análise experimental. No monitoramento estamos interessados apenas na medida de diferentes
grandezas físicas. No controle, por outro lado, estamos interessados em medir grandezas para
fechar uma malha de controle tal qual em sistemas lineares. Também pode acontecer de estarmos
estudando problemas que não tenham uma teoria bem defnida para explicá-lo, neste caso
simulações e experimentos devem andar de mãos dadas para tentar solucionar o problema
proposto. A compreensão sobre o desenho e a concepção dos experimentos também é de
fundamental importância para que se consiga manter sobre controle os efeitos indesejados.
No mundo atual avaliamos, muitas vezes, que a solução de todos os problemas passa por
uma análise computacional e que estes sistemas devem ser os mais efcientes. De um modo geral
as pessoas já se convenceram que, no futuro, os computadores poderão resolver todos os
problemas existentes. Os computadores, entretanto, não costumam ser os elementos críticos para
a maioria dos problemas existentes e sim os atuadores ou sensores capazes de integrá-los ao
mundo real.
De qualquer forma, o uso inteligente da instrumentação sempre ira depender do nosso
conhecimento sobre o assunto, dos materiais disponíveis, e de qual desempenho cada solução
proposta pode apresentar. Novos equipamentos estão sendo desenvolvidos a cada dia, mas os
conceitos e ideias básicas de vários sistemas de medida tem sido usadas com sucesso e
continuarão assim por muitos anos ainda. Estudá-los é de grande valia para entender como
funcionam e como são aplicados o que possibilitará estendê-los a outras aplicações.
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 82 Confgurações e descrições funcionais
2.1 Elementos funcionais
É possível e desejável descrever a operação e o desempenho de instrumentos de medida e
equipamentos de forma generalizada. A operação normalmente é descrita em termos de elementos
funcionais enquanto o desempenho em termos de características estáticas e dinâmicas. Antes de
mais nada, entretanto, é importante deixar claro alguns conceitos aparentemente simples mas que
podem gerar confusão. Instrumento de medida, por exemplo, e defnido pelo Vocabulário
Internacional de Metrologia (VIM) como o “dispositivo utilizado para realizar medições,
individualmente ou associado a um ou mais dispositivos suplementares” enquanto que um
sistema de medição corresponde a um ou mais instrumentos de medição e seus insumos. Já uma
cadeia de medição é uma série de elementos de um sistema de medição que formam um caminho
único desde a entrada até a saída do instrumento, como na Figura 2.1.
m A B C D E
Figura 2.1: Cadeia de medição. m) Mensurando; A) Elemento sensor primário; B) Elemento conversor de variável; C)
Elemento de manipulação de variável; D) Elemento de transmissão de dados; E) Armazenamento ou exibição.
O elemento sensor primário é aquele que primeiro recebe energia do meio e produz uma
saída (sinal) que varia em função da quantidade a ser medida (mensurando). Em metrologia este
elemento é chamado de sensor sendo defnido como “o elemento de um sistema de medição que é
diretamente afetado por um fenômeno, corpo ou substância que contém a grandeza a ser medida.”
(VIM). Observe que o elemento primário sempre retira energia do meio. O sensor ideal é aquele
que elimina este efeito de carga e não in?uencia sobre o que se deseja medir. Adicionalmente ele
deve ser afetado apenas pelo mensurando desejado. A saída deste sensor primário sempre é uma
variável física como deslocamento ou tensão. Algumas vezes é necessário transformar esta
variável em outra mais fácil de ser tratada ou manipulada. Esta é a função do elemento conversor
de variável. É interessante notar que nem todos os instrumentos incluem este bloco e outros
incluem mais de uma transformação de variáveis. Também é importante dizer que algumas vezes
um único elemento físico é responsável por um ou mais blocos deste diagrama.
Na sequência existe o elemento de manipulação da variável relacionada a grandeza que se
deseja medir. Esta manipulação pode ser um simples amplifcador ou um complexo sistema
envolvendo não apenas elementos eletrônicos. Se o sinal a ser manipulado é elétrico normalmente
este bloco é chamado de condicionador de sinais, circuito de interface ou front end e as operações
de mudança de nível, amplifcação, fltragem, casamento de impedâncias, modulação e
demodulação são as mais comuns. Assim como os demais, este elemento não necessariamente se
apresenta nesta exata posição do diagrama, podendo ser necessário seu aparecimento em
diferentes posições.
Por fm existem os elementos de transmissão de dados que podem ser sistemas de exibição
para o operador, telemetria ou simples alavancas para mover um ponteiro. Também podem ser
sistemas para armazenar os dados obtidos permitindo uma análise ou relatório posterior.
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 9É importante observar que todos os instrumentos de medição são criados para operarem
em uma faixa de valores sendo que o seu máximo costuma ser chamado de valor nominal. O valor
nominal, na verdade, é mais do que isso, ele corresponde ao valor da grandeza que serve de guia
para a utilização apropriada do instrumento. Assim ele pode ser o valor máximo de medida de um
voltímetro ou de uma proveta mas também pode ser o valor de um resistor ou da sua potência
máxima.
2.2 Transdutores ativos e passivos
Os transdutores, “dispositivos utilizados em medição e que fornecem uma grandeza de
saída que guarda uma relação especifcada com uma grandeza de entrada” (VIM), podem ser ativos
ou passivos. Como este texto foi criado a partir de diferentes fontes podem aparecer nele duas
defnições diferentes para transdutores ativos e passivos.
Transdutores passivos serão aqueles cuja energia para seu funcionamento é fornecida total
ou quase que totalmente pelo sinal de entrada. Por outro lado um transdutor ativo é aquele que
uma fonte auxiliar fornece a maior parte da energia necessária para o funcionamento do
transdutor. Esta defnição pode gerar algumas confusões. Uma chave, por exemplo, pode ser um
transdutor ativo uma vez que a energia para ligar ou desligar o restante do circuito vem de uma
fonte externa e não da chave ou do objeto que ativou a chave. Amplifcadores são elementos
naturalmente ativos pois a energia na saída do amplifcador não vem da fonte de sinal mas sim da
fonte de energia. Assim um transdutor resistivo pode ser considerado como ativo, uma vez que ele
precisa ser alimentado por fontes de tensão ou corrente para resultar em uma tensão de saída.
Neste caso a energia na saída do transdutor não é fornecida por ele mas sim pela fonte.
Um transdutor passivo, por outro lado, é aquele que provê sua própria energia, ou a deriva
do próprio fenômeno que está sendo medido. Um exemplo poderia ser um termopar, normalmente
utilizado para medir temperatura, uma vez que a saída do transdutor é uma tensão proporcional a
uma diferença de tensão.
Atenção especial deve ser dada a estas defnições pois elas podem ser utilizadas com
sentidos diferentes em diferentes bibliografas Um sentido mais eletrônico, por exemplo, é
comumente atribuído a elas e, neste caso, resistores e chaves seriam transdutores passivos. Os
próprios termos, sensor e transdutor são usados com sentidos diferentes em diferentes textos e até
mesmo em dicionários. Todas estas diferenças existem pois a instrumentação é usada e estudada
por diversas áreas com jargões diferentes, mas mesmo restringindo a área a evolução da
instrumentação ao longo dos anos levou a mudanças nos conceitos e defnições para torná-los
mais claros e menos ambíguos. Neste texto, de um modo geral, os termos sensores e transdutores
serão usados de forma indistinta, mas se você tiver trabalhando com metrologia, não cometa este
sacrilégio! Recomenda-se ainda que, em textos escritos, defna-se cada termo logo após o seu uso
inicial, ou que seja citada uma referência para o signifcado dado a cada termo, neste caso
recomenda-se o VIM do ano vigente.
2.3 Modos de operação analógico e digital
Os instrumentos de medida podem funcionar em modo digital ou analógico. Normalmente
o conceito de analógico implica na medida contínua enquanto que sistemas digitais utilizam
quantização do que se mede. Esta quantização, entretanto, não deve ser signifcativa para não
afetar a exatidão (desvio entre o valor considerado verdadeiro e o valor medido – veja defnição na
seção 3.1.3) do equipamento mas deve ser usada como uma característica de imunidade a ruído. A
limitação na exatidão geralmente está associada as porções analógicas e ao conversor A/D.
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 102.4 Modos de nulo e de de?exão
Instrumentos de medida que funcionam no modo de de?exão apresentam uma saída que
muda proporcionalmente com mudanças na entrada. Classicamente são instrumentos com
ponteiros que apresentam de?exão em virtude de uma força que se opõe a um dispositivo de mola,
por exemplo. Instrumentos que operam com nulo necessitam de uma realimentação (manual ou
automática) para equilibrar a saída, ou seja, manter os ponteiros ou indicadores em uma posição
de equilíbrio ou zero. Utilizam um sensor de equilíbrio entre uma quantidade desconhecida e uma
quantidade padrão. Em geral possui maior exatidão e sensibilidade (razão entre a variação de saída
e a variação correspondente de entrada – veja defnição na seção 3.1.10) mas uma pobre resposta
dinâmica. Equipamentos de nulo costumam ser muito exatos porém costumam apresentar pior
resposta temporal que os instrumentos de de?exão.
2.5 Entradas e saídas
O instrumento ideal é aquele que responde a um único tipo de estímulo, ou seja, não é
in?uenciado por variáveis distintas daquelas que se deseja medir. Este instrumento ideal não
existe e sempre teremos que conviver com entradas que interferem diretamente na saída ou que
modifcam a função de transferência do instrumento (Figura 2.2).
+
Interferência
Sinal
Modifcador Saída
Figura 2.2: Entradas e saídas.
Entradas que interferem diretamente na saída podem ser, por exemplo, vibrações ou
inclinações em equipamentos mecânicos ou com partes hidráulicas ou ainda o campo de 60 Hz
gerado pelas linhas de energia e que induzem tensões em diferentes elementos alterando
diretamente a saída do equipamento. Entradas que modifcam funções de transferência podem
ser, por exemplo, a temperatura, alterando as dimensões de um equipamento mecânico ou valores
de um divisor resistivo ou a saída de um amplifcador, ou variações na fonte de alimentação do
equipamento. Estas perturbações indesejadas no sinal (na entrada ou saída), quando aleatórias, são
chamadas de ruído. Neste contexto o ruído não carrega informação enquanto que o sinal sim.
Para resolver este problema ou minimizar sua in?uência podemos buscar sensores ou
transdutores que respondam a um único tipo de estímulo e sejam mais insensíveis a interferências
e as variáveis modifcadoras. Isto é difícil de obter então outras estratégias normalmente são
empregadas. As principais estratégias são a realimentação com alto ganho de malha, como nos
casos de servo mecanismos, correções matemáticas da saída a partir de estimativas de como as
interferências e os modifcadores afetam a saída do equipamento, fltragens e a inclusão de outros
sensores que medem as interferências e os modifcadores e os cancelam na saída do equipamento.
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 113 Características de desempenho estático e dinâmico
3.1 Características estáticas
3.1.1 Calibração estática
As características estáticas de um equipamento, aquelas que dizem respeito a resposta do
equipamento a entradas contínuas de frequência zero, são obtidas através de um procedimento
chamado calibração estática. Este procedimento consiste em apresentar, ao instrumento,
diferentes valores das grandezas desejadas mantendo constante as entradas modifcadoras e as
interferências. A relação entre as entradas contínuas e suas respectivas saídas é chamada de
calibração estática. Este procedimento pode ser repetido várias vezes para cada entrada desejada.
A calibração então, pode ser apresentada como uma curva, uma equação ou uma tabela ou ainda
como uma família delas.
Apesar de a defnição acima exigir que todas as variáveis modifcadoras e de interferência
sejam mantidas constantes durante o processo de calibração, isto é impossível de se obter na
prática. Também não é possível garantir um valor verdadeiro para a grandeza que se deseja medir.
Uma defnição mais verdadeira acerca da calibração é dada pelo VIM. No VIM 2012 a calibração é
defnida como a “operação que estabelece, sob condições especifcadas, numa primeira etapa, uma
relação entre os valores e as incertezas de medição fornecidos por padrões e as indicações
correspondentes com as incertezas associadas; numa segunda etapa, utiliza esta informação para
estabelecer uma relação visando a obtenção dum resultado de medição a partir duma indicação.”
Desta forma o uso da incerteza contorna os problemas práticos apresentados.
O uso da incerteza na calibração de equipamentos é relativamente nova. A abordagem
tradicional, baseada em erro (diferença) entre o valor medido e o valor verdadeiro da grandeza,
defnia que existiam erros aleatórios e sistemáticos (seção 3.1.2), mas estes erros deviam ser
tratados diferentemente e não há regras para determinar a combinação destes erros (na verdade
eles eram tratados da mesma forma como agora, porém as defnições atuais são mais consistentes
e menos sujeitas a má interpretação). Na abordagem moderna o conceito de erro (normalmente
impossível de ser determinado, pois depende do valor real, verdadeiro, da grandeza) foi
substituído pelo de incerteza. Na abordagem da incerteza o processo é tratado estatisticamente e
dois Tipos de incerteza são defnidos, a incerteza do Tipo A e a incerteza do Tipo B. A incerteza
do Tipo A é avaliada de forma estatística e a incerteza do Tipo B é avaliada de outras formas mas
ambas são tratadas matematicamente pela teoria da probabilidade. Assim, o resultado total pode
ser expresso como um desvio padrão (incerteza padrão). Desta forma a incerteza é um
parâmetro não negativo que caracteriza a dispersão dos valores atribuídos a grandeza que se
deseja medir. Convém salientar que não existe relação entre erro aleatório e a incerteza do Tipo A
nem entre o erro sistemático e a incerteza do Tipo B.
Mais detalhes sobre este tipo de abordagem podem ser obtidos no Guia para a Expressão
da Incerteza de Medição (GUM).
3.1.2 Erros aleatórios e sistemáticos
O erro de medição é a diferença entre o valor medido e um valor de referência. Se este
valor de referência corresponde ao valor verdadeiro do mensurando então o erro (verdadeiro) é
desconhecido, pois o valor verdadeiro nunca poderá ser defnido. Se o valor de referência
corresponde ao valor de um padrão de medição ou um valor convencional (uma constante, como a
aceleração da gravidade, uma equação teórica…) então o erro pode ser determinado.
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 12Em medidas repetidas a parcela do erro que permanece contante é chamada de erro
sistemático e aquela que varia de forma imprevisível é chamada de erro aleatório. O erro aleatório
é aquele devido a causas desconhecidas que ocorrem mesmo que todos os erros sistemáticos
tenham sido levados em conta. Esses erros têm características estatísticas e só assim podem ser
considerados.
Já os erros sistemáticos correspondem a erros previsíveis mas que não se devem a um uso
inadequado dos instrumentos. Nesta família de erros podemos listar os erros instrumentais
(equipamento não calibrado, danifcado…), erros característicos do instrumento (diferença entre a
curva ideal e a curva real de calibração…), erros dinâmicos (caso um equipamento seja calibrado
em condições estáticas e usado em medidas dinâmicas, tempo de resposta inadequado, resposta
em frequência, distorções de amplitude e fase…), e erros ambientais (aqueles derivados do
ambiente onde o sistema de medição é utilizado como temperatura, pressão, vibrações, choques,
altitude…). A presença de erros sistemáticos pode ser descoberta realizando a medida com
diferentes dispositivos, diferentes métodos, mudança nas condições de medida e até mesmo
trocando o operador. Os termos tendência (bias) são comuns para designar a estimativa de um
erro sistemático.
Além destes, também nos deparamos com erros grosseiros devidos ao uso inadequado do
instrumento como erros de leitura, erros de cálculo e registro de resultados e erros de inserção
(aqueles onde o instrumento é inserido de forma incorreta no local da medição, como por exemplo
o uso de um voltímetro com impedância de entrada da mesma ordem de grandeza dos resistores
sobre os quais se deseja medir a tensão) ou erros de aplicação (causados pelo operador, tais como
o fechamento de um sensor de pressão com bolhas de ar em seu interior). Estes erros devem ser
evitados a qualquer custo.
Informações sobre erro podem ser fornecidas na forma absoluta, relativa ou ambas.
Qando apenas uma informação de erro absoluto, ou o erro relativo a um valor fxo, é fornecida
este costuma ser o erro máximo apresentado pelo dispositivo. Este valor pode representar um erro
proporcionalmente pequeno quando estamos realizando medidas próximas do valor nominal do
dispositivo, mas proporcionalmente elevado quando a medida é feita para valores pequenos. Por
exemplo, se um dispositivo pode medir até 100 N com erro d 0,1% (0,1 N) ele pode errar 100%
quando medir coisas da ordem de 0,1 N. Se o erro for apresentado de forma relativa ao valor que
está sendo medido o dispositivo de medida deve ser capaz de perceber variações de entrada cada
vez menores quando estamos medindo valores baixos da grandeza. Por exemplo, se um dispositivo
apresenta erro de 0,1% do valor medido ele pode errar 0,1 N quando medir 100 N ou 0,00011 N se
estiver medindo 0,1 N. No primeiro exemplo fca claro como é ruim fazer medidas longe do valor
nominal do dispositivo e o segundo exemplo mostra que quando a medida se aproximar de zero as
incertezas também devem zerar, o que é impossível. Alternativamente o erro de alguns
dispositivos é fornecido com um valor absoluto e outro relativo. Neste caso ou o erro total é a
soma dos dois erros em cada valor medido ou o maior erro é usado. Mais exemplos na seção 3.4.4.
3.1.3 Exatidão
Grau de concordância entre o valor medido e o valor verdadeiro de um mensurando. A
exatidão (accuracy) re?ete um comportamento de tendência central mas não é uma grandeza e,
portanto, não pode ser quantifcada numericamente. Recentemente passou a se adotar também o
termo “veracidade de medição” como sendo o grau de concordância entre a média de infnitos
valores medidos e o valor de referência (observe que veracidade de medição é diferente de
exatidão), mas também não pode ser quantifcada. A exatidão e a veracidade de medição estão
ligadas ao erro sistemático mas não ao erro aleatório.
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 13Nos catálogos dos fabricantes de sensores, transdutores e equipamentos, assim como na
norma IEC 610298-2 a exatidão é defnida como o erro máximo entre o valor verdadeiro e o valor
medido. Nela são incluídos os erros relacionados a linearidade (seção 3.1.11) e a histerese (seção
3.1.12) entre outros.
Muitas vezes a medida de erro é dada de forma percentual calculada com relação ao valor
medido, valor do fundo de escala ou faixa dinâmica (seção 3.1.7). Este último é o recomendado
pela IEC 610298-2 mas, mesmo para a faixa dinâmica, existem variantes (faixa dinâmica de saída
ideal ou faixa dinâmica de entrada nominal).
3.1.4 Precisão
O conceito de precisão refere-se ao grau de concordância de uma medição realizada
diversas vezes em condições de repetibilidade (mesmo procedimento, operadores, sistema de
medição, condições de operação e local onde são realizadas medidas repetidas de um objeto num
curto espaço de tempo) ou reprodutibilidade (diferentes procedimentos, operadores, sistema de
medição, condições de operação e local onde são realizadas medidas repetidas do mesmo objeto).
A precisão é uma medida de dispersão e geralmente é expressa como um desvio padrão, variância
ou coefciente de variação. A precisão está ligada a um erro aleatório.
3.1.5 Deriva
A deriva ou drif corresponde a variação de um determinado valor ao longo do tempo e
ocorre em função de características específcas de cada dispositivo. Também é possível especifcar
esta deriva em função de alguma outra variável específca como a temperatura.
3.1.6 Faixa
A faixa, ou segundo o VIM, intervalo de medição (range), diz respeito aos valores máximo
e mínimo do parâmetro de entrada que podem ser medidos, por exemplo, um dado sensor de
pressão pode operar na faixa de –60 a +400 mmHg. Não existe a necessidade da faixa incluir
valores negativos e positivos, ser simétrica, ou englobar o zero. De qualquer forma a faixa é
sempre informada como um intervalo de valores.
Em instrumentos completos onde a saída já é calibrada (a saída é idealmente igual à
entrada) a faixa é estipulada com relação a saída. Com relação a sensores e transdutores
normalmente o interesse é a grandeza que se deseja medir, ou seja, a entrada. Mesmo assim em
alguns contextos o termo faixa, ou range, se refere apenas a um intervalo de valores independente
deles serem entrada ou saída, ou ainda, variáveis modifcadoras, como no caso da faixa de
temperatura em que o equipamento pode operar.
3.1.7 Faixa dinâmica
A faixa dinâmica, formalmente conhecida por amplitude de medição (span), é um escalar
que indica a amplitude do intervalo de medição. Assim, um sensor com faixa de –60 a +400 mmHg
apresenta faixa dinâmica de 460 mmHg.
Assim como ocorre para a defnição de faixa, no caso de instrumentos calibrados a faixa
dinâmica é estipulada com relação a saída do equipamento e para sensores e transdutores a faixa
dinâmica é calculada com relação a grandeza que se deseja medir. O termo faixa dinâmica, ou
span, também pode ser utilizado apenas para indicar a variação máxima de entrada, saída ou
variáveis modifcadores. No caso de algumas normalizações, por exemplo, como no cálculo da
linearidade ou histerese, emprega-se a faixa dinâmica na grandeza onde é calculado o erro
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 14(normalmente na saída). De qualquer forma, a faixa dinâmica é um escalar cujo valor é igual à
diferença entre o máximo e o mínimo de uma determinada grandeza.
3.1.8 Resolução
Esta especifcação é a menor mudança incremental do parâmetro de entrada que causa
uma variação detectável no valor de saída do sensor. A resolução pode se expressa como um
percentual da faixa dinâmica ou em valores absolutos. Em sistemas digitais a resolução está
fortemente ligada ao nível de quantização (conversores analógico para digital e vice-versa) e em
sistemas analógicos ao ruído, que limita a precisão e o menor valor detectável do mensurando.
3.1.9 Limiar
Maior valor de um mensurando e que não causa variação perceptível na indicação
correspondente. Assim como na resolução o seu valor pode depender, por exemplo, de ruído ou
atrito.
3.1.10 Sensibilidade estática
Qando uma calibração estática é realizada a sensibilidade corresponde a inclinação da
curva de calibração. Esta inclinação pode variar com a relação a entrada (quando a relação entre
entrada e saída é não linear) e neste caso duas coisas podem acontecer: a sensibilidade estática
deixa de ser um parâmetro importante (casos muito não lineares ou onde a exatidão requerida é
grande) ou uma reta de calibração é fornecida e os desvios com relação a está reta são
considerados erros. É interessante notar que a cuva de calibração para um elemento sensor é
diferente da curva de calibração do equipamento onde ele está inserido, mesmo que após o sensor
exista apenas um amplifcador com ganho unitário. Isto acontece pois a saída do sensor será uma
tensão, por exemplo, e a saída do equipamento é um valor correspondente a grandeza que está
sendo medida. Ou seja, o equipamento faz uma dupla conversão de valores. Um sensor de pressão,
por exemplo, apresenta uma sensibilidade em V/cmH2O mas antes de apresentar o valor no
mostrador do equipamento este sinal em Volts deve ser novamente convertido para cmH2O.
Algumas vezes, quando se utilizam sensores ativos, a sensibilidade também pode aparecer como
uma função da tensão de alimentação, ou seja, como uma dupla razão entre grandezas. Neste caso
uma sensibilidade de 10 ?V/V/mmHg, por exemplo, signifca que o sensor produzirá 10 ?V de
tensão de saída por Volt de tensão de excitação e por mmHg de pressão aplicada.
3.1.11 Linearidade
A linearidade de um sensor é um tipo de parâmetro que expressa o quanto a sua curva
característica se desvia da reta de calibração. A linearidade é uma característica típica de
equipamentos ou sensores cuja relação entre entrada e saída pode ser considerada linear. Neste
caso o fabricante específca uma reta de calibração para o equipamento. Segundo a IEC 610298-2,
entretanto, esta reta pode ser defnida de três formas diferentes. Ela pode ser a reta que passa
pelos pontos extremos da curva de calibração média, a reta que minimiza o erro com a curva de
calibração média ou a reta que passa pela origem e minimiza o erro com a curva de calibração
média.
A linearidade (3.1) é normalmente especifcada em termos do percentual de não
linearidade, relativa a medida atual, ao fundo de escala (neste caso costuma-se apresentar as letras
FS – full scale – ou outro indicador semelhante) ou faixa dinâmica (FSS – full span scale).
NL(%)= ErroMÁX
Norm
·100% (3.1)
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 15onde NL(%) é a não linearidade ErroMÁX é o erro máximo de saída entre o valor medido pela curva
de calibração média (real) e a reta de referência, tida como a curva de calibração ideal (Figura 3.1);
Norm é um normalizador que pode ser a saída atual, o fundo de escala de saída ou a faixa
dinâmica de saída (recomendado pela IEC 610298-2). Observe que a não linearidade é uma razão
entre valores de mesma unidade e, portanto, é adimensional.
Reta de
Calibração
Curva de
Calibração
Média
Erro Máximo
Saída
Entrada
FS
FSS
Figura 3.1: Linearidade
3.1.12 Histerese e outras não linearidades
Sensores, transdutores ou dispositivos podem apresentar diversos tipos de não
linearidades. Os tipos mais comuns estão apresentados na Figura 3.2.
Figura 3.2: Não linearidades mais comuns. a) Histerese; b) Saturação; c) Rompimento; d) Zona Morta; e) Bang-Bang.
Entrada na abcissa e saída na ordenada.
Qando a saída do dispositivo difere para um mesmo valor de entrada, dependendo se o
sinal está subindo ou descendo em amplitude o dispositivo apresenta histerese (Figura 3.2a). Para
a determinação ou caracterização da histerese devem ser estimadas as diferenças de saída para
cada entrada (durante a subida e a descida) e, então, o maior valor é usado. O valor pode ser
indicado como um percentual com relação a faixa dinâmica de saída (assim como a maioria dos
erros). Normalmente encontramos histerese em sistemas magnéticos, sistemas elásticos ou outros
Instrumentação e Técnicas de Medida – UFRJ, 2015/2
x
y
x
y
x
y
x
y
x
y
a) b) c)
d) e)
16com perdas no armazenamento de energia, engrenagens e outros. Dispositivos onde há um valor
máximo (ou mínimo) para a saída a partir do qual incrementos na entrada não acarretam em
modifcações na saída apresentam saturação (Figura 3.2b). É um efeito muito comum devido a
limitações físicas dos componentes e ocorrem marcadamente em dispositivos magnéticos, com
fontes de alimentação, ou com qualquer tipo de limitador mecânico. Um efeito dual é conhecido
como rompimento (breakdown), nele a saída dispara a partir de uma determinada entrada
(aumenta com elevada derivada – Figura 3.2c). Isto pode estar associado a situações catastrófcas
de ruptura de elementos, dielétrico, por exemplo, mas pode ser intencional e útil como nos casos
de diodos. Outra não linearidade muito comum é a zona morta (dead zone) que ocorre quando
variações da entrada em uma determinada região, tipicamente em torno do zero, não produzem
uma saída correspondente (Figura 3.2d). Dispositivos mecânicos normalmente apresentam este
comportamento em função das diferenças entre o atrito estático e dinâmico, mas este efeito
também pode ser visto em circuitos eletrônicos com componentes não lineares como diodos. Por
último há o bang-bang (Figura 3.2e) que se caracteriza por uma variação abrupta da saída para
uma variação mínima da entrada. As razões para este efeito não linear podem ser as mesmas
encontradas na zona morta e por esta razão este tipo de não linearidade também é chamada de
Coulomb frictional.
3.1.13 Ajustes
Segundo o VIM os ajustes correspondem a um “conjunto de operações efetuadas num
sistema de medição, de modo que ele forneça indicações prescritas correspondentes a
determinados valores duma grandeza a ser medida.”. Existem vários ajustes que podem ser feitos
em sistemas de medição e dentre eles podemos citar o ajuste de zero (o?set) e o ajuste de ganho ou
sensibilidade (Figura 3.3).
O ajuste de zero é feito para tornar a saída do sistema de medição igual a zero quando a
entrada for nula. Também pode ser atribuído a diferença entre o valor de saída realmente
observado e aquele especifcado para uma dada condição. O ajuste de ganho ou sensibilidade, por
sua vez, é realizado para fazer com que a saída do dispositivo varie conforme prescrito. Estes
ajustes não devem ser confundidos com calibração, que é um pré-requisito para o ajuste, e muito
provavelmente, após um ajuste, o sistema deve ser recalibrado.
Figura 3.3: Ajuste de zero (esquerda) e de sensibilidade (direita).
Instrumentação e Técnicas de Medida – UFRJ, 2015/2
Ajuste de o?set
Saída
Entrada
Ajuste de o?set
Curv
a
Ideal
Curva
Real
Saída
Entrada
Ajuste de
Sensibilidade
17O termo o?set também é comumente empregado para indicar quando a saída de um
dispositivo não é zero para uma entrada nula. Isto é mais comum em sensores e transdutores do
que em instrumentos.
3.1.14 Exemplo sobre calibração estática
Uma tabela de calibração foi feita com três ciclos de medida onde a entrada foi
gradativamente aumentada e diminuída. A tabela abaixo mostra os erros relativos obtidos pela
diferença entre cada medida e seu valor de referência dividido pelo valor máximo de saída (IEC
610298-2). Determine a não repetibilidade, a histerese, a inexatidão e o erro máximo.
Entrada
%
Ciclo 1 Ciclo 2 Ciclo 3 Média
Média
Erro percentual Erro percentual Erro percentual Erro percentual
Subindo Descendo Subindo Descendo Subindo Descendo Subindo Descendo Geral
0 -0,04 -0,05 0,06 -0,05 -0,050
10 0,06 0,14 0,04 0,15 0,05 0,16 0,05 0,15 0,100
20 0,13 0,23 0,08 0,26 0,09 0,26 0,10 0,25 0,175
30 0,11 0,24 0,09 0,25 0,1 0,26 0,10 0,25 0,175
40 -0,04 0,13 -0,07 0,15 -0,04 0,17 -0,05 0,15 0,050
50 -0,18 -0,02 -0,16 0,01 -0,13 0,01 -0,16 0,00 -0,078
60 -0,27 -0,12 -0,25 -0,1 -0,23 -0,08 -0,25 -0,10 -0,175
70 -0,32 -0,17 -0,3 -0,16 -0,28 -0,12 -0,30 -0,15 -0,225
80 -0,27 -0,17 -0,26 -0,15 -0,22 -0,13 -0,25 -0,15 -0,200
90 -0,16 -0,06 -0,15 -0,05 -0,14 -0,04 -0,15 -0,05 -0,100
100 0,09 0,11 0,1 0,10 0,100
Não repetibilidade (tracejado – dif. máxima nas mesmas condições): 0,13-0,08 = 0,05%
Histerese (pontilhado – dif. máxima no mesmo ciclo): 0,15-(-0,07) = 0,22%
Inexatidão (linha dupla – máximo e mínimo erro): [-0,32%; 0,26%]
Erro máximo (linha cheia – máximo da curva média): -0,30%
Linearidade (depende da reta de calibração escolhida – curva média geral):
1. Reta que passa pelos pontos médios extremos: -0,28% (da faixa dinâmica de saída);
2. Reta que passa pela origem e minimiza os erros quadrados: 0,22% (da faixa
dinâmica de saída);
3. Reta de mínimos quadrados: 0,18% (da faixa dinâmica de saída).
Neste exemplo vale a pena observar que as medidas de histerese e linearidade são
independentes o que torna possível a obtenção de valores de histerese menores ou maiores do que
os de linearidade. As diferenças entre as duas defnições podem ser vistas na Figura 3.4.
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 18Figura 3.4: Diferenças entre as forma de cálculo da histerese e da linearidade.
3.2 Características dinâmicas
As características dinâmicas relacionadas de um dispositivo dizem respeito a sua resposta
temporal ou resposta em frequência (resposta a excitações senoidais de diferentes frequências).
Em sistemas que não apresentam elementos armazenadores de energia (capacitores, indutores,
massa, elementos elásticos…) a saída muda instantaneamente com a entrada, mas quando
armazenadores de energia estão presentes a saída sempre apresenta uma dinâmica temporal. A
caracterização dinâmica destes elementos é realizada apresentando a eles entradas variantes no
tempo. Tradicionalmente estes ensaios têm como base a resposta ao impulso, ao degrau ou a sinais
senoidais de frequências distintas. As duas primeiras permitem inferir diretamente sobre questões
temporais e não lineares com sinais de amplitude elevada. A terceira analisa especifcamente o
comportamento em frequência do sistema e deve ser realizada com amplitude baixa para evitar
distorções (usualmente 20% da faixa dinâmica de saída). A forma como as entradas são produzidas
e os tipos de ensaios que podem ser realizados dependem da grandeza.
3.2.1 Sistemas lineares no domínio do tempo
Para sistemas lineares e invariantes no tempo, com uma excitação (entrada) e uma resposta
(saída), a relação entre entrada e saída pode ser expressa por uma equação diferencial linear de
coefcientes constantes,
d ny
dtn
+a
1·
d n-1y
dt n-1 +...+an·y=b0·ddt mmx +b1·ddt m- m1-x1 +...+bm·x (3.2)
onde y representa a saída e x a entrada do sistema.
A resposta deste sistema corresponde a solução da equação diferencial que o descreve.
Genericamente esta solução apresenta uma soma de exponenciais (tantas quantas a ordem do
sistema – ordem da equação diferencial) além de uma resposta forçada (as vezes chamada de
particular) cujo formato é o mesmo da entrada. Assim
y(t )=?
i =1
n
k
i·e
?
i·t
+yp (t ) (3.3)
Instrumentação e Técnicas de Medida – UFRJ, 2015/2
Saída
Entrada
FS
FSS
Histerese
Linearidade
Curva
Média
19onde yp é a solução particular que tem o mesmo formato da excitação x. As constantes ki são
obtidas pelas condições iniciais e os expoentes ?i são as raízes da equação característica.
Estes sistemas podem ser de ordem zero, um, dois ou maiores. Sistemas de ordem zero
correspondem a sistemas que não são descritos por equações diferenciais e, portanto, não
apresentam nenhuma dinâmica temporal na resposta. Sistemas de primeira ordem apresentam
equações diferenciais de ordem 1 com apenas uma exponencial. Sistemas de segunda ordem
(equações diferenciais de ordem 2) apresentam duas exponenciais que podem ter expoentes reais
ou complexo conjugados, o que pode levar ao surgimento de oscilações. Sistemas de ordem maior
podem existir, mas a solução será semelhante as anteriores. Atrasos na resposta também podem
estar presentes e costuma ser modelados separadamente.
3.2.2 Resposta ao degrau
A resposta ao degrau é uma das formas mais comuns de avaliação da dinâmica de sistemas.
Degraus de entrada correspondendo a 80% da faixa dinâmica de saída devem ser aplicados
mudando a saída de 10% para 90% e de 90% para 10%. Degraus menores, produzindo uma saída
correspondente a 10% da faixa dinâmica de saída também devem ser ensaiados. Estes degraus
podem ser aplicados em diferentes faixas cobrindo toda a operação do dispositivo. As faixas de 5%
a 15%, de 45% a 55% e de 85% a 95% são as recomendadas pela IEC 610298-2.
A IEC 610298-2 também recomenda que neste teste sejam anotados o tempo de
estabilização (setling time) até que a saída atinja 99% do seu valor fnal, o tempo em que a saída
permanece em zero (dead time), os tempos e amplitudes de sobrepassos (overshot), o tempo de
subida entre 10% e 90% do valor fnal (rise time), o tempo de resposta (tempo até a primeira vez
que a saída atinge 90% do seu valor fnal), constantes de tempo entre outros. Na Figura 3.10 são
apresentados algumas das características listadas.
É importante ter em mente que nem sempre estas informações estarão disponíveis e nem
sempre serão apresentadas da forma estipulada. Os percentuais para tempo de estabilização, e
tempo de resposta, por exemplo, mudam com frequência. Para saber exatamente o que está sendo
caracterizado é necessário ler completamente os manuais dos dispositivos e se estivermos
caracterizando o nosso próprio dispositivo convém fazê-lo de acordo com as normas vigentes e o
padrão da área.
3.2.3 Resposta em frequência
Além da análise pelo domínio do tempo os sistemas lineares também podem ser descritos
pelo domínio da frequência (Figura 3.12). Isto é feito pelas transformadas de Laplace ou Fourier e,
indiretamente, usando-se fasores. Neste tipo de análise é comum a apresentação de um gráfco de
módulo e fase da sensibilidade em função da frequência (gráfco de resposta em frequência ou
diagramas de Bode). Nos gráfcos são analisados o ganho (sensibilidade) e a fase do sinal para cada
frequência.
Normalmente são analisadas desde frequências que permitam obter o ganho estático do
sistema (frequência zero) até frequências onde a saída corresponda a 10% do sinal de entrada ou a
fase apresente variação de 360º. Também devem ser marcados os pontos onde o ganho seja máximo
ou reduzido para 70% do valor basal além dos pontos onde a fase atinja 45º ou 90º (IEC 610298-2 ).
Na maioria das vezes os sensores ou transdutores apresentarão comportamentos semelhantes
aos de filtros passa baixas (Figura 3.12) de primeira e segunda ordem ou de filtros passa faixa, para
dispositivos que só atuam em uma determinada faixa de frequência. Um filtro passa baixas é aquele
onde o ganho é maior nas frequências baixas do que nas altas.
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 20Figura 3.5: Resposta ao degrau de cinco sistemas de segunda ordem com atraso de 1 segundo.
Figura 3.6: Resposta em frequência de cinco sistemas de segunda ordem. Detalhes na seção 3.2.4.
3.2.4 Exemplos de sistemas de ordem zero, um e dois
Sistemas de ordem zero, um e dois serão ilustrados com exemplos elétricos, mas, por
analogia, poderiam ser sistemas de qualquer natureza.
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 21Para o sistema de ordem zero da Figura 3.7, supondo que a entrada x do sistema seja a
fonte de tensão vs e a saída a tensão v sobre o resistor R2 a equação da saída pode ser obtida
algebricamente por meio de (3.6).
Figura 3.7: Sistema de ordem zero.
i
TOT =
vs
R
1+R2+R3 (3.4)
v=i
TOT·R2 (3.5)
v=
vs
R
1+R2+R3
·R
2 (3.6)
Observa-se que a saída é independente do tempo. Isto signifca que, se a entrada muda, a
saída muda instantaneamente, ou seja, a resposta a um degrau será um degrau e um gráfco de
resposta em frequência mostrá ganho constante com fase nula para todas as frequências. Na
prática os sistemas de ordem zero são apenas uma idealização da realidade, afnal todos os
sistemas elétricos apresentam capacitâncias e indutâncias parasitas, os sistemas mecânicos sempre
apresentam massa e atrito, ou seja, todos os sistemas sempre apresentam uma dinâmica temporal.
Acontece que nos sistemas de ordem zero esta dinâmica pode ser considerada insignifcante se
comparada a velocidade com que as grandezas de entrada variam.
Para o sistema de ordem 1 da Figura 3.8, considerando que a tensão v é a entrada do
sistema e a tensão sobre capacitor, vc, é a saída do sistema, a equação que relaciona entrada e
saída (3.10) é uma equação diferencial.
Figura 3.8: Sistema de primeira ordem.
Transformando a fonte de tensão em série com o resistor no seu equivalente Norton e
equacionando a corrente em cada componente temos
i
C +iR=
vR
(3.7)
e sabendo que
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 22i
C=C·
dv
C
dt
(3.8)
temos
C·
dv
C
dt +
v
C
R
=
vR
(3.9)
dv
C
dt +
v
C
R·C
=
v
R·C
(3.10)
A solução de (3.10), uma equação diferencial de ordem 1, linear e de coefcientes
constantes, é uma exponencial somada a uma constante (resposta particular). O expoente pode ser
obtido da equação característica
? + 1
R·C
=0 (3.11)
cuja raiz é ?=-1/RC. Desta forma
v
C=k1·e
-
1
R·C
·t
+k
2
(3.12)
onde os coefcientes k1 e k2 dependem, entre outros, das condições iniciais do problema.
Isto signifca que a saída do sistema não muda instantaneamente, ou seja, existe uma
dinâmica temporal entre a entrada e a saída (3.12). Neste caso a dinâmica temporal é controlada
pela exponencial. Observa-se para t=R·C, 2·R·C, 3·R·C... a exponencial se reduz a e-1, e-2, e-3... e por
esta razão o produto R·C é chamado de constante de tempo do circuito (t). Toda exponencial
decrescente apresenta 37% de seu valor inicial em t, 14% em 2·t, 5% em 3·t, 2% em 4·t e 0,7% em
5·t. A Figura 3.9 mostra a resposta do circuito para uma entrada em degrau. Nesta simulação
v=1 V e R·C=1 s.
A constante de tempo tem unidade de segundos e corresponde ao inverso da frequência
natural do circuito (?). Um circuito RC com apenas um capacitor equivalente e um resistor
equivalente sempre apresenta constante de tempo da forma de um produto R·C. Sistemas de
primeira ordem nunca terão oscilações nem sobrepasso na resposta ao degrau. O tempo de subida
(para a saída mudar de 10% para 90% do valor fnal ou vice-versa) pode ser facilmente calculado a
partir de (3.12)
t
r˜ 2,197·t (3.13)
O mesmo circuito também pode ser analisado pelo domínio da frequência, usando fasores
(3.14) ou Laplace (3.17). Neste caso calcula-se a chamada função de transferência (razão entre
saída e entrada) cujo módulo (3.16) corresponde ao ganho ou a sensibilidade em cada frequência.
Observa-se que, tanto no domínio do tempo quando no domínio da frequência a resposta ao
degrau e a função de transferência são calculadas levando-se em conta condições iniciais nulas
para os elementos armazenadores de energia.
H C( j ?)= V C ( j ?)
V ( j ?) =[j·V?1(·j C?+)R·j·?1·C]·V (1j ?)= 1+ j·?1·R·C =
1
R·C
j·?+ 1
R·C
(3.14)
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 23H
C( j ?)= 1
1+ j·?·C·R
·
1- j·?·C·R
1- j·?·C·R
=
1- j·?·C·R
1- ?2·C 2·R2 (3.15)
Figura 3.9: Resposta ao degrau de um sistema de primeira ordem.
H
C( j ?)= 1
v1+(?·C·R )2?[- arctan (?·C·R )] (3.16)
Para simplifcar a notação podemos substituir j·? por S. Neste caso
H
C(S)= a
S+a
(3.17)
Com esta notação é fácil perceber que máx (H C (S ))=1 quando S?0 . Também é possível
observar que o denominador apresenta o mesmo formato e a mesma raiz da equação característica
da equação diferencial de ordem 1, ou seja, a=1/t. Este padrão se repete para todas as funções de
transferência de ordem 1. Nos gráfcos a seguir, as linhas cheias correspondem aos módulos e as
linhas pontilhadas correspondem a fase. Nas funções de transferências as raízes do denominador
são chamadas de polos do sistema e, neste caso, estão relacionadas com a constante de tempo e
com o rise time.
Para a frequência que corresponde ao recíproco da contante de tempo (?C=1/t) o ganho da
função de transferência cai para 70,7% do seu valor original (é reduzida em 3 dB com relação ao
valor original em dB) e a fase do sinal de saída fca 45o atrasada com relação a senoide de entrada
(Figura 3.11). A maior defasagem que pode ser obtida com um sistema de ordem 1 é 90o e a menor
é zero.
Já para um sistema de segunda ordem, como o da Figura 3.10, uma equação diferencial de
ordem 2 é necessária para equacionar a saída (iL – corrente no indutor) em função da entrada
(I – fonte de corrente independente).
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 24Figura 3.10: Sistema de segunda ordem.
Figura 3.11: Resposta em frequência de um sistema de primeira ordem. O eixo das frequências e do ganho estão em escala
logarítmica.
i
C?iR?iL= I (3.18)
e sabendo que
v
L=L·
di
L
dt
(3.19)
C·L·
d2iL
dt2
+
LR
·
diL
dt +iL=I (3.20)
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 25d 2iL
dt 2
+
1
R·C
·
diL
dt +
1
C·L
·i
L=
I
C·L
(3.21)
Observe que a equação diferencial de ordem 2 com coefcientes constantes e invariantes no
tempo (3.21) apresenta como solução duas exponenciais (3.24) somadas a uma solução particular
constante como a fonte I. Os expoentes são as raízes da equação característica (3.22, 3.23)
S2+ 1
R·C
·S + 1
L·C
=0 (3.22)
cuja forma geral é
S2+ ?0
Q
·S +?
20
=0 (3.23)
e as raízes são s1 e s2 tal que
i
L(t )=k1·es1·t+k2·es2·t +k3 (3.24)
As raízes s1 e s2 podem ser reais ou complexas e, neste último caso, segundo a fórmula de
Euler, a solução pode conter senos e cossenos amortecidos (multiplicados por exponenciais reais).
Na Figura 3.12 são apresentadas as soluções para ?0=1 e Q=0,5 (raízes reais e iguais), Q=0,707
(raízes com parte real igual à imaginária), Q=1, 2 e 10 (raízes com parte real menor que a
imaginária) é um destes casos. Da equação característica saem os expoentes das exponenciais e os
coefcientes k são obtidos, entre outros, pelas condições iniciais do problema.
Figura 3.12: Resposta ao degrau de um sistema de segunda ordem. Verde Q=0,5; azul Q=0,707; vermelho Q=1; azul claro
Q=2; magenta Q=10.
Pelo domínio da frequência a função de transferência entre a corrente no indutor e na
fonte pode ser obtida pelo simples divisor de corrente
H
L( j ?)= I L( j ?)
I ( j ?) =[I ( j ?)·R1 + j·?·C1 + j·?1·L·j ?1·L]·I ( 1 j ?) (3.25)
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 26Simplifcando a equação e substituindo j·? por S
H L(S )=
1
C·L
S2+ 1
R·C
·S + 1
C·L
(3.26)
Mais uma vez o polinômio característico forma os polos da função de transferência e da
mesma forma que no domínio do tempo ele pode ser escrito em função de ?0 e Q. A resposta em
frequência pode, então, ser desenhada em função do módulo e da fase de HL(j?). Para funções de
ordem maior do que 2 os polinômios formados no denominador podem ser fatorados em
polinômios de ordem 1 e 2.
Figura 3.13: Resposta em frequência de sistemas de segunda ordem. Verde Q=0,5; azul Q=0,707; vermelho Q=1; azul claro
Q=2; magenta Q=10.
3.3 Outras características
Outras características funcionais podem ser informadas. As mais comuns são a isolação
elétrica do dispositivo em condições de temperatura e umidade distintos, consumo energético,
?utuação do sinal de saída (ripple), limites ajustáveis, ?utuações com temperatura (drif)) ou de
longo tempo, impedâncias de entrada e saída, características de dispositivos pneumáticos como
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 27consumo de ar, consumo de gás, ?uxos entre outros. Cada dispositivo deve vir com informações
complementares específcas de acordo com cada aplicação.
3.4 Aspectos numéricos
3.4.1 Algarismos signifcativos
Em instrumentação não são usados tantos algarismos quantos os que resultarem das
contas efetuadas uma vez que o número de algarismos signifcativos ou o número de casas
decimais está ligada a precisão e a incerteza. De um modo geral os algarismos incertos não devem
ser apresentados, pois levariam a uma falsa impressão de precisão ou incerteza. Para evitar este
problema, o melhor é realizar os arredondamentos adequados e entender como as incertezas se
propagam nos cálculos.
Antes de mais nada é necessário defnir algarismos signifcativos e casas decimais. A forma
mais fácil de entender estes conceitos é com exemplos. O número 0,04513, por exemplo, tem apenas
3 algarismos signifcativos mas 4 casas decimais enquanto que o número 4,350 tem 4 algarismos
signifcativos e apenas 3 casas decimais. Ou seja, o último algarismo de um determinado valor ou
medida representa uma incerteza associada a este valor ou medida. Se a medida indica 101 V é
porque é mais provável que a resposta certa esteja mais próxima de 101 V do que de 100 ou 102 V.
Se a medida indica 101,0 V é porque provavelmente a resposta verdadeira está mais próxima de
101,0 V do que de 100,9 ou 101,1 V. Entretanto, para o caso de números inteiros que terminam com
zero isto pode não ser verdade. O valor 10.000 ? pode ter sido obtido com cinco algarismos
significativos ou menos. Para evitar esta confusão estes números são melhores apresentados na
notação científica. Assim, 1,00·104 ? possui 3 algarismos significativos e 1,0000·104 ? possui
cinco algarismos significativos.
Regras de arredondamento também devem ser defnidas. De um modo geral os
arredondamentos devem ser feitos sempre para o número mais próximo, porém quando os
números terminarem em 5 devem, preferencialmente, ser arredondados para o algarismo par mais
próximo. Por exemplo 2,635 deve ser arredondado para 2,64 e 7,63415 para 7,634.
Para fazer adições utiliza-se um algarismo signifcativo a mais que no número de menor
precisão. O resultado deve ser arredondado para o mesmo número de casas decimais ou
algarismos signifcativos do número menos preciso. Por exemplo, a soma de 18,7 com 3,624 deve
ser feita como 18,70 somado a 3,62 cujo resultado é 22,3. Por outro lado 1,02·103 somado a 5,36
resulta em 1020 mas 1,02·103 somado a 6,36 resulta em 1030. Na subtração mantém-se o mesmo
número de casas decimais ou algarismos signifcativos do número menos preciso.
Para multiplicação, divisão, radiciação e outras funções matemáticas se utilizam números
com um algarismo signifcativo a mais que o do número com menor número de algarismos
signifcativos. O resultado é arredondado para o número com a menor quantidade de algarismos
signifcativos. O produto de 35,68 por 3,18 resulta em 113,46214 que deve ser arredondado e
expresso como 113, pois uma das medidas só tem três algarismos signifcativos (note que a casa
depois da vírgula pode assumir qualquer valor entre 0 e 8 (35,69·3,19=113,8511 e
35,67·3,17=113,0739, então não há razão para exibir estes dígitos).
Assim, se uma medida for obtida como uma média de três medidas de um mesmo peso,
como por exemplo, a média de 5202 g, 5202 g e 5203 g, deve-se tomar cuidado com a apresentação
do resultado. A apresentação do número 5202,33313 (o valor da média) não é muito indicada, pois
todas as contas foram realizadas com apenas quatro algarismos signifcativos, então é melhor
apresentar o resultado com quatro algarismos signifcativos. Para apresentar o valor da média é
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 28importante informar que o valor foi obtido por uma média de três medidas, cada qual com quatro
algarismos signifcativos.
Diversas ferramentas estão disponíveis para cálculos levando em conta o número de
algarismos significativos e arredondamentos. Um exemplo, que usa as regras apresentadas, é a
Signifcant Figures Calculator.
3.4.2 Representação de incertezas
As incertezas (assim como os erros) podem ser representadas de três formas principais,
absoluta, relativa e percentual (também podem ser apresentadas como partes por milhão, ppm, ou
partes por bilhão, ppb…) conforme indicado a seguir. No exemplo são apresentadas três formas de
representar uma medida de 100 s com incerteza de 2 s. Observe o uso apropriado da unidade
apenas para o caso da representação absoluta.
Absolutas – t=?100±2?s
Relativas – t=(100s±0,02)
Percentual – t=?100s±2%?
3.4.3 Cálculo e propagação de incertezas
Para o caso de medidas repetidas, onde as estimativas do mensurando podem ser feitas por
processos estatísticos é possível determinar um desvio padrão desta medida. Este desvio padrão se
refere a incerteza padrão da medição. Assim, uma incerteza padrão combinada pode ser
obtida considerando-se a incerteza padrão individual de cada elemento que afeta a estimativa do
mensurando. Esta incerteza padrão combinada pode, então, ser utilizada para estimar um
intervalo onde o valor verdadeiro de um mensurando provavelmente se encontra. Isto é feito com
o cálculo da incerteza de medição expandida, que é aquela cuja incerteza padrão combinada foi
multiplicada por um valor constante (fator de cobertura) para aumentar o intervalo de valores
prováveis para o mensurando.
Estas incertezas calculadas estatisticamente com amostras repetidas formam a chamada
incerteza Tipo A. Um outro tipo de incerteza, a incerteza do Tipo B, obtida por outros métodos
que não os estatísticos (não pode ser obtida por medidas repetidas), também pode ser expressa na
forma de desvio-padrão e, desta forma, combinada com a anterior. Por exemplo, uma medida feita
com uma régua indica que um determinado objeto mede alguma coisa entre 7,3 e 7,4 cm. Como a
probabilidade do mensurando assumir qualquer valor neste intervalo é razoável, podemos
considerar uma distribuição uniforme de possíveis valores para o mensurando entre 7,3 e 7,4 cm.
Uma distribuição uniforme no intervalo [-a; +a], por exemplo, tem desvio padrão
e=
a3v
(3.27)
Porém, se considerarmos que existe mais probabilidade da medida assumir um valor mais
próximo do centro da escala, por exemplo, mas sem que haja indícios de que uma distribuição
normal se aplique ao caso, pode-se utilizar uma distribuição triangular para o intervalo [-a; +a],
neste caso o desvio padrão é dado por
e=
a6v
(3.28)
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 29Uma vez que as incertezas padrões Tipo A e Tipo B podem ser determinadas basta saber
como pode ser obtida a incerteza padrão combinada. Supondo as grandezas X1, X2,…, Xn com seus
respectivos valores numéricos estimados x1, x2, …, xN, e incertezas associadas ex1, ex2, …, exN (cada
uma destas incertezas definida como um desvio padrão). Supondo uma grandeza R que se relaciona
com as grandezas Xi através de uma função R = F(X1, X2, …, XN). R pode ser expressa como
R =r +e (3.29)
onde r corresponde a avaliação da função F e e corresponde a incerteza combinada. Considerando
que as grandezas Xi são variáveis aleatórias não correlacionadas as incertezas podem ser tratados
convenientemente na forma de variâncias ou desvios padrão ou valores RMS (valor efcaz). Se
houver correlação entre as grandezas as covariâncias também devem ser consideradas. Neste texto
serão considerados apenas os casos não correlacionados, assim
e=v[(??XF1)·ex1]2+[(??XF2)·ex2]2+...+[(??XFN )·exN]2 (3.30)
Para o caso particular em que F é uma soma ou uma subtração de grandezas então a
incerteza absoluta pode ser obtida pela raiz quadrada da soma dos quadrados das incertezas. Por
exemplo, se T 1=(200±4) s e T 2=(100±2)s , então
?T1 –T2?=?200–100±??42?22??=?100±4,47?s .
Para o caso particular em que F apresenta apenas produtos ou divisões então a incerteza
relativa pode ser obtida pela raiz quadrada da soma dos quadrados das incertezas relativas. Por
exemplo, se L3=?551±1?·10-6 m e T 1=?100±2? s , então
(L3/T 1)=(551100 ·10-6±v((1/551)2+(2/100)2))=(5,51µm/s±2%) .
3.4.4 Erro máximo
Nem sempre as incertezas são informadas diretamente. Muitas vezes a informação dada
consiste de um erro limite. Por exemplo, em alguns instrumentos a exatidão é garantida no que
concerne ao valor de fundo de escala, e no caso dos componentes eletrônicos estes são garantidos
dentro de limites percentuais do valor nominal do componente. Os limites destes desvios são
chamados de limites de erro. Se considerarmos uma probabilidade uniforme entre os limites de
erro, este pode ser considerado como uma incerteza de medição expandida com um fator de
cobertura sufcientemente grande.
Exemplo: Um voltímetro tem exatidão de 1% do valor do fundo da escala (FS) e está sendo
utilizado para medir uma tensão de 30 V, na escala 0 – 200 V. Calcule o erro limite percentual
Erro limite=200·1 %=2V
Erro?%?= 2
30
·100%=6,7%
Observe que para valores relativos ao fundo de escala a exatidão absoluta é constante mas
o erro percentual é variável.
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 30Em alguns equipamentos outras formas de tolerância para os valores medidos ou erros
limites podem ser empregadas, por exemplo, percentuais do valor lido somados a resolução ou
percentuais do fundo de escala.
Exemplo (GUM 4.3.7 e 5.1.5): As especifcações do fabricante para um voltímetro digital
estabelecem que a exatidão na faixa de 1 V é de 14·10-6 V vezes a leitura mais 2·10-6 V vezes a
faixa. Considere que o multímetro está sendo usado para medir em sua faixa de 1 V e que a média
aritmética de um número de observações repetidas independentes de tensão é encontrada como
sendo V¯=0,928571V , com uma incerteza-padrão do Tipo A de 12 µV. Qal a incerteza padrão
combinada para esta medida?
Erro limite=14·10-6·0,928571+2·10- 6·1=15µV
Supondo que a exatidão declarada fornece limites simétricos para uma correção aditiva do
valor medido (com esperança igual a zero e com igual probabilidade de estar em qualquer parte
dentro dos limites), então a incerteza padrão Tipo B é
e
TipoB=
15µ V
v3 =8,7µV
Uma vez que V =V¯ +? V então ?V /?V¯ =1 e ?V /?? V =1 então
e=veTipoA 2 +eTipoB 2 =v(12µ V )2+(8,7µ V )2=15µV
3.4.5 Erros e incertezas em instrumentos eletrônicos
Uma cadeia de medição genérica para um instrumento de medição moderno é apresentado
na Figura 3.14. Observe que os blocos, ligados em cascata, multiplicam sua entrada por um valor
pré-determinado, permitindo que a incerteza combinada possa ser calculada pelas expressões
apresentadas anteriormente.
Figura 3.14: Cadeia de medição genérica. A) Mensurando; B) Sensores e Transdutores; C) Circuito de Entrada; D)
Condicionador; E) Saída; F) Filtragem e conversão A/D; G) Processamento Digital; H) Saída; I) Reconstrução e fltragem; J)
Saída.
A Tabela 3.1 mostra algumas fontes de erro e incerteza presentes numa cadeia de medição
como a apresentada.
Instrumentação e Técnicas de Medida – UFRJ, 2015/2
A B C D
E
F
G
H
I
A/D D/A
J
31Tabela 3.1: Exemplos de fontes de erros em uma cadeia de medição
Sistema Fonte de Erro Descrição
Eletrônica
analógica
Qalidade do sinal Exatidão do sinal
Transdutor Não linearidade
Interface Terminação do circuito – contatos
Amplifcador Erro nos componentes
Filtro PB Erro na amplitude em função do ganho e fase
Conversão A/D
Multiplexador Erros de transferência e inerentes ao componente
Amostrador Erros na aquisição e inerentes ao componente
Aperture time Incerteza na amplitude do sinal adquirido
Resolução Interpolação do sinal
Aliasing Faixa de passagem, ruído
Filtro – sen(x)/x Atenuação devido a amostragem
A/D Erros de quantização
Reconstrução D/A
D/A Erros inerentes ao componente como não linearidades
Filtro – sen(x)/x Atenuação devido a reconstrução
Filtragem PB Erro na amplitude em função do ganho e fase
Harmônicos Faixa de passagem, ruído
Resolução Erro na amplitude do sinal reconstruído
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 324 Transdutores resistivos
4.1 Potenciômetro
Potenciômetros são dispositivos resistivos com um contato deslizante. Normalmente, dois
terminais são conectados a alimentação e uma tensão é medida entre o contato deslizante e a
referência de tensão (Figura 4.1). A posição do contato deslizante é alterada em decorrência da
ação de alguma variável mecânica, tal como uma força ou aceleração. Este é um tipo de transdutor
que apresenta grande variação de sinal uma vez que a saída pode variar de 0 até 100% da tensão de
excitação. Isto não é comum, mas torna seu uso muito simples. Existem, na prática, vários tipos de
potenciômetros possíveis de serem utilizados na construção deste tipo de transdutor, sendo cada
tipo responsável pelas características fnais do mesmo. Dentre os diversos modelos podemos citar
os de deslocamento linear e rotativo (Figura 4.1), de cordinha (para medida de deslocamentos), em
fta (para medida de deslocamentos ou pressão), colabável (para medida de nível de líquido), com
líquido condutor (para medidas de inclinações), entre outros. Além disto existem potenciômetros
múltiplos (múltiplos potenciômetros controlados por um mesmo elemento deslizante) ou que
implementam diversos tipos de funções não lineares.
Figura 4.1: Potenciômetros. Da direita para a esquerda: linear, rotativo, esquema.
Neste texto nos ateremos aos potenciômetros lineares conectados a um circuito cuja
impedância de entrada é RL (Figura 4.2). Considerando que a resistência entre o contato deslizante
e a referência seja x·Rp e 0=x=1 a tensão de saída pode ser obtida por meio de (4.1)
Figura 4.2: Circuito básico de medida com potenciômetros.
v
out=vin·
R
L// x·R p
R
L// x·R p+(1- x )·R p (4.1)
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 33mas considerando RL=?·R p
v
out=vin·
a·R
p·x·R p
a·R
p+x·R p
a·R
p·x·Rp
a·R
p +x·R p
+(1- x )·Rp
(4.2)
v
out=vin·
a·x·R
2p
a·x·R
2p
+a·(1- x )·R2p+x·(1- x )·R2p (4.3)
v
out=vin·
a·x
a+x·(1- x ) (4.4)
Observa-se que a saída depende não só de x, mas também de a. Para que a saída dependa
apenas de a é necessário que RL seja infnito. Neste caso
v
out
v
in
=x (4.5)
Se o erro relativo entre a função de transferência real e a ideal for defnido como
erro=
(vvout in )real -(vvout in )ideal
(vvout in )ideal (4.6)
então
erro=
a·x
a+x·(1- x )- x
x
(4.7)
erro=
-x·(1-x )
a+x·(1-x ) (4.8)
Derivando-se a função de erro com relação a x e igualando-a a zero, obtém-se a posição do
erro máximo
?erro
?x =
[a+x·(1- x )]·(2·x- 1)- x·(1- x )·(2·x - 1)
[a+x·(1- x )]2 =0 (4.9)
?erro
?x =
a·(2·x - 1)+x·(1- x )·(2·x- 1)- x·(1- x )·(2·x - 1)
[a+x·(1- x )]2 =0 (4.10)
?erro
?x =
a·(2·x - 1)
[a+x·(1- x )]2=0 (4.11)
logo
a·(2·x-1)=0 (4.12)
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 34x =0,5 (4.13)
Então o maior erro, em relação ao valor ideal, ocorre quando o contato está no meio do
curso, sendo que tal erro é igual a
erro
máx=errox=0,5=
-x·(1- x )
a+x·(1- x ) (4.14)
erro
máx=
-0,25
a+0,25
(4.15)
erro
máx=
- 1
1+ a
0,25
(4.16)
erro
máx=
- 1
1+4·a
(4.17)
Ou seja, o erro máximo é função de ?, como esperado. Supondo-se ?=1 ( RL=Rp ) temos
erro
máx=
-1
1+4
=20 % (4.18)
Na figura abaixo são apresentadas as curvas de erro absoluto e relativo com relação a
posição x além dos valores de vout para o caso ideal e real onde a vin=1V, RL=10k? e RP=10k?.
Figura 4.3: Saída do potenciômetro, v(out), em função da entrada x, erro absoluto e relativo.
Na maioria das aplicações os potenciômetros têm comportamento de um sistema de ordem
zero, mas por possuírem massa e atrito não é possível utilizá-los em aplicações de alta frequência
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 35nem com velocidade de deslocamento muito elevada. O atrito também desgasta o material
resistivo e impõe, de um modo geral, uma carga de 3 a 15 g para deslocar o contato. Problemas de
autoaquecimento limitam a aplicação de tensão. Uma lista simplifcada de características é
apresentada na Tabela 4.1.
Tabela 4.1: Principais características de potenciômetros lineares e rotativos
Parâmetro Potenciômetro Linear Potenciômetro Rotativo
Faixa 2 mm até 8 m 10º até 60 voltas
Resolução 50 µm 2º até 0,2º
Linearidade 0,002% FSO até 0,1% FSO
Velocidade máxima 10 m/s (restrições mecânicas)
Frequência máxima 3 Hz (restrições mecânicas)
Potência 0,1 W (plástico condutivo ou híbrido) até 50 W (fo)
Resistência 20 O até 220 kO
Coefciente Térmico 20·10-6/ºC (fo) até 1000·10-6/ºC (plástico condutivo)
Vida útil 108 ciclos (plástico condutivo)
Vantagens Fácil de usar, baixo custo, não eletrônico, alta amplitude do sinal
Desvantagens Limitado em frequência, atrito e inércia, desgastes
Com base em “Sensors and signal conditioning”, Ramon Pallàs-Areny & John G. Webster. John Wiley & Sons, Inc, 2001
4.2 Strain gauge
Um strain gauge é um elemento resistivo que produz uma mudança na sua resistência
elétrica em função de uma deformação mecânica (strain). São dispositivos que apresentam
pequenas variações de sinal e que são normalmente utilizados como parte integrante de uma
ponte de Wheatstone.
As deformações as quais os strain gauges são submetidos devem ser elásticas, para não
danifcar o sensor. Nesta situação a tensão mecânica sobre os materiais produz uma deformação
deste material que é proporcional a força aplicada e ao chamado módulo de Young. Esta é a lei de
Hook aplicada aos materiais.
s =
FA
=E·e =E·? L
L
(4.19)
onde s é a tensão mecânica, F a força, A é área, E é o módulo de Young e e é a deformação (strain,
em inglês).
Assim, os strain gauges costumam ser especifcados em termos da sua deformação máxima
(e) que é um adimensional. Normalmente os valores desta deformação são da ordem de µe (micro
strains) que corresponde a 10-6 m/m de deformação. Strain gauges podem ser imaginados como
fos de diâmetro bastante reduzido e que, quando sob ação de uma força, deformam-se alterando
comprimento e área de seção transversal (Figura 4.4). Esta variação dimensional se re?ete em uma
variação de resistência (4.20)
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 36Figura 4.4: Deformações sofridas pelos strain gauges.
R =?·L
A (4.20)
? R
? R = ??R(?· AL) (4.21)
? R
? R = ???(?· AL)·??R? + ??L(?· AL)·? ? L R + ??A·(?A·L)·??AR (4.22)
1=
LA
·
??
? R +
?A
·
? L
? R -
?·L
A2 ·
? A
? R (4.23)
? R= L
A
·??+ ?
A
·? L-?·L
A2 ·? A (4.24)
Dividindo-se todo mundo por R= ?·L
A
? R
R
=(AL·??+ A?·? L-?A·L2 ·? A)·?A ·L (4.25)
? R
R
=
??
? +
?L
L
-
? A
A (4.26)
? R
R
=
? ?
? +
? L
L
-
? A
A (4.27)
Consequentemente, a variação na resistência do elemento é causada por: a) mudança
relativa do comprimento; b) mudança relativa na secção transversal e c) mudança relativa na
resistividade.
Para elementos de secção transversal circular (grande maioria), a variação relativa da área
está ligada a variação de diâmetro.
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 37? A
A
=
p·(d +? d )2-pd 2
p·d 2 (4.28)
? A
A
=
d 2+2·d·? d +? d2-d2
d2 (4.29)
e considerando-se ? d 2«2·d·? d ( d ˜10µm )
? A
A
=
2·d·? d
d 2 (4.30)
? A
A
=
2·? d
d (4.31)
Por outro lado a variação relativa de diâmetro está relacionada com a variação relativa de
comprimento através de chamada razão de Poisson (?). Usualmente 0<?<0,5 sendo que para o
volume se manter constante é necessário que ?=0,5 (caso da borracha e de ?uidos
incompressíveis). A maioria dos materiais se deforma quando sobre ação de uma força
modifcando o seu volume inicial. Para o ferro fundido a razão de Poisson vale 0,17, para o aço
vale 0,303 e para o alumínio e o cobre vale 0,33. Então
? d
d =-?·
? L
L
(4.32)
Logo, podemos escrever a variação relativa de resistência como
? R
R
=
? ?
? +
? L
L
-
? A
A (4.33)
? R
R
=
? ?
? +
? L
L
-
2·? d
d (4.34)
? R
R
=
? ?
? +
? L
L
-
2·?·? L
L
(4.35)
? R
R
=
? L
L
·(1+2·?)+ ??? (4.36)
A variação de resistividade como resultado de um estresse mecânico é chamada piezo resistividade.
Ela ocorre em função da mudança na amplitude das vibrações na rede metálica. Uma extensão no material
acaba por reduzir a mobilidade dos elétrons e, por conseguinte, aumentar a resistividade dos materiais.
Bridgman mostrou quem, em metais, a variação relativa de resistividade é proporcional a variação relativa
de volume. Assim, a contante C de proporcionalidade de Bridgman para as ligas mais comuns em strain
gauges está entre 1,13 e 1,15 enquanto que para a platina C = 4,4. Reescrevendo 4.36 com a constante C
? R
R
=
? L
L
·(1+2·?)+C·? V
V
(4.37)
e sabendo que
? V
V
=
? L
L
+
2·?d
d =
? L
L
·(1-2·?) (4.38)
podemos escrever
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 38? R
R
=
? L
L
·[1+2·?+C·(1+2·?)] (4.39)
Agrupando-se todas as constantes em uma só, chamada fator de gauge (me ou G em alguns livros)
? R
R
=
? L
L
·me (4.40)
me=
? R /R
? L/L (4.41)
Vários materiais podem ser usados para a confecção de strain gauge, resultando em diferentes
fatores de gauge e faixas de operação. Materiais isotrópicos, por exemplo, apresentam me˜2, materiais
isoelásticos me˜3,2, e a platina me˜6. A .tabela seguinte mostra a sensibilidade para strain gauges de
diferentes materiais.
Tabela 4.2: Fator de gauge (sensibilidade) de diversos strain gauges
Material Sensibilidade (me)
Platinum (Pt 100%) 6,1
Platinum-Iridium (Pt 95%, Ir 5%) 5,1
Platinum-Tungsten (Pt 92%, W 8%) 4,0
Isoelastic (Fe 55.5%, Ni 36% Cr 8%, Mn 0.5%) * 3,6
Constantan / Advance / Copel (Ni 45%, Cu 55%) * 2,1
Nichrome V (Ni 80%, Cr 20%) * 2,1
Karma (Ni 74%, Cr 20%, Al 3%, Fe 3%) * 2,0
Armour D (Fe 70%, Cr 20%, Al 10%) * 2,0
Monel (Ni 67%, Cu 33%) * 1,9
Manganin (Cu 84%, Mn 12%, Ni 4%) * 0,47
Nickel (Ni 100%) -12,1
A Tabela 4.2 mostra que as variações de resistência ?R/R são bastante pequenas. Normalmente
obtém-se somente alguns poucos milivolts na saída de um transdutor strain gauge. Variações maiores
podem ser obtidas com elementos semicondutores, como silício, que apresentam mais efeitos piezo
resistivos do que de variação de dimensão. Nestes casos a mudança de resistividade com a tensão mecânica
é maior do que a mudança de dimensão como ocorre nos fos metálicos. Nos semicondutores a tensão afeta
principalmente o número e a mobilidade dos portadores e os efeitos piezo resistivos dependerão do tipo de
material semicondutor, dos seus portadores, e da orientação cristalográfca com relação ao força aplicada.
Para barras de silício tipo P com o eixo dominante na direção (1,1,1), por exemplo, é possível obter me(1,1,1)
da ordem de 100 a 175, sendo tal valor dependente de dopagem. Uma vez que um strain gauge de fo
possui, me entre 2 e 6, pode-se dizer que um strain gauge de silício é muito mais sensível.
É possível observar, entretanto, que a platina possui um fator de gauge relativamente grande e, por
suas características químicas, pode ser usada em ambientes corrosivos. Entretanto, a platina também é
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 39usada como termômetro o que introduz erros por vezes inaceitáveis. Assim como a platina strain gauges
semicondutores também são muito sensíveis a temperatura, na verdade, muito mais do que os strain
gauges de metal.
Variações de temperatura representam uma fonte de erro ambiental expressiva nos
transdutores strain gauge. Em strain gauge metálicos este erro pode ser equivalente a 50 µe/ºC.
Tais erros são divididos em erros de sensibilidade e erros de o?set. Estes erros podem ser
compensados com strain gauge chamados dummy. Estes são strain gauge usados apenas para
medir a temperatura e compensá-la. Uma lista com as principais características de strain gauge
comerciais é apresentada na Tabela
Tabela 4.3: Principais características dos strain gauges comerciais
Parâmetro Metal Semicondutor
Faixa 0,1 µe até 50.000 µe 0,001 µe até 3.000 µe
Fator de Gage 1,8 até 4,5 40 até 200
Resistência Nominal (O) 120, 250, 350, 600, …, 5.000 1000 até 5.000
Tolerância 0,1% até 0,35% 1% até 2%
Potência máxima 250 mW
Corrente máxima 5 mA até 25 mA – se for montado sobre uma
base que seja boa condutora de calor
Frequência máxima 100 kHz – limitado pelo comprimento de onda mecânico
Tamanho (mm) 0,4 até 150 (padrão entre 3 e 10) 1 até 5
Com base em “Sensors and signal conditioning”, Ramon Pallàs-Areny & John G. Webster. John Wiley & Sons, Inc, 2001
Do ponto de vista mecânico dois tipos de strain gauges são disponibilizados, os limitados
(Figura 4.5) e os não limitados. Os primeiros são montados em estruturas mecânicas que limitam a
deformação acima de um determinado valor protegendo o transdutor. Esses são os modelos
comercialmente disponíveis, pois podem ser facilmente manipuláveis.
Os tipos não limitados são, normalmente, mais lineares que os limitados, mas devido as
dimensões são empregados apenas para montagens industriais. Normalmente são fos com
dimensões capilares de difícil manipulação manual. Os strain gauges limitados são fos também de
dimensões reduzidas (espessuras da ordem de 4 µm), mas são depositados sobre uma superfície
que, apesar de delicada, permite a manipulação manual. A forma de montar um destes
transdutores sobre uma superfície plana é mostrada na Figura 4.6. Adesivos especiais devem ser
utilizados para a fxação dos transdutores, uma vez que eles não podem permitir que a base e o
strain gauge tenham deformações diferentes. Estas colas podem ser adquiridas no mesmo local
onde são adquiridos os transdutores.
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 40Figura 4.5: Alguns modelos de strain gauges limitados. Strain gauge duplo (A) e triplo (B e D) para as direções
preferencias indicadas. Modelo mais comum para uma direção preferencial (C) e modelo para compressão (E).
Figura 4.6: Forma de montagem de strain gauges limitados.
4.3 Detector resistivo de temperatura (RTD)
RTD (resistive temperature detector) são resistências dependentes da temperatura.
Normalmente estas resistências são obtidas a partir de metais ou ligas metálicas. Nestes materiais
Instrumentação e Técnicas de Medida – UFRJ, 2015/2
A B C
D E
41o número de portadores não é signifcativamente alterado pela temperatura, mas a sua mobilidade
sim, e isto se re?ete em um aumento de resistência em função da temperatura. Seu coeficiente de
temperatura é positivo e é capaz de operar em uma faixa de temperatura muito ampla podendo ser
considerado linear em faixas estreitas. Os RTD são modelados conforme 4.42.
RT=Ro·(1+a0·(T -T 0)+ß0·(T -T 0)2+?0·(T -T 0)3+...) (4.42)
onde R0 é a resistência de referência na temperatura T0 (normalmente 0 ?), a0, ß0 e ?0 são os
coefcientes térmicos dos RTD que as vezes são chamados de coefcientes de temperatura. Observe
que os coefcientes térmicos devem ser fornecidos para a temperatura de referência, pois são
dependentes dela. Por exemplo, um RTD linear com R0=100 O e a0=0,003185 O/O/K para T0=0 ?
apresenta uma sensibilidade s=R0·a=0,385 O/K em toda a faixa de operação, mas se a temperatura
de referência fosse 25 ? teríamos um a25
a
25=
a
0·R0
R
25
=
a
0·R 0
R
0+R0·a 0·25
=
a
0
1+a
0·25
=0,003155 O/O/K .
Assim, para calcular R(0 ?) usando T0=0 ? usa-se a0
R (0?)=R0+R0·a 0·(0– 0)=R0=100+100·0,003185·(0)=100O
e para calcular R(0 ?) usando T0=25 ? usa-se a25
R (0?)=R25+R25·a25·(0-25)=109,62515+109,625·0,003155·(-25)=100O .
Algumas características dos RTD mais comuns estão listadas na Tabela 4.4 e seus
coefcientes térmicos na Tabela 4.5. Curvas de resistência normalizada em função da temperatura
para cada um destes RTD é apresentada na Figura 4.7.
A Figura 4.8 exibe o formato de alguns encapsulamentos para os RTD. Os sensores
propriamente ditos podem ser formados por fos enrolados ou por flme metálico. Os de flme
metálico apresentam características muito semelhantes aos de fo, mas operam em temperaturas
mais baixas devido ao substrato. Os encapsulamentos permitem o uso em ambiente inóspito ou
líquido. Deve-se ter em mente que em função da massa e da transmissão de calor este sensor,
mesmo sendo resistivo, apresenta um comportamento de primeira ou segunda ordem. Estes
transdutores apresentam resposta dinâmica lenta, entre 0,5 e 5 segundos (aumenta com o
encapsulamento), mas precisão de 0,01%, elevada sensibilidade, comportamento razoavelmente
linear em torno de um ponto de operação, saída estável por longa faixa de tempo. Estas
características permitem que os RTD sejam trocados por outros iguais quando apresentarem
problemas sem mudanças signifcativas na curva de calibração.
Tabela 4.4: Principais características dos RTD
Parâmetro Platina Cobre Níquel
Faixa (?) -200 até 850 -200 até 260 -80 até 320
a (O/O/?) 0,003185 0,004127 0,006172
Resistividade (20ºC – µO·m) 10,6 1,673 6,844
R(0 ?) 25, 50, 100, 200, 500,
1.000, 2.000 10 50, 100, 120
Com base em “Sensors and signal conditioning”, Ramon Pallàs-Areny & John G. Webster. John Wiley & Sons, Inc, 2001
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 42Tabela 4.5: Coefcientes dos principais RTD
Material
(faixa de operação)
a
(10-6O/O/K)
ß
(10-6O/O/K2)
?
(10-6O/O/K3)
Platina (0 – 850?) 3907 -0,57618408
Níquel (-50 – 1809?) 5470 6,39 0,00619
Cobre (-50 – 180?) 4260
Niquel
Cobre
Platina
Tungstênio
R/R 0
7 6 5 4 3 2 1
0 200 400 600 800 1000 oC
Figura 4.7: Variações relativas de resistências dos RTD mais comuns. Measurement & Instrumentation Principles, Alan S
Morris, Buterworth Heinemann, 2001
Figura 4.8: Encapsulamentos de RTD.
Como a resistência depende da variação da resistividade e das dimensões do material o
autoaquecimento, o gradiente térmico e as deformações mecânicas são problemas que devem ser
levados em conta durante o uso. O autoaquecimento pode ser controlado por meio do fator de
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 43dissipação ou contante de dissipação térmica (d) dos RTD que defne a potência necessária para
aquecer o sensor de 1 ? (4.43). O fator de dissipação normalmente é informado em mW/K e para
duas condições distintas, para o sensor imerso em ar ou imerso em água. Para evitar o problema
de autoaquecimento normalmente são empregadas correntes menores do que 20 mA.
d =
P
D
? T
(4.43)
Como todos os sensores o RTD também deve ser estável, mas o drif térmico costuma
limitar a resolução em altas temperaturas. Mesmo assim os RTD costumam apresentar uma boa
sensibilidade, alta exatidão, baixo custo (para os sensores de cobre e níquel) e elevada estabilidade
(para o sensor de platina – desvios de 0,1 ?/ano em ambiente industrial e 0,00215 ?/ano em
laboratórios). Isto acaba por conferir ao RTD uma boa relação de compromisso entre sensibilidade,
estabilidade e linearidade.
Observa-se também que alguns materiais utilizados como RTD são empregados como
strain gauges e por esta razão os RTD também serão sensíveis a deformações mecânicas que
devem ser evitadas ou compensadas. E para fnalizar a seção vale a pena observar que os nomes
dos RTD são defnidos pela sigla do material do qual o sensor é feito seguido do valor da
resistência R0, por exemplo, o RTD mais comum é o PT100, ou seja, sensor de platina de 100O.
4.4 Termistores
Termistores são resistores sensíveis à temperatura (Figura 4.9), que apresentam resistência
variando com coefciente positivo (PTC) ou negativo (NTC). Os termistores, diferente dos RTD,
são formados por elementos semicondutores (óxido metálico sinterizado e coberto por epoxy ou
vidro, nos casos mais comuns) onde o número de portadores de carga é alterado com a
temperatura.
A maioria dos PTC são utilizados em aplicações de chaveamento, pois a resistência desses
elementos apresenta uma curva de resistência com inclinação ligeiramente negativa até que a
temperatura alcança um valor crítico (que pode ser ajustado de fábrica). Neste momento a
resistência do PTC aumenta signifcativamente com a temperatura (da ordem de 100% ou mais
para cada ?). Este comportamento é conseguido com uma dopagem muito forte dos
semicondutores (cerâmicas policristalinas com titanato de bário e outros componentes) e fazem
destes PTC componentes especiais para proteção de circuitos. Existem também os Silistores ou
Tempistores (termômetros de resistência de silício) que são PTC com aplicações em medição de
temperatura. A resistência destes elementos varia conforme (4.44) em uma faixa de -50 ? até
+150 ?, mas não são o foco deste texto.
R(T)=R0·(TT0)2,3 (4.44)
onde R0 é a resistência na temperatura de referência T0, normalmente 298,15 K (25 ?), e T é a
temperatura em Kelvin
Os NTC são os termistores mais comuns para medidas de temperatura, mas também
podem ser empregados com base no seu autoaquecimento. Qando funcionam como um medidor
de temperatura a resistência de um termistor NTC pode ser descrita aproximadamente por uma
exponencial (4.45). Esta aproximação é válida para uma faixa de aproximadamente 50 ?
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 44R(T )=R0·e
ß·(T1 – T10) (4.45)
R (T )=(R0·e- Tß0)·e ß T (4.46)
onde R0 é a resistência na temperatura de referência T0, normalmente 298,15 K (25 ?), ß é uma
constante que depende do material de construção e T é a temperatura em Kelvin. Como ß
apresenta unidade de temperatura, costuma ser chamada de temperatura característica do
termistor e normalmente assume valores entre 2.000 K e 5.000 K. Vale a pena observar que ß pode
ser determinado a partir do valor da resistência em duas temperaturas distintas,
independentemente de R0 e T0.
NTC
Termistor
RTD
Platina
Termômetro
de resistência
de silicio
PTC
Termistor
-100 0 100 200 oC
R
10 6
10 5
10 4
10 3
10 2
10 1
Figura 4.9: Comparação entre diferentes tipos de sensores de temperatura. Sensors in Biomedical Applications,
Fundamentals,Technology and Applications, Gárbor Harsányi, CRC Press, 2000.
Tomando-se o logaritmo natural dos dois lados de (4.45)
ln [R (T )]= ß
T
-
ßT
0
+ln[ R0] (4.47)
Chamando o recíproco da temperatura de lambda (?= T1), então
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 45ln [R (T )]=ß·?-ß·?0+ln [R0] (4.48)
que é uma função linear de ? (ß é a inclinação da curva ln[R(T)] em função de ?).
Este modelo exponencial normalmente permite medidas com erro de ±0,3 ? para uma
faixa dinâmica de 50 ?. Modelos mais sofsticado podem ser utilizados para melhorar as
estimativas de temperatura e aumentar a faixa de atuação do transdutor. O modelo empírico de
três parâmetros (4.49), com base na equação de Steinhart-Hart, por exemplo, leva o erro para
±0,01 ? numa faixa dinâmica de 100 ?, e o modelo de quatro parâmetros (4.50) leva a erros para
0,000115 ? na faixa de 0 a 100 ?. Este cuidado todo com a qualidade da medida, entretanto, exige
recalibrações toda vez que o transdutor for trocado, pois normalmente os valores de ß variam
muito de transdutor para transdutor. Algumas vezes é possível adquirir transdutores que são
garantidamente intercambiáveis, mas eles custam mais caro.
R (T )=R0·e(A + B T + TC3) (4.49)
R (T )=R0·e(A + B T + TC2 + TD3) (4.50)
Da mesma forma que para os RTD também é possível calcular a sensibilidade relativa de
um termistor. Considerando o modelo de um parâmetro (4.45) a pode ser descrito por (4.51).
Supondo ß=2648 em 25 ?, obtém-se um a=0,03515 O/O/K, ou seja, 10 vezes maior do que no PT100.
Algumas vezes este valor é escrito como 3,55% /K (simplifcando a razão O/O). A faixa normal de
sensibilidade para NTC vai de 3 até 7%/?. Curvas reais de alguns NTC são apresentadas na Figura
4.10. Para os PTC modelados por 4.44 a=0,77% /K, o dobro do PT100.
a=
dR (T )/dT
R (T ) =-
B T
2 (4.51)
A contante de dissipação térmica (d) dos termistores (normalmente entre 0,5 e 10 mW/?)
também é muito importante para garantir a qualidade da medida. Por exemplo, se uma medida
requer um erro menor do que 0,1 ? mas o termistor apresenta d=3 mW/? ele precisa dissipar, no
máximo 0,3 mW. Esta é uma condição limite que considera o transdutor como única fonte de erro.
Em uma situação real a potência terá que ser no mínimo duas ou três vezes menor. Qando o
termistor opera nesta faixa considera-se que ele está numa região linear entre tensão e corrente
que as vezes é chamada de região de potência nula ou modo R×T (Figura 4.11).
Para potências mais altas o termistor entra numa região de funcionamento com
autoaquecimento. Nesta região o transdutor não é usado para medida de temperatura, mas utiliza
suas características para funcionar como limitador de corrente ou medidor de perda de calor. Estes
costumam ser chamados de modo de queda de tensão ou variação de corrente no tempo.
O modo de queda de tensão costuma ser utilizado em medidores de ?uxo, nível, vácuo ou
outros dispositivos que resfriam o termistor alterando a queda de tensão sobre ele. No modo de
variação de corrente com o tempo o termistor pode ser usado para limitar a corrente de partida de
um circuito. A medida que o tempo passa o autoaquecimento reduz sua resistência permitindo o
?uxo de uma corrente de regime permanente substancialmente maior. Esta estratégia é
comumente empregada em dispositivos que requerem uma partida lenta ou um aumento
gradativo da corrente. Para esta aplicação é necessário conhecer além das características elétricas
do transdutor, a sua capacidade térmica e seu calor específco, pois
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 46Figura 4.10: Curvas características de NTCs comerciais (Epcos – Electronic Parts and Components). Os valores de ß estão
anotados no gráfco. Todos os termistores tem o mesmo valor de resistências em 25?
Figura 4.11: Curva V × I de termistores (Epcos – Electronic Parts and Components). A região linear ocorre para potências
muito baixas. A parte alta da curva é utilizada com o transdutor no modo de autoaquecimento.
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 47P =V
T·I T=d (T -T a)+C·dT
dt (4.52)
onde C é a capacidade térmica (produto entre massa e calor específco) e Ta é a temperatura
ambiente. Esta é uma equação diferencial da temperatura cuja solução é
T =T
a+
Pd
·[1– e-(d /C)·t] (4.53)
Em regime permanente
I
2T
·R
T=
V T 2
R
T
=d·(T -T a) (4.54)
Com estas informações é possível determinar a constante de tempo térmica do termistor e
a maior queda de tensão sobre ele. A Tabela 4.6 lista algumas características gerais dos
termistores.
Tabela 4.6: Características gerais dos termistores.
Parâmetro Valores
Faixa de temperatura -100 ºC até 450 ºC
Resistência em 25 ºC 0,5 O até 100 MO (1 kO até 10 MO)
ß 2.000 K até 5.500 K
Máxima Temperatura 300 ºC contínuo ou 600 ºC intermitente
Constante de Dissipação 1 mW/ºC (ar) ou 8 mW/ºC (óleo)
Contante de Tempo Térmica 1 ms até 22 s
Máxima Potência Dissipada 1 mW até 1 W
Termistores podem apresentar uma razoável estabilidade com o tempo apenas em casos de
pré envelhecimento. Nestes casos é possível obter variações equivalentes a 0,01ºC para uma faixa
de 70ºC. Uma estabilidade intermediaria pode ser obtida cobrindo o elemento sensor com vidro
mas a constante térmica fcará pior. Além disto é necessário atenção na troca de termistores para
que eles apresentem características semelhantes.
Se a exatidão não for importante este sensor pode ser linearizado com associação de
resistores. Isto pode ser conseguido, para uma faixa limitada de temperatura, colocando-se um
resistor fxo série ou em paralelo com o termistor (Figura 4.12). Embora isto acarrete uma redução
na sensibilidade do dispositivo, a sensibilidade original do termistor é relativamente alta, o que
ainda garante um resultado fnal satisfatório. Neste caso os erros obtidos estão na faixa dos 2,5%.
Existem várias formas de calcular estes resistores otimizando a linearidade em torno de um
ponto ou para uma faixa de temperatura. A seguir são apresentadas duas formas bastante comuns
obtidas pela associação paralela entre o termistor R(T) e um resistor de valor fxo RP é dada por
R =
R
P·RT
R
P +RT (4.55)
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 48Figura 4.12: Linearização de NTC com resistência em paralelo (Epcos – Electronic Parts Components).
Uma linearização simples em torno de uma só temperatura (a temperatura central da
medida) pode ser obtida fazendo com que neste ponto a curva da resistência R tenha um ponto de
in?exão. Assim
d R
d T =
RP 2
(RT + RP )2·
dRT
dT (4.56)
d 2R
dT 2|T =TC=0 (4.57)
Rp=RTC·
ß- 2·T C
ß+2·T C (4.58)
Uma linearização também comum, e que envolve uma faixa de operação pode ser obtida
para qualquer função não linear fazendo com que variações iguais de temperatura correspondam
a variações iguais na resistência equivalente. Assim para temperaturas extremas T1 (mais alta) e T3
(a mais baixa) podemos escrever
T
1- T 2=T 2- T 3 (4.59)
R
T 1– RT 2=RT 2- RT 3 (4.60)
R
P·RT 1
(RP + RT 1)-
R
P·RT 2
(RP +RT 2)=
R
P·RT 2
(R P+RT 2)-
R
P·RT 3
(RP +RT 3) (4.61)
Rp=
R
T 2·(RT 3+RT 1)-2·RT 3·RT 1
R
T 3+RT 1– 2·RT 2 (4.62)
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 494.5 Outros transdutores resistivos
Muitos outros transdutores resistivos estão disponíveis no comércio. Dentre os mais
comuns estão os magnetorresistivos, resistores dependentes da luz (LDR), resistores sensíveis a
umidade e gases, resistores sensíveis a pressão entre outros.
4.6 Eletrônica para transdutores resistivos
Transdutores resistivos podem apresentar variações de resistência que vão desde 0,001%
até 10.000% nos casos extremos. Como uma variação de resistência não é um sinal propriamente
dito estas variações devem ser transformadas em tensão e corrente. Os circuitos que são ligados
aos transdutores fornecem energia para os mesmos aquecendo-os, e isto normalmente é
indesejado. Além disto todo o circuito ligado ao transdutor pode ser simplifcadamente substituído
por seu equivalente Tévenin de tal forma que a impedância do Tévenin interage com a
resistência do transdutor afetando as tensões e correntes no circuito fnal. Apesar das
características dinâmicas das medidas serem importantes os transdutores resistivos podem, com
facilidade, ser utilizados com corrente contínua em medidas estáticas. Uma série de características
e problemas estáticos relacionados as medidas e aos circuitos de medidas podem ser investigados
nestes casos. Linearizações, cancelamento de interferências, ganhos elevados e habilidade para
cancelar efeitos resistivos dos fos de interligação, principalmente para medidas remotas ou em
ambiente onde a temperatura varie signifcantemente são alguns dos problemas que devem ser
tratados. Para tanto é necessário conhecer os amplifcadores e circuitos mais comuns para estas
aplicações, bem como ter uma ideia de como funcionam os principais elementos utilizados para ler
os sinais analógicos e convertê-los em digital e vice-versa. Outros circuitos não lineares ou de
corrente alternada também podem ser bastante úteis, mas não serão tratados neste momento.
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 505 Amplifcador operacional
5.1 Introdução
Em instrumentação os sinais oriundos de sensores, transdutores ou outros dispositivos
costumam ser muito baixos e não raro estão contaminados por ruído. Por esta razão costuma ser
necessário passar estes sinais por circuitos condicionadores de sinal. Estes circuitos transformam
o sinal de entrada adaptando-o as necessidades do próximo estágio. Os condicionadores de sinal
mais simples são os amplifcadores e os somadores, mas moduladores, demoduladores,
retifcadores, conformadores, isoladores e muitas outras operações matemáticas podem ser
necessárias. Neste curso, cujo foco está nas baixas frequências, o elemento básico para tais
procedimentos será o amplifcador operacional (AO, AmpOp ou em inglês OA ou OpAmp).
Por ter sido projetado para ser versátil e funcionar em circuitos com realimentação
negativa este amplifcador é construído com ganhos extremamente elevados. Tão elevados que na
maioria das vezes vamos considerar que seu ganho é infnito. O erro desta suposição é, na maioria
das vezes, desprezível. A Figura a seguir mostra um diagrama com realimentação negativa. O
ganho de malha aberta do amplifcador operacional está representado por Ad(S), vi é o sinal de
entrada e vO o sinal de saída. A malha de realimentação negativa é formada pelo bloco ß(S). Em
circuitos práticos a realimentação é feita por resistores e capacitores. O conjunto completo forma
um novo amplifcador com características e nomes próprios que vão depender da rede de
realimentação, como veremos mais adiante. Apesar do ganho infnito do AO a sua saída é fnita e
o ganho do circuito realimentado também. Isto será fundamental para o equacionamento de
circuitos
Ad(S)
ß(S)
vo
+ _
v
i
Figura 5.1: Malha de realimentação negativa.
Considerando que cada bloco representa um ganho então
v
O(S )=Ad (S)·[vi(S)– vO(S)·ß(S)] (5.1)
v
O(S)
v
i (S) =
Ad (S)
1+Ad (S)·ß(S) (5.2)
Se o ganho Ad(S) (ganho diferencial ou ganho de malha aberta) for muito elevado, como no
caso do AO, o ganho da malha de realimentação, ß(S), é responsável pelo ganho do amplifcador
realimentado.
lim
A
d(S)?8
v
O (S)
v
i (S) =
1ß
(5.3)
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 51Observa-se que, mesmo com o ganho infnito do AO a sua saída é fnita e o ganho do
circuito realimentado também. Isto será fundamental para o equacionamento de circuitos
envolvendo AO.
Existem outras consequências importantes da realimentação negativa. As mais
importantes para nós dizem respeito a faixa de frequências, a estabilidade e as impedâncias de
entrada e saída. Qando o ganho de malha aberta do AO for dependente da frequência como em
(5.4), por exemplo, com um polo em ?C
Ad (S)= Aol
1+
S?C
(5.4)
então o ganho do amplifcador realimentado é
v
O (S)
v
i (S) =
A
ol
(1+ ?SC)
1+
A
ol
(1+ ?SC )·ß
(5.5)
v
O(S)
v
i (S) =
A
ol
1+A
ol·ß
1+
S
(1+Aol·ß)·?C
=
A
ol·?C
S +(1+Aol·ß?C ) (5.6)
Observa-se que o ganho do amplifcador realimentado foi reduzido a mesma quantidade
que o polo foi aumentado (1+Aol·ß). Isto signifca que, para frequências maiores do que ?C, o
produto ganho faixa em malha aberta ou realimentado se mantém constante quando o AO
apresenta resposta em frequência com um só polo ou compensado com polo dominante em baixas
frequências. Para exemplifcar considere Aol=105, ?C=1 rad/s. Neste caso o produto ganho faixa do
AO sem realimentação é Aol·?C=105 rad/s. Qando o AO é realimentado com ß=0,1 (ganho 10 para
o amplifcador realimentado) a frequência do polo passa para ?C*=Aol·ß·?C=104 rad/s, ou seja, o
novo produto ganho faixa continua igual (ß-1·?C*=10·104=105 rad/s).
A realimentação também perturba a estabilidade do sistema como um todo. Se o produto
Ad(S)·ß(S) na equação (5.2) apresenta módulo unitário e fase de 180o, por exemplo, o circuito
oscila. Se ganho for ainda maior em módulo o circuito torna-se instável. Na prática seria
necessário um sistema de ordem maior do que dois para levar a oscilação ou instabilidade, mas
como os AO práticos apresentam vários polos isto pode ocorrer mesmo com realimentações
puramente resistivas, basta que o ganho de realimentação (ß) seja elevado.
A realimentação também altera as impedâncias de entrada e saída do sistema. Dependendo
de como é feita a realimentação essas impedâncias podem aumentar ou diminuir com relação
aquelas encontradas no AO em malha aberta.
5.2 Símbolo e Modelo
Os símbolos mais comumente utilizados para representar um AO estão na Figura 5.2. A
versão mais comum é aquela sem alimentação (±Vcc), mas não devemos esquecer que todo
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 52amplifcador operacional precisa de duas fontes de alimentação, como mostrado no símbolo
completo. Uma fonte de alimentação é positiva e a outra costuma ser negativa (neste caso o
segundo terminal de cada fonte é ligado ao nó terra1). Qando a segunda alimentação tem, em
módulo, o mesmo valor da primeira diz-se que a alimentação é simétrica, caso contrário
assimétrica. Para os casos de alimentação assimétrica devemos consultar o manual do AO para
saber detalhes de como operá-lo sem problemas. Um outro aspecto importante das alimentações é
que elas limitam a saída do AO e, normalmente, as entradas do circuito.
Figura 5.2: Símbolos do amplifcador operacional. A esquerda representação simplifcada, a direita com os fos de
alimentação.
O modelo do AO ideal é apresentado na Figura 5.3. Observe que a impedância de entrada
do amplifcador é infnita (impedância entre cada entrada e o terra e entre as entradas) e a
impedância de saída (impedância entre a saída e o terra) é zero. A diferença de potencial entre as
duas entradas controla a tensão na saída do amplifcador. Esta diferença de potencial é
multiplicada pelo ganho diferencial ou de malha aberta.
Figura 5.3: Modelo ideal do amplifcador operacional. A é o ganho diferencial de malha aberta.
Qando se fala em impedância de entrada e saída de um amplifcador estamos
implicitamente calculando a impedância do equivalente Tevenin das entradas ou da saída. Vale
lembrar que o Tevenin é calculado para cada par de fos, ou seja, de cada entrada para o terra ou
da saída para o terra.
Se o ganho diferencial (Ad ou Aol) é infnito, e o AO está ligado com realimentação
negativa, então as tensões nas duas entradas do AO são iguais, pois, como explicado
anteriormente, uma malha de realimentação negativa, onde o ganho direto tende a infnito,
apresenta saída fnita e dependente do ganho de realimentação. Esta relação é válida enquanto o
AO estiver trabalhando na região linear (sem a saturação que ocorre próxima das tensões de
alimentação). Em outras palavras, se considerarmos o ganho Aol infnito (condição ideal) a
diferença de potencial entre as entradas obrigatoriamente será nula (condição ideal) para que a
saída seja fnita pois vo=Aol·(v+- v-) .
1 O terra é o ponto do circuito a partir do qual são medidas as diferenças de potencial para as entradas e saídas do
AO. Neste ponto também são ligadas as duas fontes de alimentação. O terra é a referência para medidas de tensão.
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 53Outras características muito importantes de um amplifcador operacional ideal são
apresentadas na Tabela 5.1. Nela estão listadas várias características estáticas (de corrente
contínua) e dinâmicas.
Tabela 5.1: Características de amplifcadores operacionais ideais
Característica Símbolo Valor
Ideal
Valor
Real* Notas
Ganho diferencial Ad
Aol 8 105 Amplifca a diferença entre as tensões de entrada
Ganho de modo comum Acm 0 1 Amplifca a tensão comum as duas
entradas
Rejeição de modo comum CMRR 8 105 Atenua a tensão comum as duas
entradas
Impedâncias diferencial Rid 8 MO Resistência entre as duas entradas
Impedância de modo comum Ricm 8 MO Resistência de cada entrada para o
terra
Impedância de saída Ro 0 O Resistência de saída
Slew-rate SR 8 V/µs Velocidade com que a saída pode
variar
Setling time ST 0 µs Tempo de estabilização
Largura de banda BW 8 MHz Faixa de frequência
Corrente polarização Ib 0 nA Corrente em cada entrada
Corrente de o?set Ios 0 nA Desigualdade entre as correntes de entrada
Tensão de o?set Vos 0 mV
Diferença de tensão na entrada,
necessária para que a saída seja nula
quando as entradas forem nulas
Ruído elétrico VN e IN 0 µV Ruído adicionado ao sinal de saída
Variação de fase ? 0 Entre o sinal de entrada e de saída
*Os valores reais são aproximações para a ordem de grandeza mais comum.
As características ideais de um AO nunca são alcançadas na prática, mas os erros
decorrentes de assumirmos estes valores ideais é pequeno. Desta forma é comum utilizarmos estas
características para simplifcar a análise de circuitos com AO, como será mostrado nas seções
subsequentes, entretanto, quando circuitos são usados para a interface com sensores e
transdutores algumas destas características reais podem se tornar importantes.
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 545.3 Amplifcador inversor
A Figura 5.4 mostra o circuito básico de um amplifcador inversor com AO.
Figura 5.4: Amplifcador inversor.
Considerando que o ganho Ad do AO não é infnito e sabendo que
v
o=Ad·(v+-v -) (5.7)
e
v
+
=0 (5.8)
então
v
o
Ad =-v
- (5.9)
Equacionando o nó da entrada v- ,
v
-
-vi
R
1
+
v
-
-v
o
R
2
=0 (5.10)
temos que
v
-
=
v
i·R2+vo·R1
R-1+R
2
(5.11)
logo
-
v
o
Ad =
v
i·R2+vo·R1
R-1+R
2
(5.12)
v
o
v
i
=-
R
2
R
1+
R
1+R2
Ad
.
(5.13)
Se Ad tende a infnito (AO ideal), então
v
o
v
i
=-
R
2
R
1
(5.14)
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 55Observe que se o ganho do AO tende a infnito, o ganho do amplifcador inversor é
determinado apenas pela malha de realimentação. Convém notar, ainda, que a in?uência do Ad
não infnito é tanto menor quanto menor for o ganho do amplifcador inversor (Tabela 5.2).
Considerando o amplifcador inversor com ganho ideal N teremos
v
o
v
i
=-
N·R
R + R +N·R
Ad
=-
Ad·N·R
R·(Ad +N +1)=-
Ad·N
Ad +N +1 (5.15)
Tabela 5.2: Erro na estimativa do ganho do amplifcador inversor considerando o ganho diferencial não infnito
Ganho ideal (N) Ganho do AO (Ad) Ganho real Erro (%)
1 100.000 1 -0,002%
10 100.000 10 -0,011%
100 100.000 99,9 -0,101%
1.000 100.000 990,09 -0,991%
10.000 100.000 9.090,8 -9,09%
10.000 1000.000 9.900,9 -0,990%
Se considerarmos o AO como ideal, o equacionamento do ganho fca muito facilitado pelo
uso de duas considerações:
1. Não há corrente circulando nas entradas do AO;
2. A diferença de potencial entre as entradas do AO é nula.
Assim, equacionando o nó da entrada vv
-
-vi
R
1
+
v
-
-v
o
R
2
=0 (5.16)
e sabendo que v-=0 , então
v
o
v
i
=-
R
2
R
1
(5.17)
Além do ganho vale a pena observar as impedâncias de entrada e de saída do amplifcador
inversor. Observe que a saída do AO é a saída do circuito, então, da mesma forma que o AO, o
circuito também apresenta impedância de saída nula. Já na entrada, entretanto, existe uma
corrente não nula que ?ui pela resistência R1.
i
R 1=
v
i
R
1
(5.18)
Esta corrente caracteriza uma impedância de entrada igual a R1 e isto pode fazer com que
tanto um circuito que é ligado na entrada do amplifcador quanto o próprio amplifcador
interfram no funcionamento um no outro. A Figura 5.5, por exemplo, ilustra bem este caso. O
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 56circuito ligado antes do amplifcador inversor apresenta resistência de saída Rth1 que está em série
com R1.
Figura 5.5: In?uência da impedância de saída e entrada em estágios subsequentes.
Com esta montagem o ganho do amplifcador inversor é alterado para
v
o
v
i
=-
R
2
R
1+Rth1 (5.19)
Observa-se que a tensão na saída do circuito ligado ao inversor também foi alterada.
Qando não estava conectado, o circuito apresentava saída vx=Vth1, porém, depois de interligado
ao amplifcador inversor, apresenta a saída
v
x=Vth1·
R
2
Rth
1+R2 (5.20)
Como visto, o circuito conectado antes do amplifcador inversor altera o funcionamento do
amplifcador que, por sua vez, altera o funcionamento do circuito ligado a ele. Isto ocorre porque a
impedância de entrada do amplifcador inversor não é infnita e porque a impedância de saída do
circuito que está ligado a ele não é nula. Assim, para que amplifcadores de tensão se comportem
como blocos em um diagrama, ou seja, de forma independente, é necessário que eles tenham
impedância de saída nula e impedância de entrada infnita. O projeto que envolve circuitos com
estas características pode considerar cada circuito de forma independente e isto facilita o projeto,
além de torná-lo mais ?exível. Uma outra boa razão para adotar esta estratégia de projeto é que
nem sempre dispomos de informações completas sobre a impedância de entrada ou saída de
circuitos ou equipamentos que não foram projetados por nós. Isto signifca que, mesmo com a
informação de que a impedância de saída de um circuito é de 50 O, por exemplo, nada garante que
isto seja verdade para qualquer corrente de saída ou para qualquer frequência, então a melhor
estratégia e fazer um projeto que não dependa desta resistência.
5.4 Amplifcador não-inversor
A Figura 5.6 mostra o desenho básico de um amplifcador não inversor.
Se considerarmos que o ganho do AO não é infnito, então
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 57Figura 5.6: Amplifcador não inversor.
v
+
=vi (5.21)
e
v
-
=v
o·
R
1
R1+R2
(5.22)
e como
v
+
- v
-
=
v
o
Ad
(5.23)
então
v
+
- v
o·
R
1
R1+R2
=
v
o
Ad (5.24)
v
o
vi
=
(R1+R2)·Ad
R1+R2+R1·Ad (5.25)
v
o
vi
=
R
1+R2
R
1+
R1+R2
Ad
(5.26)
Se Ad tende a infnito, então
v
o
vi
=
R
1+R2
R1
(5.27)
Supondo que o AO seja ideal, a solução do problema é encontrada fazendo-se a tensão na
entrada negativa igual à tensão na entrada positiva. Equacionando a entrada negativa temos
v
i – 0
R1
+
v
i-vo
R2
=0 (5.28)
v
o
vi
=
R
1+R2
R1
(5.29)
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 58Mais uma vez o ganho do amplifcador realimentado, quando Ad tende a infnito, é igual
aquele calculado considerando que as duas entradas do AO tem o mesmo valor. Podemos notar,
também, que nesta confguração o menor ganho é o unitário, que pode ser obtido se R1=8
(circuito aberto) ou R2=0 (curto circuito). Neste caso o circuito do amplifcador não inversor é
chamado de bu?er. O bu?er possui ganho unitário e, assim como o amplifcador não inversor, pode
ser utilizado para isolar estágios amplifcadores. Isolar, aqui, é usado para indicar que os circuitos
anterior ou posterior não afetam nem são afetados pelo amplifcador. Isto se deve novamente aos
equivalentes Tevenin. No caso do amplifcador não inversor a impedância de saída é zero (o que
é ótimo), e a impedância de entrada é infnita (o que também é ótimo).
5.5 Amplifcador somador inversor
A Figura 5.7 mostra a topologia do amplifcador somador inversor básico.
Figura 5.7: Amplifcador somador inversor.
Como podemos observar este amplifcador apresenta várias fontes de entrada e, portanto,
pode ser equacionado utilizando o princípio da superposição de fontes. Aqui levaremos em conta
que o AO possui características ideais de funcionamento, assim, a saída será dada pela equação
v
o=-R4·(Rv11 + Rv22 + Rv33) (5.30)
Se R1=R2=R3=R, então
v
o=-
R
4
R
·(v1+v2+v3) (5.31)
Observe que, assim como o amplifcador inversor, o amplifcador somador não possui
impedância de entrada infnita. As resistências R1, R2 e R3 correspondem respectivamente as
impedâncias das entradas 1, 2 e 3.
5.6 Amplifcador diferencial ou subtrator
A Figura 5.8 mostra a topologia do amplifcador diferencial ou subtrator básico.
O cálculo da tensão de saída pode ser feito facilmente por superposição, uma vez que
existem duas fontes atuando sobre o circuito. Qando v2 é zero a entrada v1 é aplicada a um
amplifcador inversor. Qando v1 é zero a entrada v2 passa por um divisor de tensão e é aplicada a
um amplifcador não inversor.
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 59Figura 5.8: Amplifcador diferencial ou subtrator.
v
o=-v1
R
2
R1
+v
2
R
2
R1+R2
·
R
1+R2
R1 (5.32)
v
o=
R
2
R1
·(v2-v1) (5.33)
O amplifcador subtrator amplifca a diferença entre duas tensões. Idealmente aquilo que
as duas tensões têm em comum não é amplifcado. Na prática isto não acontece, pois as duas
resistências R1 e as duas resistências R2 não são idênticas e assim cada entrada é amplifcada de
forma um pouco diferente. A Figura 5.9 mostra um amplifcador subtrator com quatro resistências
diferentes, uma fonte comum as duas entradas e outra fonte produzindo uma tensão diferencial.
Figura 5.9: Amplifcador diferencial com entrada de modo comum e diferencial.
Explodindo2 as fontes, vcm conecta-se apenas a R3 e vcm+vd conecta-se a R1. Assim,
considerando apenas a entrada vcm
v
o
=v
cm
·
R
4
R
3+ R4
·
R
2+R1
R
1
(5.34)
2 Em alguns textos chama-se deslocamento de fontes
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 60e para a entrada formada por vcm+vd
v
o=-
R
2
R1
·(vcm-vd ) (5.35)
Somando as duas equações
v
o=[RR1·1·R(4R-3+RR2·4R)3]·vcm- R R2 1·(-vd) (5.36)
Observe que as duas entradas do amplifcador apresentam ganhos diferentes e que só há
uma forma de cancelar a tensão de modo comum, fazendo
R
1
R2
=
R
3
R4 (5.37)
e neste caso particular
v
o
=
R
2
R
1
·v
d (5.38)
Observe que a in?uência de vcm é nula se a razão entre as resistências R1 e R2 for
exatamente igual à razão entre as resistências R3 e R4. Como na prática isso não acontece é
possível dividir o ganho do amplifcador em dois ganhos distintos, o ganho diferencial (Ad) e o
ganho de modo comum (Acm). Desta forma, o subtrator é classifcado quanto a sua habilidade de
amplifcar a diferença entre os sinais aplicados a suas entradas, e rejeitar a parcela de sinal comum
as duas entradas.
Como o ganho de modo comum costuma ser muito baixo podemos usar a chamada
rejeição de modo comum, ou CMRR que pode ser expressa linearmente (5.39) ou em dB (5.40)
CMRR= Ad
Acm (5.39)
CMRR=20 log(Acm Ad ) (5.40)
e para este cálculo considera-se
Ad=
v
o
vd
(5.41)
Acm=
v
o
v
cm
(5.42)
CMRR
R=
Ad
Acm
=
12
·
R
1·R4+R2·R3+2·R2·R4
R
1·R4 – R2·R3 (5.43)
Para o caso em que as fontes se apresentam como na Figura 5.8 a tensão de modo comum é
calculada como a média entre v1 e v2 enquanto que a tensão diferencial é calculada como a
diferença entre elas. A equação (5.43) pode ser reescrita rearranjando-se os termos para evidenciar
o CMRR do subtrator em função da falta de casamento entre as resistências. O resultado é
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 61apresentado em (5.44) e a dedução está em Precision Matched Resistors Automatically Improve
Di?erential Amplifer CMRR – Here’s How, da Linear Technology.
CMRR
R ˜
G+1
4·? R
R
(5.44)
onde G é o ganho do amplifcador de instrumentação e ?R/R corresponde a tolerância dos
resistores (metade do valor informado pelos manuais para o casamento entre as resistências).
A Tabela 5.3 mostra como o CMRR do circuito pode mudar com relação a tolerância dos
resistores. Observe que para resistores com tolerância de até 0,1% o CMRR do subtrator é
relativamente pequeno. A solução para este problema é integrar os resistores ou todo o circuito.
Exemplos destes circuitos integrados são o AMP03, o AD628, AD629 da Analog Devices, e os
INA149 e INA146 da Texas Instruments que apresentam CMRR próximos a 100 dB.
Tabela 5.3: CMRR do subtrator de ganho diferencial unitário em função da tolerância dos resistores
Tolerância dos Resistores (%) 5 2 1 0,1
Acm
subtrator (ganho 1) 0,1 0,04 0,02 0,002
CMRR
subtrator (ganho 1) 10x (20dB) 25x (27dB) 50x (33dB) 500x (54dB)
A CMRR do circuito completo, levando em conta a in?uência da CMRR do amplifcador
pode ser obtida por (5.45) cuja dedução é apresentada passo a passo em Precision Matched
Resistors Automatically Improve Di?erential Amplifer CMRR – Here’s How, da Linear
Technology
CMRR= 1
CMRR
-R
1
+CMRR
AO
-1 +
1
4·(CMRRR+CMRRAO)˜
1
CMRR
-R
1
+CMRR
AO
-1 (5.45)
Observe que a própria impedância da fonte pode causar um desbalanço nos resistores e
diminuir a CMRR da confguração. Por esta razão é desejável uma topologia onde a impedância de
entrada seja extremamente elevada. A construção integrada deste amplifcador também minimiza
os erros entre as resistências e propicia um CMRR maior.
Exemplo: Calcular o CMRR para um amplifcador diferencial cujas relações de
resistências são: R2=100·R1, e R4=101·R3.
v
o=[RR1·1·R(4R-3+RR2·4R)3]·vcm- R R2 1·(-vd) (5.46)
v
o=[101· RR1·1(·RR33+-101 100··RR31 )·R3]·vcm+100·vd (5.47)
v
o=
1
102
·v
cm+100·vd (5.48)
CMRR= Ad
Acm
=
100
1/102=10200˜80dB (5.49)
que também poderia ser obtido por (5.43) ou, usando a aproximação da equação 5.44
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 62CMRR˜ 100+1
4·0,005
=5050˜74 dB
5.7 Conversores tensão corrente
Conversores tensão corrente são muito úteis para a implementação de fontes de corrente
controladas por tensão. A topologia mais conhecida é a Howland, mostrada na Figura 5.10 e
discutida no artigo A Comprehensive Study of the Howland Current Pump da Texas Instruments.
Observe que a principal característica destes circuitos conversores tensão corrente, ou fontes de
corrente, é que a corrente sobre a carga não depende da carga.
Figura 5.10: Conversor Tensão-Corrente tipo Howland
No circuito da esquerda, se retirarmos o resistor R, conectado a entrada vin, e o resistor RL,
o equivalente Tévenin do circuito restante é uma resistência negativa de valor -R. Substituindo o
circuito pelo seu equivalente Tévenin e a fonte vin em série com a resistência R pelo seu
equivalente Norton, é fácil perceber que a corrente na carga, de cima para baixo, é igual a
i
RL=
vin
R (5.50)
Para o circuito da direita a corrente na carga, de cima para baixo, é igual a
i
RL=-
vin
R (5.51)
Nesta fonte, assim como no amplifcador diferencial, o casamento perfeito de impedâncias
é fundamental para o correto funcionamento do circuito, só assim é possível conseguir o
equivalente de valor -R. A vantagem da fonte é que ela permite uma carga ligada ao terra, ou uma
carga ?utuante, se duas fontes forem ligadas uma de cada lado da carga. A qualidade da fonte
decai com a frequência em virtude do comportamento não ideal dos resistores e do AO. A
impedância de saída de uma fonte deste tipo está na casa dos kO.
5.7.1 Outras topologias
Além das fontes Howland muitas outras confgurações podem ser utilizadas como fontes
de corrente ou conversores tensão corrente. Um amplifcador inversor ou um não inversor podem
funcionar como fontes de corrente se a carga estiver na realimentação do operacional. Neste caso
é necessário que a carga não precise estar ligada ao terra. As características não ideais do AO
também limitam o uso desta carga nas altas frequências.
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 63Alterações nestas fontes (Howland, inversor e não inversor) são comuns. Uma modifcação
que resulta num fonte unipolar (corrente apenas numa direção) pode ser obtida com um transistor
ligado na realimentação do amplifcador não inversor (base na saída do AO e emissor na entrada
negativa). Esta é uma boa solução para fontes de corrente elevada, mas a corrente é unipolar. Uma
outra variante comum é a fonte de corrente Howland modifcada que permite o ajuste da corrente
com a alteração de apenas 1 resistor.
Figura 5.11: Fonte Howland modifcada.
Levando em conta que as tensões nas duas entradas do AO são iguais (v+=v-), a tensão na
saída do operacional é vO1 e a tensão sobre a carga é vRL, então
v
O1=v
+
-
R2·(v1- v+)
R
1
(5.52)
v
RL=v
+
-
R2·(v2- v+)
R
1
(5.53)
v
O1=v
+
·(1+ R R2 1)-v1·R R2 1 (5.54)
v
RL=v
+
·(1+ R R2 1)- v2·R R2 1 (5.55)
considerando que R « R2 ou um bu?er seja colocado para a realimentação de vRL, então
i
RL=
v
O 1– vRL
R
(5.56)
i
RL=
1 R
·[v+·(1+ R R2 1)-v1·R R2 1-v+·(1+ R R2 1)+v2·R R2 1] (5.57)
i
RL=
R
2
R
1
·
(v2– v1)
R (5.58)
Exemplo: Dado o circuito abaixo, calcule sua função de transferência iL= f (vi) .
Considere os AO ideais. a) Estabeleça valores para os resistores R, R3 e R4 de forma que o
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 64circuito forneça uma corrente máxima iLmáx=1mA para uma carga 0 O=RL=10 kO quando
v
i=-10V . Considere R1=R2=100 k O e V CC=±12 V . Considere vi=0V .
Análise do circuito: A2 forma um amplifcador de ganho unitário (bu?er); A3 forma um
subtrator junto com R3 e R4; A1: fornece a corrente de saída e é realimentado pelo subtrator
através de R1 e R2.
Análise das realimentações: A1 recebe realimentação negativa (RN) através da entrada
não inversora de A3 e realimentação positiva (RP) através de A2 e da entrada inversora de A3 .
Como o ganho dos dois caminhos do subtrator (entradas inversora e não-inversora) são iguais em
módulo, a RN é mais forte, porque a RP ainda passa pelo divisor resistivo R-RL. Como resultado
disto, o circuito possui realimentação negativa, o que permite o uso das técnicas estudadas.
Função de transferência:
v
A 1
-
=
v
i·R2+R1·
R
4
R
3
·R·i
L
R
1+R2
=0
, logo
i
L=-
R
2·R3
R
1·R4·R
·v
i
a)
Sendo iLmáx=1ma e R Lmáx=10 kO então vLimáx=10 V (tensão máxima na carga)
R =
v
Omáx-v Limáx
i
Lmáx
, onde vOmáx é a máxima tensão de saída do AO.
Como Vcc=±12 V , podemos limitar, com segurança, vOmáx=11 V .
R =11 V-10 V
1 mA
=1 kO
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 65Como i
L=-
R
2·R3
R
1·R4·R
·v
i (a corrente independe de RL)
então
R
4
R
3
=-
R
3·v i
R
i·R·iO
=-
100k·(-10)
100 k·1 k·1m =10
assim podemos escolher, por exemplo, R4=100k O e R3=10 k O .
5.8 Considerações práticas
O amplifcador operacional real é bem diferente do ideal. Seu ganho diferencial (Ad) é da
ordem de 105 ou 106 vezes. Os melhores CMRR estão próximos de 100 dB. As impedâncias de
entrada diferencial (Rid) e de modo comum (Ricm) são da ordem de alguns MO e, como
consequência, as correntes nas entradas do AO (Ib) são da ordem de µA ou nA e não são iguais.
Além disto a saída não é zero quando as duas entradas estão aterradas. Isso adiciona um efeito de
o?set (Vos) no AO. Para fnalizar, a impedância de saída (Ro) não é nula. Um modelo mais completo
do AO, levando em conta todas estas características reais, é apresentado na Figura 5.12. Neste
modelo foram consideradas apenas características estáticas (de corrente contínua). Características
dinâmicas também devem ser consideradas em algumas aplicações. De um modo geral todas estas
características (estáticas e dinâmicas) se tornam importantes em problemas de alto desempenho e
nestes casos vale a pena consultar um especialista (um engenheiro eletrônico).
Figura 5.12: Modelo de corrente contínua para o amplifcador operacional.
Adicionalmente devemos levar em conta que os circuitos eletrônicos, de um modo geral,
trabalham com tensões da ordem de alguns Volts (de 3,3 V até uns 15 V mais ou menos) e que
estas tensões podem ser positivas ou negativas. As potências que os AO conseguem fornecer não
costumam ultrapassar alguns mW e, portanto, as correntes fcam limitadas a mA. Com esta
combinação de valores as resistências estão na faixa de alguns kO (muito baixas elas produzem
correntes elevadas, muito altas elas interferem nas impedâncias de entrada dos AO). O segredo é
usar valores que permitam as aproximações por modelos ideais e que cada circuito possa ser
projetado de forma independente, não afetando ou sendo afetado pelos circuitos do entorno.
Aproveitar toda a faixa de entrada ou saída de um equipamento ou sensor é, em teoria, a
melhor forma de utilizá-lo, mas nem sempre isso é possível ou desejável na prática devido as
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 66saturações e aos erros de ganho e o?set. Por exemplo, um AO comum satura quando sua saída está
a aproximadamente 1 V da tensão de alimentação (exceção para os AO rail-to-rail onde este valor
cai para centenas de mV), então é melhor não fazer o projeto para utilizar toda a faixa da tensão
de alimentação. Se desejamos interligar equipamentos e o projeto é feito para o máximo
aproveitamento das faixas de operação erros nos ganhos ou o?sets podem saturar estes
equipamentos. Por outro lado, equipamentos e sensores foram feitos para funcionarem próximos
de seus valores nominais, então, utilizar uma faixa muito pequena do dispositivo não é
recomendado. Use o bom senso, tente usar o máximo possível da faixa de operação, mas sempre
deixe uma folga. Se você tiver que escolher entre ter que trabalhar numa faixa menor do que os
limites ou maior que os limites opte pela faixa menor. O sinal pode não fcar tão bom, mas, com
certeza, você não vai queimar nada nem vai sofrer com saturações. Se tiver que distribuir um sinal
em uma faixa de valores, procure, de um modo geral, distribuir o sinal no centro da faixa.
Algumas vezes, entretanto, é comum ver projetos que aproveitam apenas metade da faixa para
evitar de usar amplifcadores somadores. Neste caso você está economizando nos amplifcadores e
penalizando a qualidade do sinal. Se mesmo assim a qualidade do sinal for aceitável então não há
problemas.
Também vale a pena lembrar que quase todos os sinais apresentam valor zero para entrada
zero, então, quando lemos que um sinal pode varia de 10 a 20 mV, por exemplo, provavelmente
esta é uma informação sobre os valores máximos deste sinal e não sobre a faixa de valores. A
resposta correta vai depender do tipo de sinal e você terá que pesquisar. Muitas vezes, também, os
sinais serão simétricos em torno do zero, como no caso do EEG e EMG, mas as informações são
dadas apenas para a faixa positiva de valores. Portanto você deve conhecer o sinal com o qual está
trabalhando. Da mesma forma, se um equipamento diz que sua saída pode variar em uma
determinada faixa de valores, isto não quer dizer que todos os sinais que saírem destes
equipamento ocuparão toda esta faixa. Pode ser que os sinais medidos fquem distantes do
máximo para a faixa que o equipamento está sendo usado, mas se for possível ajustar esta
amplitude use este recurso a seu favor. A mesma coisa vale para a entrada de outros dispositivos.
Nem sempre você conseguirá produzir sinais que ocupam toda a faixa de entrada de um conversor
AD (dispositivo que converte os sinais analógicos para sinais digitais), por exemplo.
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 676 Circuitos especiais
6.1 Amplifcador de instrumentação
Em instrumentação é muito comum a medida de sinais de forma diferencial (diferença
entre dois potenciais), como no caso das medidas em ponte de resistores e biopotenciais. Esta
necessidade faz do amplifcador subtrator um ótimo candidato para esta tarefa. Entretanto, este
amplifcador não apresenta impedância de entrada infnita o que pode ser um problema na
maioria das aplicações de instrumentação. Para resolver este problema, foi criado o amplifcador
de instrumentação (InAmp) cujo símbolo é apresentado na Figura 6.1 e o diagrama esquemático
na Figura 6.2. Neste circuito, um amplifcador não inversor e colocado em cada entrada do
amplifcador subtrator conferindo a montagem uma característica de amplifcador subtrator com
elevada impedância de entrada.
Esta topologia apresenta alta rejeição a tensões de modo comum, ganho elevado, ganho
ajustável apenas com um resistor, impedância de entrada (diferencial e de modo comum) elevada
em ambas as entradas. Nesta confguração o primeiro estágio é responsável pelo ganho e o
segundo estágio é responsável pelo CMRR e para que este valor seja elevado o amplifcador de
instrumentação é comercializado em um único integrado.
Figura 6.1: Símbolo do amplifcador de instrumentação. A entrada REF corresponde a referência (normalmente o terra) e
as entradas R servem para a colocação da resistência de ganho.
Figura 6.2: Amplifcador de instrumentação com três amplifcadores operacionais. A entrada de referência corresponde ao
terminal aterrado de R2. A entrada positivas corresponde a v2 e a negativa a v1.
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 68Circuitos integrados com amplifcadores de instrumentação alcançam CMRR maiores do
que 100 dB (CMRR > 105), mas este valor costuma decair com a frequência. Exemplos clássicos de
amplifcadores de instrumentação integrado são o AD620, AD8221 da Analog Devices, o INA118 e
o INA103 da Texas Instruments.
O circuito pode ser resolvido por superposição.
Supondo v2 aterrada, o potencial na entrada negativa do AO de baixo é zero, logo
v
O1=v1·
R?R
3
R
(6.1)
v
O2=-v1·
R
3
R
(6.2)
Supondo v1 aterrada, o potencial na entrada negativa do AO de cima é zero, logo
v
O2=v2·
R?R
3
R
(6.3)
v
O1=-v2·
R
3
R
(6.4)
Como a saída do segundo estágio já foi calculada anteriormente e vale
v
0=
R
2
R
1
?v2- v1? (6.5)
então
v
O=
R
2
R
1
·
R?2·R
3
R
·? v2-v1? (6.6)
v
o=
R
2
R
1(1+ 2RR3)(v2-v1) (6.7)
Uma versão de amplifcador de instrumentação com dois AO é apresentada na Figura 6.3.
A maior vantagem deste amplifcador reside no uso de apenas dois AO, mas esta também é sua
maior desvantagem. Por apresentar caminhos diferentes para os sinais amplifcados positiva e
negativamente o sinal sofre diferentes atrasos e deslocamentos de fase nos dois caminhos. Como
resultado o CMRR para sinais alternados é reduzido com relação ao amplifcador de
instrumentação de três AO. Assim como no amplifcador subtrator tradicional, para que este
circuito funcione apropriadamente é necessário que R1/R2=R4/R3 o que signifca que o CMRR
também será dependente do perfeito casamento de valores entre os resistores. Para contornar este
problema e o baixo CMRR em sinais alternados, este circuito pode ser encontrado integrado e,
neste caso, suas características são ajustadas de fábrica para um desempenho superior. Exemplos
deste circuito integrado são o AD627. O circuito com resistor RG permite o ajuste do ganho com a
mudança de apenas um resistor evitando que o CMRR seja afetado.
v
O=?v2 – v1?·?1? R R4 3 ? 2·RRG4? (6.8)
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 69Figura 6.3: Amplifcador de instrumentação com dois operacionais.
ou sem o resistor RG
v
O=(v2 – v1)·(1+ R R4 3) (6.9)
6.2 Amplifcador com realimentação ativa
Uma outra topologia disponível é a do amplifcador para recepção diferencial de sinais de
alta frequência (Figura 6.4). Diferente dos outros amplifcadores de instrumentação estes
amplifcadores utilizam uma topologia de realimentação ativa. Internamente este amplifcador
apresenta dois pares de entradas diferenciais sendo que usualmente uma delas é usada para a
realimentação (dai o nome realimentação ativa). Uma das vantagens deste amplifcador é que seu
CMRR permanece elevado mesmo para sinais de frequência muito alta (alguns MHz) ao contrário
dos amplifcadores de instrumentação tradicionais onde o CMRR cai por volta de 100 a 10 kHz,
dependendo do ganho e do amplifcador.
A função de transferência deste amplifcador é
V
O=Ad ·[(V 1 –V 2) –(V 3- V 4)] (6.10)
A confguração clássica para uso deste amplifcador é apresentada na Figura 6.5 e
apresenta função de transferência igual à do amplifcador não inversor.
Figura 6.4: Amplifcador operacional de recepção.
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 70Figura 6.5: Confguração clássica do amplifcador de instrumentação para recepção.
Exemplos deste amplifcador são o AD8129 e AD8130 da Analog Devices e podem ser
utilizados em conjunto com os amplifcadores operacionais diferenciais completos.
6.3 Amplifcador diferencial completo
Amplifcadores operacionais diferenciais completos são aqueles onde tanto a entrada
quanto a saída são diferenciais (Figura 6.6). Estes dispositivos apresentam elevados valores de
CMRR, provem baixa distorção harmônica e são aplicados na transmissão de dados a longa
distância, entradas de conversores AD ou sempre que forem necessárias saídas complementares. O
circuito típico para este tipo de amplifcador é apresentado na Figura 6.7. Se R4/R3=R6/R5 a função
de transferência é a mesma do amplifcador subtrator porém com as saídas complementares.
Figura 6.6: Amplifcador operacional completamente diferencial.
Figura 6.7: Amplifcador subtrator.
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 71Outra confguração bastante comum é aquela que transforma um sinal simples em um
sinal diferencial (R4=8, R3=0 e v-=0). Exemplos destes amplifcadores são o ADA4940 e ADA8131
da Analog Devices e o LTC1992 da Linear Technology LMH6550 da Texas Instruments.
6.4 Amplifcador operacional de transcondutância (OTA)
Este amplifcador é muito comum em microeletrônica mas existem poucos integrados
discretos disponibilizando funções de OTA. Como o próprio nome sugere este amplifcador
transforma a diferença entre as tensões de entrada em uma corrente de saída. Isto confere
características bastante interessantes a este operacional que, por exemplo, pode ter sua saída
ligada a saída de outro operacional do mesmo tipo sem problema de curto circuito, simular o
comportamento de resistência, criar fltros e acionar cargas capacitivas.
Os modelos discretos apresentam uma terceira entrada, chamada de corrente de
polarização, capaz de ajustar o ganho do amplifcador. A função de transferência deste operacional
é dado pela equação (6.11) e alguns de seus símbolos são apresentados na Figura 6.8. O OTA
discretos mais clássico foi o CA3080 cujo circuito interno é apresentado na Figura 6.9.
iO=gm·(v+-v-) (6.11)
gm=K·I B (6.12)
onde gm é o ganho do OTA, K é uma constante que depende do modelo e IB é a corrente de
polarização.
Figura 6.8: Símbolo do amplifcador de transcondutância (OTA).
Figura 6.9: Circuito interno do CA3080.
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 72Na Figura 6.10 são apresentados alguns circuitos empregando OTA. Há circuitos que
multiplicam ou emulam impedâncias, ligadas ao nó terra ou ?utuantes, somadores e
diferenciadores. Observa-se a pouca presença de resistências para a polarização o que também
facilita seu uso em fltros.
Figura 6.10: Alguns circuitos com OTA.
As principais aplicações para este tipo de amplifcador são o controle automático de ganho,
os multiplicadores e divisores de tensão, circuitos moduladores e fltros. Apesar disto este tipo de
amplifcador pode ser utilizado em praticamente todos os casos onde um operacional comum
também é utilizado. Isto, entretanto, não consiste em nenhuma vantagem pois as características do
OTA não o auxiliam nestas tarefas mais comuns. Como exemplos de OTA podemos citar o clássico
CA3080, o LM130700 e o mais recente o CA3280. Alguns OTA práticos sofrem limitações e
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 73problemas de polarização que difcultam seu uso, sendo importante a inclusão de componentes
que teoricamente não seriam necessários. Normalmente os problemas dizem respeito a não
linearidades do par diferencial de entrada. Como os OTA não precisam trabalhar realimentados a
diferença de tensão entre as entradas não é zero, mas o par diferencial de entrada só tem
comportamento linear para valores de tensão de alguns milivolts. Circuitos com diodos e
resistores são utilizados, externa ou internamente para expandir a linearidade dos amplifcadores.
Uma coletânea de circuitos de fltros utilizando OTA foi publicada no artigo Active Filter Design
Using OTA: A Tutorial.
6.5 Amplifcador isolador
Em muitos sistemas o ponto de medida deve ser ter isolação galvânica (impedância infnita
para corrente contínua) com relação ao restante do circuito amplifcador. Nestes casos devemos
utilizar técnicas de isolação entre a etapa de potência e a etapa de medição. Esta isolação pode ser
obtida por intermédio de amplifcadores isoladores. Estes amplifcadores obtém a isolação com
transformadores, com capacitores ou com opto acopladores. A relação de ganho varia de
amplifcador para amplifcador mas o símbolo é comum a todos e pode ser visto na Figura 6.11.
Figura 6.11: Símbolo do amplifcador isolador.
As principais aplicações para este tipo de amplifcador encontram-se na área médica, na
quebra de laços de terra e na diminuição dos efeitos causados por elevadas tensões de modo
comum. Exemplos de amplifcadores isoladores são o AD215 e o AD210 (com transformadores) da
Analog Devices, o ISO124 e o ISO122 (com capacitores) da Texas Instruments e o HCPL-7850,
HCPL-7851 da Avago. Outros integrados clássicos são o IS0103 e o ISO100 da Burr-Brown (ambos
obsoletos e não recomendados para novos projetos). Os diagramas de blocos para estes
amplifcadores são apresentados nas fguras 6.12 e 6.13.
Figura 6.12: Diagrama de blocos do AD215.
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 74Os fabricantes fornecem duas tensões de isolação, uma para tensões continuamente
aplicadas e outra para tensões aplicadas por um curto período de tempo. A primeira tensão é
menor do que a segunda e ambas podem variar em função da frequência e temperatura. A
impedância de barreira situa-se em torno de 1012 O.
Note que alguns destes amplifcadores apresentam transformadores e portanto não são um
simples circuito integrado. Muitas vezes estes circuitos são modelos híbridos ou construídos com
componentes discretos e encapsulados em um único invólucro. Observe também que os
amplifcadores isoladores necessitam de fontes de alimentação independentes para o lado isolado.
Isto signifca, inclusive, dois terras diferentes e não conectados. Estes amplifcadores estão caindo
em desuso e estão sendo substituídos por isoladores digitais, mais fáceis de serem produzidos. Leia
mais em Move Over Iso Amp—Make Te Switch To Digital Isolation.
Figura 6.13: Diagrama de blocos do amplifcador IS0124.
Com os novos isoladores cada vez mais simples e com menos recursos se torna necessário
investir também em fontes de alimentação isoladas. Exemplos de conversores DC/DC são os E_T e
F_T da Mornsun, com isolação de 3.000 Vdc em encapsulamento SMD, os AY_D e BY_D, da mesma
fabricante com isolação de até 12.000 Vdc, o 722 da Texas com isolação de 3.500 Vdc ou o
ADUM6000 da Analog Devices com isolação de 5.000 Vdc.
6.6 Amplifcador chopper e auto-zero
Os amplifcadores chopper foram desenvolvidos a muito tempo (no fm dos anos 40, início
dos anos 50), e não são um tipo especial de amplifcador, mas uma técnica de amplifcação cujo
objetivo é minimizar características indesejáveis de CC. O amplifcador chopper utiliza técnicas de
CA para desacoplar as baixas frequências devido a Vos e Ib. A melhora mais notável se dá no drif
com a temperatura de Vos e Ios. O amplifcador chopper pode introduzir um fator de redução de 50
vezes nestes drif.. A Figura 6.14 mostra um esquema simplifcado de um amplifcador chopper.
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 75Figura 6.14: Diagrama esquemático de um amplifcador chopper.
Na Figura 6.14 cada chave funciona como um modulador ou demodulador, uma vez que o
sinal em sua saída é equivalente ao produto do sinal de entrada por uma onda quadrada. Observe
que este é um sistema amostrado e como em todo sistema amostrado o espectro de frequências do
sinal de entrada é copiado para frequências maiores. Como o sinal de modulação é uma onda
quadrada o sinal de entrada é copiado em torno dos harmônicos ímpares da portadora. Após a
chave, na entrada do amplifcador (Vy) são somados ao sinal amostrado todos os ruídos e o?sets
que serão amplifcados. Após a segunda chave o sinal está sincronamente demodulado (Vo) e
retorna ao seu espectro original com cópias em torno dos harmônicos pares da portadora. Os
o?sets são removidos pelo capacitor de saída. O espectro do ruído, por outro lado, será copiado em
torno dos harmônicos ímpares da portadora. Agora, um fltro passa baixas reconstrói o sinal
original na saída do amplifcador chopper (Vout), fltrado todas as cópias espectrais de frequência
elevadas.
Como este é um sistema amostrado o sinal de entrada (Vin) deve ter frequência bem menor
que a de chaveamento. Esta, por sua vez, é da ordem de centenas a milhares de Hz na maioria dos
sistemas.
Como exemplo de amplifcador chopper estabilizado podemos citar o LTC1052 com
Vos < 5 µV e drif de 50 nV/?. Observe que os valores de o?set e drif são tão baixos que podem
ser necessários cuidados especiais na montagem do circuito. O efeito termopar causado por
contatos de metais diferentes pode produzir variações de tensão da ordem de 200 nV/?, quatro
vezes mais que drif do LTC1052. Assim, é interessante minimizar o número de chaves, soquetes,
conectores e outros potenciais contatos problemáticos. Eletrostática e campos eletromagnéticos
também podem ser fontes de problemas. O uso de transformadores, por exemplo, podem gerar
alguns microvolts de tensão em trilhas de circuito impresso.
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 76Os amplifcadores chopper, na forma como apresentado, estão em desuso e sua produção
tem sido descontinuada. Novos amplifcadores chamados de auto-zero (CAZ ou AZA) ou chopper
estabilizados estão em produção. Diferente do chopper tradicional os sinais são amplifcados por
um canal CC, e um circuito adicional com chaveamento (chopper) é usado para amostrar e subtrair
o o?set e reduzir drifs. Estas características estendem a faixa de frequência do amplifcador.
Exemplos de modernos amplifcadores de auto-zero são o AD8571, TLC2654, OPA333. Para saber
mais sobre estes amplifcadores leia To Chop or Auto-Zero: Tat Is the Qestion, da Analog
Devices ou Auto-Zero Amplifers Ease the Design of High-Precision Circuits, da Texas
Instruments.
6.7 Amplifcador de ganho programável (PGA)
Amplifcadores com ganhos pré estabelecidos e que podem ser selecionados digitalmente.
O tipo mais simples, apresentado na Figura 6.15, apresenta entradas digitais cuja lógica
combinacional é capaz de selecionar um entre diversos ganhos possíveis (4 no caso do PGA103).
Alguns circuitos mais sofsticados, como o MAX9939 apresentam uma interface serial (do tipo SPI)
que permite programar diversos parâmetros do amplifcador. Neste caso os ganhos podem ser
programados entre 0,2 V/V e 157 V/V além de permitir a compensação de o?set e oferecer recurso
de shutdown para minimizar consumo. Outros recursos comuns, internos aos PGA são os
multiplexadores (MUX) e seleção de ganhos binários ou para osciloscópio (x1, x2, x5, …). Também
estão disponíveis circuitos para ganho variável, ajustados analogicamente (VGA) como o AD8338.
Figura 6.15: Exemplo de Amplifcador de Ganho Programável – PGA103
6.8 Potenciômetro digital
Os potenciômetros digitais, também conhecidos como digital POT, RDAC, ou digipot, são
resistências ligadas em escada (ladder) e associadas a chaves. A abertura e fechamento de chaves
altera a associação de resistências simulando o comportamento de um potenciômetro. Eles são
uma alternativa para os circuitos PGA ou VGA e podem ser utilizados para produzir ajustes
automáticos em circuitos de instrumentação. O modelo apresentado na Figura 6.16 pode ter seu
potenciômetro ajustado inúmeras vezes até ser defnitivamente programado pela queima de um
fusível, como se fosse um potenciômetro mecânico com eixo colado após ajustes. A programação é
feita por comunicação serial no padrão I2C.
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 77Figura 6.16: Potenciômetro digital.
6.9 Conversores AD e DA
Conversores analógico para digital (AD ou ADC) e digital para analógico (DA ou DAC) são
muito comuns na interface entre os mundos analógicos e digitais. Estes componentes serão
estudados em detalhes no fm deste curso e informações adicionais podem ser obtidas em Te
Data Convertion Handbook, da Analog Devices. Basicamente estes componentes recebem sinais
analógicos e os convertem para digital e vice-versa (Figura 6.17) aplicando um fator de conversão
determinado, normalmente por tensões de referência que devem ser fornecidas aos conversores.
Estes circuitos normalmente operam com valores digitais positivos, em complemento de dois,
complemento de um, bit sinal, código de Gray entre outros. As saídas e as entradas analógicas
podem ser em tensão ou corrente. Os fatores de escala envolvidos nesta conversão normalmente
fazem com que os máximos analógicos e digitais correspondam aos valores das tensões de
referência ou uma fração delas.
Entradas
Digitais
N - Bits
N - bits
DAC
VREF
MSB
LSB
N - bits
ADC
MSB
LSB
Entrada
Analógica
Saídas
Dititais
N - bits
Saída
Analógica
VREF
+FS
(111...11)
0 ou -FS
(000...00)
+FS
(111...11)
0 ou -FS
(000...00)
Figura 6.17: Representação esquemática de conversores AD e DA.
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 78Considerando um conversor operando com tensões positivas entre 0 e 10 V e diferentes
resoluções, a Tabela 6.1 mostra a resolução em bits, Volts, %FS e em partes por milhão (ppm) ou
dB (20·log x). A resolução desses conversores está associada a um ruído de quantização, uma vez
que a há uma diferença entre o valor real e o valor que pode ser representado pelo número fnito
de bits dos conversores. Este erro pode ser considerado incerteza ou ruído. Uma forma simples de
entender como isto ocorre é através do gráfco de erro para sinais quantizados. As Figuras 6.18 e
6.19 mostram sinais analógicos que foram convertidos para digital por um mesmo ADC. Na
primeira fgura um sinal senoidal típico amostrado com uma frequência baixa apresenta erro com
amplitude limitada e igual à resolução do ADC. Uma vez que o sinal é bem-comportado e está
sendo amostrado lentamente o gráfco do erro parece determinístico e não lembra ruído, mas o
mesmo não ocorre para a segunda fgura.
Tabela 6.1: Resolução de conversores AD e DA
Resolução
(bits)
Combinações
2N
Resolução
(10VFS)
ppm (FS) %FS dB (FS)
2 4 2,5 V 250.000 25 -12
4 16 625 mV 62.500 6,25 -24
6 64 156 mV 15.625 1,56 -36
8 256 39,1 mV 3.906 0,39 -48
10 1.024 9,77 mV 977 0,098 -60
12 4.096 2,44 mV 244 0,024 -72
14 16.384 610 µV 61 0,00611 -84
16 65.636 153 µV 15 0,00115 -96
18 262.144 38 µV 4 0,00014 -108
20 1.048.576 9,54 µV 1 0,00011 -120
22 4.194.304 2,38 µV 0,24 0,0001024 -132
24 16.777.216 596 nV 0,06 0,0001006 -144
Figura 6.18: Conversão analógico/digital de um sinal senoidal puro. Verde é o sinal real, vermelho é o sinal
quantifcado e azul é o erro entre o real e o quantifcado.
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 79Figura 6.19: Conversão analógico/digital de um sinal senoidal complexo. Verde é o sinal real, vermelho é o sinal
quantifcado e azul é o erro entre o real e o quantifcado.
Nela o sinal é aleatório e a frequência de amostragem é maior, mas a amplitude do sinal
analógico e a quantidade de bits usados na conversão são os mesmos. Da mesma forma que na
fgura anterior o erro continua limitado em amplitude e equivalente a resolução do AD. O formato
do erro, entretanto, não parecer determinístico e por esta razão é tratado como um erro ou uma
incerteza.
Um ruído analógico pode, então, ser tratado como uma limitação para a resolução de
sistemas analógicos, idealmente infnita. Também é comum usar o termo razão sinal ruído para
comparar o ruído de diferentes fontes sobre um determinado sinal. Esta razão nada mais é do que
a razão entre a energia do sinal e energia do ruído. A energia normalmente é estimada pelo
domínio da frequência, pelo valor RMS de um sinal ou ruído ao longo do tempo ou,
simplifcadamente, pela amplitude do sinal e do ruído. Dado que todos estes termos se confundem
também é comum ver o ruído ou incerteza, mesmo que analógica, ser apresentada na forma de
bits equivalentes.
6.10 Referências de tensão e corrente
Normalmente os circuitos eletrônicos necessitam de fontes de alimentação para
funcionarem corretamente. Estas fontes, em esquemáticos, tem sempre o mesmo símbolo, mas
podem ter funções diferentes e requerer especifcações distintas. Fontes tradicionais usadas para
alimentar circuitos podem ser ruidosas e apresentarem drif elevado com tempo e temperatura.
Estas características normalmente não são problemáticas pois os AO e outros circuitos têm
imunidade a estas variações (PSRR, por exemplo). Por outro lado é fácil entender que alguns
circuitos críticos têm o seu desempenho dependente diretamente da qualidade da fonte.
Transdutores resistivos, por exemplo, precisam de fontes bem estáveis para que a tensão sobre
eles possa ser usada como sinal. Se estes transdutores utilizarem as mesmas fontes de tensão que
alimentam o restante do circuito o sinal, com certeza, será mais ruidoso e apresentará mais
tendências do que se uma fonte específca para este fm for projetada.
Por essa razão existem fontes de referência que costumam ser muito precisas e com drif
muito pequeno. Estas fontes não são feitas para dissiparem muita potência nem para alimentarem
circuitos inteiros. A Tabela 6.2 mostra alguns destes integrados e suas características principais.
Uma lista de referências fabricadas pela Linear Technology pode ser obtida no seu application note
AN42 – Voltage Reference Circuit Collection.
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 80Tabela 6.2: Circuitos de referência de tensão.
Parâmetro AD581L LM399A LT1021A MAX671C REF10A REF102C
Saída
(V/mA) 10/10 6,95/10 10/10 10/10 10/20 10/10
Drif c/ Tempo
(ppm/1000h) 25 20 15 50 50 5
Drif Térmico
(ppm/K) 5 0,6 2 1 8,5 2,5
Regulação (V)
(ppm/Vmáx) 50 10 4 50 100 100
Regulação (I)
(ppm/mAmáx) 50 3 25 1 800 10
Ruído (µVpp)
(0,1-10 Hz) 40 6 6 50 30 5
Com base em “Sensors and signal conditioning”, Ramon Pallàs-Areny & John G. Webster. John Wiley & Sons, Inc, 2001
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 817 Circuitos condicionadores para transdutores resistivos
7.1 Medidas de resistência
Resistências podem ser medidas de duas formas básicas, por métodos de de?exão ou de
zero. Os métodos de zero costumam ser mais exatos, porém mais lentos. Alguns problemas
relativos as medidas, entretanto, são comuns aos dois métodos e serão apresentados, neste texto,
uma única vez. Neste capítulo os conceitos serão apresentados em um contexto mas podem e
devem ser estendidos para todos os casos.
Os métodos de medida por de?exão são simples, pois necessitam apena que uma corrente
ou tensão seja aplicada ao transdutor. A variação de resistência, então, se traduz também numa
variação de corrente ou tensão dependendo de como se faz a medida. Para estes casos é necessário
que as fontes sejam muito estáveis e precisas. Assim, mesmo para as fontes de corrente as
referências de tensão serão importantes. Eventuais erros de exatidão podem ser compensados pois
irão se re?etir em erros de tendência. Resistências dos fos e terminais podem ser compensadas
facilmente empregando-se uma medida com quatro fos, excitação por corrente e medida de
tensão (Figura 7.1, esquerda).
Medidas diferenciais também são comuns, pois as vezes as resistências variam pouco o que
se traduz em um sinal com o?set muito elevado. Nas medidas diferenciais o o?set pode ser
removido por comparação com resistências dummy, que apresentam a mesma resistência do
transdutor e, muitas vezes, variações idênticas com a temperatura ou outras grandezas que não
são de interesse (Figura 7.1, direita). Uma variação deste esquema pode ser feita com apenas uma
fonte de corrente e medidas diferenciais de tensão sobre cada resistência. Neste caso a saída pode
ser obtida pela subtração ou razão das tensões. A subtração pode ser realizada com um
amplifcador diferencial enquanto que a razão pode ser implementada com circuitos divisores ou
um conversor AD cujo valor máximo corresponda a uma tensão de referência.
Figura 7.1: Algumas formas comuns de medida de resistência. A esquerda o método com quatro fos e a direita uma
medida diferencial. Em ambos os métodos as medidas de tensão são feitas entre os pontos A e B.
Para qualquer caso também vale a pena lembrar que o autoaquecimento, se não for
necessário para a medida, deve ser evitado. Se o circuito for alimentado por fonte de tensão a
potência máxima ocorre quando a resistência do transdutor for igual à resistência do equivalente
Tévenin. Se a alimentação for realizada por fonte de corrente a máxima potência ocorre quando a
resistência for máxima. A máxima potência, seja para não danifcar o transdutor seja para evitar o
autoaquecimento, normalmente é uma informação usada apenas para determinar um dos limites
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 82da resistência do equivalente Tévenin. Outras equações devem ser encontradas para determinar
o valor fnal dos resistores ou equivalentes. Normalmente estas informações são obtidas pelo
equacionamento literal do problema, e por informações adicionais de como o circuito deve
funcionar (faixa de saída, sensibilidade e outros).
7.2 Circuitos em ponte de Wheatstone
Vários transdutores como os RTDs e os strain gauges apresentam pequenas variações de
resistência com relação a variável de interesse, e normalmente são utilizados em uma montagem
chamada ponte de Wheatstone (criada por S. H. Christie em 1833 e aprimorada por C Wheatstone
em 1843). Os sensores são colocados nos braços da ponte, que pode ser alimentada com fonte de
tensão ou corrente conforme indicado na Figura 7.2. Na ponte, uma ou mais impedâncias mudam
seu valor proporcionalmente a grandeza que se deseja medir. Isto provoca um desequilíbrio nas
tensões da ponte que pode ser detectado por um amplifcador. Eventualmente este amplifcador
também pode ser responsável por linearizar ou fltrar o sinal captado da ponte.
Figura 7.2: Pontes de Wheatstone alimentadas com fontes de tensão ou corrente.
Apesar das duas formas serem possíveis a mais comum é aquela com alimentação em
tensão. Nela, considerando que Av é o ganho do amplifcador e Vcc é o valor da fonte de
alimentação, a tensão na saída do amplifcador será
v
0= Av·Vcc·(R1R+2R2 - R3R+3R4) (7.1)
enquanto que, para o circuito alimentado com fonte de corrente, o sinal na saída do amplifcador é
dado por
v
O=Av·I·?R2·R1?RR23??RR34?R 4 - R3·R1?R R1 2? ?R R32?R4? (7.2)
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 83Em ambos os casos o amplifcador foi considerado ideal, ou seja, com impedância de
entrada infnita. Isto nem sempre é verdade, e, assim como no caso apresentado para o circuito
com potenciômetro, se a impedância de entrada do amplifcador não for infnita um erro
sistemático será adicionado a saída do circuito. A análise completa do problema, considerando a
impedância de entrada do amplifcador, pode ser feita por meio de equivalentes Tévenin vistos a
partir de cada entrada do amplifcador (Figura 7.3).
Figura 7.3: Modelo de ponte de Wheatstone ligado a um amplifcador com impedância de entrada ZL.
v
TH 1=v·
R
3
R2+R3 (7.3)
Z
TH 1=
R
2·R3
R2+R3 (7.4)
v
TH 2=v·
R
4
R1+R4 (7.5)
Z
TH 2=
R
1·R4
R1+R4 (7.6)
o que resulta no modelo da Figura 7.4
Figura 7.4: Equivalentes de Tevenen da ponte de Wheatstone.
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 84v
TH=vTH 1-vTH 2=v·(R2R+3R3 -R1R+4R4) (7.7)
R
TH=RTH 1+ RTH 2=(RR22+·RR33 + RR11+·RR44) (7.8)
Com as equações apresentadas fca evidente que a relação entre a tensão de saída da ponte
e a variação de resistência dos elementos sensores pode ser bastante complexa. O uso mais
simples da ponte inclui apenas um elemento sensor. Supondo que Z3= R0·(1+?) e que
k=
R
1
R4
=
R
2
R0
(7.9)
então a tensão de Tévenin pode ser simplifcada
v
TH=v·((k+1)·k(· k?+1+?)) (7.10)
Desta forma fca evidente que a sensibilidade da ponte depende da relação entre as
resistências e que não é linear com relação a entrada (?). A sensibilidade da ponte pode ser
calculada como
S
0=
dv
TH
d(? R0)|?=0= vR·k 0 ·(k+11)2 (7.11)
cujo máximo é obtido com k=1. Neste caso
v
TH=v· -?
2·(2+?) (7.12)
o que signifca que a saída não é linear com relação as variações de resistência, mas para
aplicações menos exigentes e com ?«2
v
TH˜-v·?
4 (7.13)
Este limite para ? pode ser conseguido com certa facilidade quando usamos strain gauges,
mas isto pode não ocorrer quando os sensores forem RTD, por exemplo. Neste caso pode ser mais
interessante reduzir a sensibilidade da ponte alterando a relação entre as resistências. Isto também
torna a ponte mais linear.
A resistência de Tévenin também pode ser recalculada considerando que todos os
elementos da ponte tem o mesmo valor inicial R1=R2=R4=R0=R
R
TH=
R·R·(1+?)
R+ R·(1+?)+
R·R
R+R (7.14)
R
TH=
R·(1+?)
2+?
+
R2
(7.15)
R
TH=R·?1 2? 12? ?? ?? (7.16)
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 85ou seja, não é constante e varia de forma não linear com relação a ?. Mais uma vez, para
aplicações menos exigentes e com ?«1
R
TH=R (7.17)
Observe que tanto a tensão quanto a resistência de Tévenin variam em função das
variações de R3, e que RTH é aproximadamente igual as demais resistências empregadas na ponte.
Isto quer dizer que o uso de sensores com impedância baixa é desejado, pois os erros relativos
oriundos destas variações e da impedância de entrada do amplifcador serão baixos. Outras
possibilidades de montagem da ponte estão listadas na Tabela 7.1.
Tabela 7.1: Confgurações possíveis para ponte de Wheatstone
R1 R2 R3 R4 vTH/v vTH/IR0
R0 R0 R0·(1+?) R0 ?
2(2+?)
?
(4 +?)
R0·(1+?) R0 R0·(1+?) R0 ?
(2+?)
?2
R0 R0 R0·(1+?) R0·(1–?) 2?
(4 +?2)
?2
R0 R0·(1–?) R0·(1+?) R0 ?
2
?2
R0·(1–?) R0 R0·(1+?) R0 -?2
4-?2
-?2
4
R0·(1+?) R0·(1–?) R0·(1+?) R0·(1–?) ? ?
A alimentação em corrente também apresenta um caso não linear, onde apenas uma
resistência da ponte varia. Mesmo nesta situação este tipo de alimentação pode ser vantajosa em
casos de alimentação remota, pois sofre menos influência da resistência dos fios e, portanto,
favorece o uso de cabos mais baratos e com menos fios (como será visto mais adiantes) além de ser
mais imune a interferências externas.
7.2.1 Medições de resistência em ponte de Wheatstone
Para entender o problema da medida de resistência pode se utilizar um exemplo numérico.
O RTD mais comum é o PT 100, um sensor de platina com resistência de 100 O. Ele tem
coefciente térmico (TC) aproximado de 0,385%/?. Então para medir 1 O é necessário discriminar
variações de resistência de 0,385 O. Um outro exemplo recai sobre os strain gauges, eles podem
variar 1% de seu valor para o fundo de escala. Isto pode signifcar variação máxima de 3,5 O numa
medida de força. Para medidas com resolução de 10 bits seria necessário detectar variações de
resistência de aproximadamente 0,00315 O. Normalmente variações de resistência desta ordem de
grandeza são medidas com o uso de uma ponte de Wheatstone. A saída da ponte costuma ser de
alguns mV quando a alimentação é da ordem de 10 V, o que leva a sensibilidades do conjunto de
1 mV/V até 10 mV/V.
Mesmo com a sensibilidade das pontes dependendo da tensão de alimentação esta não
pode ser aumentada indistintamente, pois leva a aquecimento dos sensores, e se este problema for
diminuído ao máximo, com a redução dos valores para fonte, a sensibilidade também fca muito
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 86diminuída. Além disto fontes de alimentação para a ponte devem ser muito estáveis, pois
variações na tensão de alimentação produzem variação na sensibilidade da ponte. Para resolver
este problema pode se utilizar fontes de referência para alimentar as pontes. Existem fontes de
referência muito mais precisas do que as fontes de alimentação como por exemplo o AD589 (1,2%),
o REF195 (0,2%) e o AD588 (0,01%) da Analog Devices. Uma alternativa para o uso de fontes de
referência é a medida na qual a tensão da fonte de alimentação é utilizada para corrigir o ganho
do canal de medição. Na Figura 7.5 a fonte de alimentação da ponte é usada como referência para
o máximo valor de conversão do ADC. Com este arranjo o conversor se adapta as variações da
fonte produzindo uma medida menos sensível as variações da fonte.
Figura 7.5: Medida com ponte de Wheatstone e correção contra variações na tensão de alimentação.
Com relação ao amplifcador, normalmente utiliza-se o amplifcador de instrumentação
(Figura 7.6), seja ele com dois ou três amplifcadores operacionais. O amplifcador de
instrumentação apresenta elevada impedância de entrada, elevado CMRR e, de preferência, baixo
ruído, o?set e drif (alta estabilidade térmica).
Figura 7.6: Circuito classico de amplifcação para pontes de Wheatstone.
Apesar de todos estes cuidados se a ponte for não linear a saída do circuito será não linear.
Isto não afeta a exatidão da medida, mas difculta a leitura do sinal e as não linearidades devem ser
corrigidas de alguma outra forma. Para analisar este efeito podemos lançar mão de um exemplo
numérico. Considerando o circuito da Figura 7.6 alimentado com VB=10 V e com resistências de
R=100 O na ponte, então
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 87v
o real= Av·
V
B
4
·(1+??RR//R2 R) (7.18)
v
o ideal=Av·
V
B
4
·(?RR) (7.19)
Qando ?R=0,1% (0,1 O) a tensão de saída da ponte será vo=2,49875 mV e o erro
Erro= 2,500000- 2,49875
2,500000
=0,05% (7.20)
Qando ?R=1% (1,0 O) a tensão de saída da ponte será vo=24,87516 mV e o erro
Erro= 25,00000- 24,8756
25,00000
=0,5% (7.21)
Assim sendo se percebe que a ponte apresenta uma linearidade de ?R/2, independente do
sensor colocado nela ser ou não linear. Como visto em (7.10) a não linearidade pode ser alterada
modifcando-se a razão entre as resistências, mas neste caso a sensibilidade fca reduzida. O
problema da linearidade deve, então, ser resolvido de outra forma. Para linearizar esta ponte
podem ser utilizados alguns circuitos com amplifcadores operacionais, tomando cuidado para que
estes AO sejam escolhidos em função do seu alto ganho, baixo o?set, baixo ruído e alta
estabilidade térmica. Amplifcadores como os AD708, OP2177, OP213 e INA333 podem ser
utilizados para esta função. Nas Figuras 7.7, 7.8 e 7.9 são apresentadas algumas montagens que
linearizam a saída da ponte mesmo quando há apenas um elemento sensor.
Figura 7.7: Circuito de linearização de ponte de Wheatstone .
Observe que no circuito da Figura 7.7 a ponte foi empregada como os resistores de dois
amplifcadores sendo o segundo um somador não inversor com ganho tal que
V
o=
V
B
2
·
? R
R
·(1+ R R1 2) (7.22)
Os circuitos da Figura 7.8 também podem ser utilizados para linearizar pontes com um ou
dois elementos variando, conforme indicado, e alimentação em fonte de tensão. A desvantagem
destes circuitos é que as pontes precisam ser abertas, o que nem sempre é possível, pois algumas
vezes a ponte é comprada lacrada.
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 88Figura 7.8: Circuitos de linearização com abertura da ponte de Wheatstone.
Qando apenas um elemento varia (Figura 7.8 a esquerda)
V
o=-V B·(2?·R R) (7.23)
Qando há dois elementos variando (Figura 7.8 a direita)
V
o=-V B·(?RR) (7.24)
Figura 7.9: Circuito de linearização da ponte de Wheatstone com realimentação da saída.
v
o=Av·Vcc*
4
·(1+??RR//R2 R) (7.25)
e
Vcc*=Vcc –(-vo·R R5 6) (7.26)
logo
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 89v
o(1+ ?2 RR)= Av 4 ·(Vcc+ voR·R6 5)·(?RR) (7.27)
v
o+
v
o·? R
2 R
-
Av
4
·
? R
R
·
v
o·R5
R6
=
Av·Vcc
4
·
? R
R (7.28)
se
R
6=
Av·R
5
2
(7.29)
então
v
o=
Av·Vcc
4
·
? R
R (7.30)
7.2.2 Instrumentação para medidas remotas
Para medidas remotas, onde a ponte está distante do circuito de excitação e captação, é
possível empregar técnicas que compensam os erros introduzidos pelos longos fos. Os métodos
mais conhecidos são os de extensões de três fos para a interconexão de um único elemento que
varia ou de seis fos para interconectar toda a ponte.
O esquema da Figura 7.10 ilustra o problema. Neste exemplo o elemento sensor esta
distante 30 metros do resto da ponte e a interconexão é feita por fos AWG 30, de cobre, com um
total de RFIO=10,5 O @ 25 ? e TC=0,385%/?. A resistência dos fos tira a ponte do equilíbrio, o que
pode ser compensado com uma resistência RCOR=21 O, entretanto variações de temperatura levam
novamente a ponte ao desequilíbrio.
Figura 7.10: Medida em ponte de Wheatstone com elemento sensor distante.
Supondo VB=10 V, R=350 O, ?R=1% para o fundo de escala, e RFIO=10,904 O @ 35 ?, então a
saída da ponte varia na faixa de 0 até 23,45 mV para 25 ? e de 5,44 até 28,83 mV para 35 ?. Isto
signifca um erro de o?set de +23%FS (5,44/23,45) e um erro de linearidade de -0,26%FS ((28,83-
5,44)/23,45). A correção para este problema pode ser feita não com o resistor de correção ( RCOR)
mas com três fos que ligam a ponte ao sensor (Figura 7.11). Supondo as mesmas condições do
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 90problema anterior, então a saída da ponte varia na faixa de 0 até 24,15 mV para 25 ? e de 0 até
24,13 mV para a faixa de 35 ?.
Figura 7.11: Medida em ponte de Wheatstone com elemento sensor distante e compensação com três fos.
Observa-se agora, um erro de o?set nulo e um erro de sensibilidade de apenas 0,08%FS. Isto
ocorre pois a ponte fcou balanceada com a resistência dos fos que levam ao sensor e que variam
com a temperatura, mantendo a ponte permanentemente em equilíbrio.
Caso toda a ponte esteja distante pode se adotar o uso de seis fos para interconectá-la
(Figura 7.12). Neste caso o maior problema é manter a alimentação da ponte o mais constante
possível. A resistência dos fos, entretanto, varia com a temperatura, o que se traduz em variações
na tensão de alimentação da ponte.
Figura 7.12: Medida em ponte de Wheatstone realizada com 6 fos.
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 91O circuito apresentado na Figura 7.12 mostra como a alimentação sobre a ponte pode ser
mantida constante independente da impedância dos fos. Este sistema de medida com seis fos é,
algumas vezes, chamado de ponte de Kelvin. Apesar do efeito dos fos ter sido removido ainda é
importante manter a estabilidade da fonte de alimentação da ponte. A outra forma de evitar
problemas com os longos fos de interconexão é utilizar fonte de corrente para a alimentação da
ponte. Em qualquer um dos casos é importante atentar para a corrente de saída requerida dos
amplifcadores operacionais. Com alimentação de 10 V e resistências de 350 O a corrente na saída
dos operacionais é da ordem de 30 mA o que pode ser um problema.
7.2.3 Problemas com o?set
Outro problema que deve ser evitado é o do efeito termopar (diferença de tensão que surge
quando dois metais diferentes são unidos e mantidos em temperaturas diferentes) entre os fos que
conectam a ponte aos circuitos de captação de sinais. Em uma ponte onde a saída máxima é de
20 mV erros menores do que 20 µV no o?set são necessários para uma exatidão de 0,1%.
O efeito de termopar ocorre entre fos de diferentes materiais como a solda e o cobre
(aproximadamente 2 µV/?) ou Kovar (material utilizado em alguns terminais de circuitos
integrados) e o cobre (aproximadamente 35 µV/?) ou entre cobre e terminais de borneiras,
conectores, chaves… Este problema só pode ser evitado mantendo as conexões que formam os
termopares na mesma temperatura, o que signifca conexões próximas e sem barreiras entre elas.
Para minimizar problemas com o?set e drif (causados por efeito termopar ou introduzidos
pelo próprio amplifcador) a escolha dos amplifcadores pode ajudar. Os operacionais OP177 e
OP1177 apresentam baixo o?set, drif,, IB e ruído. Alternativamente podem ser empregados
integrados com arquitetura chopper estabilizadas como o ADA4528, o AD8629 ou o AD8630,
OPA335 e INA326. Também podem ser empregadas excitações alternadas com ondas quadradas ou
senoidais. No caso da excitação com onda quadrada (Figura 7.13) a polaridade da fonte VOS, que
representa o o?set do amplifcador e dos efeitos de termopar, não é afetado pela inversão da
polaridade da fonte, então a subtração das medias realizadas com a duas polaridades elimina esta
tensão de o?set. O tratamento matemático pode ser feito com amostradores analógicos e
subtratores ou digitalmente após a conversão de um AD.
V
A-V B=(V O+V OS)-(-V O+V OS)=2·V O (7.31)
onde VO é a tensão na saída da ponte.
Figura 7.13: Técnica de redução de o?set com inversão da polaridade da fonte de alimentação.
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 92A Figura 7.14 mostra uma forma prática de inverter a polaridade na tensão de alimentação
da ponte. Esta inversão de polaridade pode ser feita por uma ponte H (um DRV8832 por exemplo)
ou por circuitos especialmente desenvolvidos para este condicionamento como o AD7730.
Figura 7.14: Inversão de polaridade da fonte usando ponte H de transistores.
O AD7730 (Figura 7.15) é um circuito integrado específco para medidas em ponte de
Wheatstone e está preparado, entre outras coisas, para medidas com seis fos e apresenta
internamente circuitos digitais para compensação de o?set e conversão AD. Seu uso requer
programação feita por uma interface digital SPI. Exemplos de interligação do AD7730 são
apresentados na Figura .
Figura 7.15: Diagrama interno do circuito AD7730, usado para medias em ponte de Wheatstone.
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 93Figura 7.16: Exemplos de interligação do AD7730.
Outros integrados também podem ser utilizados para o condicionamento de sinais como o
PGA309 ou o XTR101. O PGA309, assim como o AD7730, apresenta vários recursos que podem ser
programados para que se obtenham os melhores resultados em cada aplicação. Internamente o
circuito está preparado para linearizar pontes com saída não linear, realizar compensação de
temperatura, detectar falhas e reduzir efeitos de o?set. Mesmo com todos estes recursos a saída do
integrado é analógica e em tensão (Figura 7.17). Já o XTR101 é um circuito clássico, que alimenta a
ponte com fonte de corrente e transmite os dados da medida também na forma de corrente (uma
técnica muito utilizada na indústria). A saída do XTR101 usa o padrão industrial de 4 a 20 mA
sendo que a corrente de o?set serve para determinar se a linha de transmissão está intacta ou
partida e serve para alimentar o circuito. No caso do XTR101 apenas dois fos são usados para
alimentar tanto o XTR101 quanto a ponte e para transmitir informações a longa distância sobre a
media. Um outro circuito nestes mesmos moldes é o XTR110 que pode funcionar nos padrões de 0
a 20 mA, de 4 a 20 mA, de 5 a 25 mA, mas usa dois fos para transmissão de dados mais os fos de
alimentação (necessárias para o padrão de 0 a 20 mA). Uma aplicação típica do XTR101 é
mostrada na Figura 7.18.
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 94Figura 7.17: Diagrama em blocos e conexões típicas do PGA309.
Figura 7.18: Conexões típicas do integrado XTR101.
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 958 Interferência, blindagem e aterramento
Neste capítulo são apresentados, modelos de acoplamentos capacitivos e indutivos para a
propagação de perturbações e interferências, e técnicas de guarda, blindagem aterramento e
isolação para evitar esta propagação. Este capítulo tem como base os livros Op Amp Applications
Handbook (capítulo Hardware and Housekeeping Techniques, de Walt Jung), Op Amp for
Everyone (capítulo Circuit Board Layout Techniques, de Mancini Ron), o clássico Noise Reduction
Techniques in Electronic Systems de Henry W. Ot, e as transparências Interferências de Carlos
Reis.
8.1 Formas de propagação
Circuitos eletrônicos são susceptíveis a ruído de três formas principais: o ruído pode ser
recebido com o sinal que se deseja tratar, o ruído pode ser gerado internamente no circuito ou ele
se deve a uma interferência externa, devido a fatos naturais como raios ou a fontes artifciais
como circuitos chaveados, motores, fontes de potência entre outros. Para a análise completa do
problema é necessário o uso das leis de Maxwell, porém é possível simplifcar a análise do
problema em muitos casos empregando componentes R, L e C para modelar a forma como a
interferência se propaga. Esta aproximação é válida se considerarmos que todo o campo elétrico
está dentro dos capacitores, os campos magnéticos estão concentrados nos indutores e as
dimensões do circuito são muito menores que as dos comprimentos de onda em análise.
Com esta aproximação é possível determinar as formas de propagação para os ruídos e
interferências. Elas podem, então, ocorrer por acoplamento resistivo, indutivo ou capacitivo. O
acoplamento resistivo ocorre quando circuitos ruidosos e não ruidosos estão interconectados por
resistências comuns aos dois circuitos. Na verdade este não é um problema meramente resistivo,
pois as interconexões comuns aos dois circuitos são, na verdade, uma impedância complexa. O
acoplamento capacitivo ocorre sempre que existirem dois condutores com campo elétrico entre
eles ao passo que o acoplamento indutivo existe sempre que indutâncias mútuas e espiras
estiverem presentes nos circuitos. Esta análise nem sempre resulta em valores numéricos
confáveis, mas a compreensão dos fenômenos envolvidos pode ser mais facilmente alcançada, ou
seja, apresenta bons resultados qualitativos e as técnicas de análise de circuitos podem ser
utilizadas livremente.
Alguns exemplos ajudam a entender melhor o que está acontecendo em cada caso.
Supondo um fo terra (retorno de corrente) comum para as fontes, condicionadores de sinal e
circuitos digitais conforme mostrado na Figura 8.1. Esta é uma situação comum, porém não ideal,
pois devido a impedância de fos e trilhas nem todos os pontos de terra (ou de alimentação)
apresentam o mesmo potencial. Isto ocorre porque circula, pelo retorno, não apenas a corrente do
sensor e do condicionador de sinais, mas também a corrente de outros sistemas (fontes, circuitos
chaveados, sistemas digitais, motores entre outros). Estas correntes podem ser elevadas e de alta
frequência o que signifca que fos e trilhas, modelados como resistores e indutores, apresentam,
na prática, potenciais diferentes em diferentes pontos do circuito. Assim, o ruído pode se propagar
para o circuito de captação e condicionamento de sinais onde a informação apresenta amplitude
muitas vezes menor do que a do ruído gerado. De um modo geral este ruído pode ser diminuído
reduzindo a impedância das trilhas de terra e alimentação e usando terras distintos para circuitos
de sinal e circuitos ruidosos.
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 96Figura 8.1: Forma de propagação de ruído por acoplamento resistivo. As correntes que circulam pelos fos de alimentação
produzem queda de tensão nas impedâncias dos fos.
O acoplamento entre os cabos também pode ocorrer por meio de indutâncias mútuas
parasitas como mostrado na Figura 8.2. A corrente que circula da fonte V1 para a carga R3 passa
por um fo que apresenta acoplamento indutivo com um fo próximo. Neste outro fo surge uma
diferença de potencial proporcional a M·di/dt. Isto ocorre principalmente quando circulam
correntes elevadas por cabos próximos, como em transformadores, motores, ventiladores e outros.
Este também é um efeito que pode surgir em circuitos digitais uma vez que a derivada da corrente
necessária para os chaveamentos rápidos pode ser expressiva. De um modo geral os efeitos deste
acoplamento podem ser reduzidos com a separação dos fos e diminuição dos seus comprimentos,
o que reduz a indutância mútua M, e aumento da impedância da fonte e da carga, o que reduz a
corrente e, portanto, a tensão induzida no outro condutor.
Figura 8.2: Forma de propagação de ruído por indutância mútua entre fos próximos. Uma corrente entre V1 e R3 induz
ruído em um fo que interliga R1 e R2. Lfo1, Lfo2 e M são indutâncias parasitas.
O acoplamento magnético também pode estar presente se grandes espiras se formarem no
circuito. Isto aumenta a área de captação e requer campos magnéticos menores para o mesmo
nível de ruído. Algumas vezes estes laços são formados por longos fos ou trilhas, mas alguns laços
são formados por arranjos como os mostrados na Figura 8.3, onde um condutor conduz o sinal e o
outro, normalmente oculto, costuma ser o fo terra. Variações de campo atravessando essas espiras
produzem tensões de ruído em série com os laços. Minimizar esses laços, tranças estes fos, afastar
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 97os laços das fontes de ruído e orientar os cabos de forma apropriada são formas de minimizar os
efeitos deste tipo de acoplamento magnético.
Figura 8.3: Forma de propagação de ruído por formação de laços (espiras) que envolvem variações de campo magnético. As
setas pequenas indicam a corrente de sinal, a área hachurada marca o laço e as setas em zigue-zague representam o
campo que atravessa a espira.
Finalmente o acoplamento também se dá por efeito capacitivo quando dois fos estiverem
separados entre si, mas com um campo elétrico entre eles (Figura 8.4). Este acoplamento parasita
(C1 e C2) pode formar um divisor de tensão propagando ruídos. O uso de malhas aterradas
(blindagem) pode evitar este divisor de tensão mas se a malha não envolver completamente o cabo
o divisor capacitivo continuará existindo. Acoplamentos capacitivos ocorrem principalmente em
sistemas de alta impedância, logo, a redução da impedância do sistema (R na Figura 8.4) reduz a
propagação de interferência por acoplamento capacitivo (tensão de ruído sobre R). Por outro lado
fos e peças metálicas não aterradas podem se tornar uma entrada para este tipo de interferência.
Este acoplamento pode ser reduzido com a diminuição do comprimento de fos e trilhas, uso de
trilha central aterrada em 1 lado (ou 2 lados se a frequência for elevada) e redução da impedância
de carga.
Figura 8.4: Forma de propagação de ruído por acoplamento capacitivo. Uma fonte V1 produz ruído sobre uma carga R em
um fo distante e não interconectado. C1 e C2 correspondem as capacitâncias parasitas do circuito.
Nas próximas seções serão apresentadas as formas mais comuns para minimizar estes
problemas com aterramento, cabeamento e blindagem. Apesar de não estar explícito, sempre que
se analisam acoplamentos capacitivos, indutivos e laços de terra é importante levar em conta as
impedâncias da fonte de sinal e cabos. Costuma-se utilizar resistências concentradas para os
cabos, junto as fontes, e uma resistência muito menor para malhas em acoplamentos indutivos.
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 988.2 Aterramento
A impedância dos fos utilizados para a distribuição de alimentações e terras provoca
quedas de tensões que podem ser signifcativas. Para se entender os efeitos causados por
diferentes aterramentos e a ordem de grandeza do problema um exemplo numérico é útil. Uma
trilha de circuito impresso de cobre, por exemplo, com resistividade ?=1,72 µOcm e espessura de
0,00315 cm, apresenta uma resistência de 0,49 mO para cada 1 mm de largura e 1 mm de
comprimento. Esta resistividade, aparentemente pequena, pode in?uenciar em medidas cuja
exatidão é alta. Uma trilha de circuito impresso com 5 cm de comprimento e 0,3 mm de largura
apresenta resistência de 0,082 O. Se ela for ligada em série com um resistor de 5 kO as duas
resistências formam um divisor de tensão de aproximadamente 0,082/5.000. Este erro, de
aproximadamente 0,00116%, é da ordem de grandeza do erro de quantização de um conversor AD
de 16 bits. Para evitar este problema da queda de tensão pode se utilizar uma estratégia
semelhante a utilizada nas pontes de Wheatstone (Figura 7.12) com fos sense e realimentação da
tensão. Esta estratégia, entretanto, só funciona para uma carga. Ademais este problema da
resistência não leva em conta a resistência entre os diferentes pontos de terra nem da corrente que
?ui por ele.
Um outro exemplo do livro Op Amp Applications Handbook é mostrado na Figura 8.5.
Nela um amplifcador chopper estabilizado (AD8551) com tensão de o?set da ordem de 1 µV
amplifca um sinal V1, e a saída é medida entre vo e G2. A corrente de polarização do amplifcador,
ao passar pela resistência de terra (RGND), produz um erro de o?set maior que o do amplifcador. Se
este mesmo segmento de trilha entre G1 e G2 for percorrido por outras correntes o erro será ainda
maior. Uma mudança de layout na placa conectando R2 diretamente a G2 poderia resolver o
problema. Uma alternativa seria modifcar a confguração do amplifcador de não inversor para
subtrator. Desta forma as diferenças de tensões entre G1 e G2 seriam atenuadas como tensões de
modo comum. Mais uma vez, está é uma solução pontual que só resolve o problema deste
amplifcador. Assim, uma solução geral para minimizar os problemas referentes as impedâncias
entre diferentes pontos de terra costuma ser implementada separando os fos terras dos circuitos
ruidosos e não ruidosos. Normalmente esta solução é relatada apenas para o fo terra, pois é nele
que se concentram as correntes e estes problemas, mas o mesmo ocorre com as alimentações.
Figura 8.5: Problemas de aterramentos em circuitos de precisão. O erro causado por Rgnd e a corrente de polarização do
AD8551 é maior que a tensão de o?set do integrado.
Existem basicamente três tipos diferentes de aterramento (Figura 8.6): um aterramento
série, um aterramento em estrela, feito em um único ponto, ou um aterramento com plano de
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 99terra. No caso do aterramento em série uma única trilha é usada para coletar as correntes de terra
de todo o circuito. Assim os ruídos gerados por circuitos digitais, fontes de potência, chaveamento
e outros se propagam para os demais circuitos. Este caso deve ser evitado. Na ligação em estrela os
ruídos gerados não são propagados para os demais circuitos. No caso do plano de terra, uma
forma mista entre as anteriores, se consegue uma redução das impedâncias que é aconselhada
para circuitos com frequências acima de 10 MHz.
Em circuitos mistos, com secções ruidosas, digitais e analógicos é possível manter os
pontos de terra separados e interconectá-los em um único ponto ou suprir diferentes caminhos
para a interconexão fnal diretamente na fonte de alimentação. Isto evita que a corrente dos
circuitos ruidosos interfram nos circuitos de pequenos sinais ou analógicos.
Figura 8.6: Tipos de aterramento. De cima para baixo: em série, em estrela e com plano de terra.
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 100Atenção especial, porém, deve ser dada para circuitos integrados que apresentam dois
terras, um analógico e outro digital. Isso é comum em conversores AD e DA pois internamente
eles possuem ambos os circuitos. De forma aparentemente estranha a recomendação dos
fabricantes é que os dois pinos sejam ligados juntos, o mais próximo possível do encapsulamento.
No caso dos AD os fabricantes recomendam que estes pinos sejam ligados ao terra analógico da
placa. A imunidade a ruído do sinal analógico só é contaminado pelas correntes digitais do AD
quer circulam por fora do AD e retornam pelo terra analógico. Neste caso é importante reduzir as
correntes digitais na saída do conversor ligando-o a circuitos de baixo consumo como
registradores CMOS, por exemplo. Para melhorar ainda mais o desempenho é possível isolar a
alimentação do restante do circuito com um pequeno resistor em série com a fonte e um capacitor
de 100 nF em paralelo com o AD (Figura 8.7). Neste arranjo as correntes digitais fcam confnadas
e supridas pelo capacitor (que deve fcar muito próximo da alimentação do integrado).
Figura 8.7: Terra em sistemas mistos como em conversores AD.
Os planos de terra são alternativas muito usadas em placas de circuito impresso. Se bem
utilizados eles minimizam a impedância de retorno (quando a área do plano de terra é elevada e
não existem estrangulamentos) e área de laços que captam interferência por acoplamento indutivo
(Figura 8.8). Assim, boas práticas recomendam que se evite a concentração de conexões cortando
um plano terra, que se mantenha pelo menos 75% de área para o plano. De um modo geral o uso
do plano de terra é vantajoso e, em placas multicamadas, planos para as demais alimentações
também são recomendados (é da alimentação que saem todas as correntes que retornam pelo
terra). Adicionalmente podem ser implementados diferentes planos de terra atendendo a sinais
ruidosos e não ruidosos que depois devem ser interligados como numa ligação estrela.
Isso também pode ser feito entre placas que se unem a um barramento comum ou que
formam painéis ou gabinetes. A Figura 8.9 mostra dois destes casos. No exemplo correto o retorno
usado pelos circuitos está diretamente conectado ao terra principal enquanto que no outro o terra
é conectado ao gabinete, um dos lugares mais ruidosos que se pode encontrar num equipamento.
Adicionalmente a todos os problemas mencionados, em frequências muito altas o efeito
skin domina a condução (a condução ocorre na superfície). Uma aproximação para o cobre é que a
profundidade do efeito skin é de 6,61/vf cm. A resistência skin é de 0,26·vf µO para cada 1 mm de
largura e 1 mm de comprimento da trilha (esta fórmula não é válida se a profundidade for maior
que a espessura da trilha). O efeito skin, então, passa a ser importante quando a profundidade for
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 101menor que 50% da espessura do condutor. Em trilhas de circuito impresso isto deve começar a
fazer diferença em 12 MHz. Em altas frequências (VHF ou mais) também é necessário considerar
que as trilhas podem se comportar como linhas de transmissão. Nestes casos até o material da
placa deve ser escolhido.
Figura 8.8: Efeitos do plano de terra sobre a redução de área em laços.
Figura 8.9: Interligação de terras em painéis e gabinetes.
8.2.1 Laços de terra
Laços de terra são um problema comum entre circuitos distintos separados por uma
distância grande e alimentados pela rede ou em circuitos analógicos com baixa tensão de entrada.
Ao se interconectar terras que estão em potenciais distintos se formam os chamados laços de
terra, ou seja, um laço por onde circulam correntes de ruído e interferência (Figura 8.10). Qanto
menor for a razão entre o sinal e o ruído mais importante será quebrar estes laços. Isto pode ser
feito com o correto aterramento dos cabos, usando amplifcadores isoladores, choques de modo
comum (choque ou balun – Figura 8.11), anéis de ferrite nos cabos (ferrite beads – Figura 8.12),
caixas blindadas e ?utuantes e circuitos balanceados (equilibrando as correntes de modo comum –
Figura 8.13). Se o acoplamento dos dois circuitos for feito de forma diferencial é possível usar par
trançado e cabos blindados.
Instrumentação e Técnicas de Medida – UFRJ, 2015/2
Sinal
Terra
Área
Plano de
Terra
Sinal Sinal
Plano de
Terra
Área
Terra eletrônico
Rack 1 Painel Painel Rack 2
Terra da rede
Correto Errado
102Observa-se que a isolação com transformador impede a transmissão de sinais de corrente
contínua, apresentam resposta limitada em frequência, são grandes e caros. Se múltiplos sinais são
conectados seria necessário múltiplos transformadores. Se o acoplamento capacitivo entre
primário e secundário for elevado a redução da interferência pode não ser tão elevada. Nestes
casos transformadores com enrolamentos blindados podem ser empregados (reduzem o
acoplamento capacitivo). O uso do choque de modo comum, por outro lado, permite a
interconexão de vários sinais, não bloqueia a corrente contínua e não afeta os sinais de modo
diferencial.
Figura 8.10: Laços de terra e formas de quebrá-lo. Com transformador isolador, isolação óptica e choque de modo comum.
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 103Figura 8.11: Choque de modo comum.
Figura 8.12: Anéis de ferrite.
Figura 8.13: Acoplamento entre circuitos com entrada e saída balanceadas.
O uso de acopladores óticos permite a isolação completa mesmo com tensões diferenciais
elevadas entre os terras, mas seu uso apresenta melhor resultado quando o sinal é transmitido
digitalmente uma vez que sua linearidade não é boa. Circuitos balanceados também são uma
alternativa viável uma vez que as correntes de modo comum podem produzir tensões facilmente
eliminadas por amplifcadores diferenciais.
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 1048.3 Cabeamento
8.3.1 Acoplamento capacitivo
Nesta seção são apresentadas algumas formas de reduzir a propagação de interferências e
propagações de ruído lembrando sempre que as considerações feitas aqui devem ser utilizadas
com cautela e conscientemente. Mesmo que algumas considerações aqui apresentadas sejam
regras gerais elas não devem ser utilizadas aleatoriamente. Os conceitos apresentados são mais
importantes que as regras e cada caso deve ser analisado antes que se decida por uma ou outra
estratégia, pois em alguns casos especiais a aplicação das regras gerais pode não ter efeito ou pode
piorar os problemas existentes.
Qando o acoplamento é capacitivo a blindagem, então, é obtida envolvendo um ou mais
condutores de forma a impedir que a interferência penetre neste condutor. A Figura 8.14 mostra
isto com um cabo coaxial.
Figura 8.14: Uso de cabo coaxial para redução de interferência por acoplamento capacitivo.
Observe, nesse exemplo, que a malha do cabo coaxial não está aterrada (chave aberta) e o
ruído propagado pela fonte V1 sobre uma carga R1 é resultado do divisor de tensão entre os
capacitores C1, C3 e C2 (de alguns pF até centenas de pF) e a própria carga. Por outro lado se a
malha for aterrada (chave fechada) este divisor é quebrado evitando que a fonte V1 contamine a
carga R1. É claro que para que isso aconteça é necessário que a blindagem envolva todo o cabo o
que nem sempre acontece nas extremidades. Além do mais o divisor de tensão depende de
resistores (fonte e fos) e capacitores o que resulta em uma resposta em frequência não plana, do
tipo passa altas para o ruído, cujo valor máximo ocorre para valores de resistência muito maiores
que as reatâncias capacitivas do divisor.
De um modo geral, reduzir o comprimento dos fos e cabos, usar malhas aterradas de um
só lado (dos 2 lados em casos de alta frequência), reduzir o valor das cargas e os pontos metálicos
não aterrados reduz os efeitos de acoplamento capacitivo.
8.3.2 Acoplamento indutivo
Todo o fo é uma indutância e em altas frequências a reatância indutiva destes fos pode ser
não desprezível. As fórmulas apresentadas em 8.1 e 8.2 servem apenas para fos cilíndricos e
trilhas retangulares de circuito impresso, mas dão uma boa ideia dos valores envolvidos. Assim,
1 cm de fo com diâmetro de 0,5 mm, em 10 MHz pode ter uma impedância de 0,46 O (7,26 nH).
Trilhas de circuito impresso com 1 cm de comprimento, 0,25 mm de largura e 0,038 mm de
espessura tem resistência de 19 mO/cm e indutância de 9,59 nH/cm o que resulta em reatâncias
indutivas da ordem de 2 O para uma frequência de 150 MHz. Estas impedâncias se somam as
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 105resistências das trilhas criando uma impedância elevada em altas frequências que pode estragar
um aterramento.
L
WIRE=0,00012·l·ln(2· rl)·0,75[µ H ] (8.1)
onde l é o comprimento do fo (mm) e r o seu raio (mm).
L
TRILHA=0,00012·l·[ln w2+·lh +0,22315·(w+ l h)+0,5][µ H ] (8.2)
onde l é o comprimento, w é a largura e h é a espessura da trilha.
Laços e indutâncias mútuas (Figura 8.15) também são formas importantes pelas quais o
ruído se propaga ou pode ser evitado.
Figura 8.15: Formas de aterramento de malha em cabos coaxiais. As duas fguras de cima apresentam laços grandes
enquanto que as duas de baixo laços pequeno.
As áreas de laço formadas por estas trilhas podem favorecer o surgimento de tensões de
ruído induzidas nos condutores por campos magnéticos externos que as atravessam. Este
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 106mecanismo pode ser entendido se considerarmos que por laços maiores passam mais linhas de
campo o que leva a uma tensão de ruído induzido maior. Minimizar os laços minimiza o
acoplamento entre os sistemas. Muitas vezes isto signifca alterar o layout de circuitos impressos
cabos, gabinetes, posicionamento dos componentes entre outros.
Uma forma de reduzir estes laços também pode ser obtida por meio de cabos coaxiais
(Figura 8.15). No primeiro caso (A), sem o cabo coaxial, um grande laço se forma captando
interferência. Em (B), com a malha aterrada de um só lado, a corrente ?ui pelo caminho original
mantendo um grande área de laço. No caso (C) a corrente de retorno ?uiu pela malha reduzindo a
área de laço. Por outro lado, se no caso (C) a corrente ?uir parte pela malha parte pelo caminho
original os efeitos da malha serão reduzidos. Observe que os efeitos obtidos não se devem a
blindagem magnética mas a redução dos laços que captam interferências externas e é frequência
dependente.
Para o caso de irradiação, os circuitos (C) (D) também são os que menos geram ruído.
Nestes casos o que ocorre é que a malha é percorrida por uma corrente em intensidade
semelhante à do condutor interno (mas com direção oposta). O acoplamento magnético entre os
dois condutores faz com que a corrente ?ua pela malha e não pelo terra. Desta forma as correntes
em sentidos opostos geram campos que se anulam e o cabo coaxial se comporta como um choque
de RF, mas se houver um desequilíbrio entre as correntes este efeito fca reduzido e o circuito
passa a gerar mais ruído. O equilíbrio entre as correntes, no caso B, ocorre em frequências acima
da frequência de corte da malha. Para baixas frequências os efeitos são limitados pois parte da
corrente circula pelo terra e não pela malha. Assim, para baixas frequências é melhor aterrar
apenas um lado da malha.
Nos casos em que a carga não é aterrada (D) o aterramento de um só lado da malha produz
resultados excelentes (a corrente do cabo central e da malha é a mesma) tanto no que diz respeito
a captação de ruído quando na geração dele ao passo que o aterramento em ambos os lados pode
produzir a circulação de corrente pela malha induzindo tensão de ruído no amplifcador.
Figura 8.16: Aterramento de malha em dois pontos gerando uma corrente por ela e uma tensão de ruído para o
amplifcador.
A seguir são apresentados os resultados de testes feitos com diversas confgurações de
cabos coaxiais e cabos trançados com relação ao ruído ou atenuado em cada uma. Um sinal de
50 kHz e 0,6 A foi aplicado a uma bobina de 10 espiras com 23 cm de diâmetro. Foram avaliados 12
cabos, cada um formando 3 espiras de 17,8 cm de diâmetro, colocados envoltos no campo
magnético da primeira espira. O ruído foi medido sobre o resistor de 1 MO. O resistor de 100 O
representa a fonte. Apesar dos ensaios enfatizarem a interferência por acoplamento magnético,
campos elétricos também estavam presentes. Por esta razão estes resultados não podem ser
generalizados indistintamente mas mostram tendências.
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 107Figura 8.17: Efeitos de blindagem e aterramento em cabos.
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 108Normalmente a blindagem está associada ao uso de cabos coaxiais com malha externa (até
100 MHz), mas este não é um requisito fundamental nem garante a efciência. Por exemplo, se os
cabos coaxiais não forem terminados com uma conexão de 360° para evitar acoplamentos
capacitivos onde a malha não protege o condutor interno o efeito da blindagem fca reduzido. Da
mesma forma, pares trançados (até 100 kHz) podem ser utilizados com bom resultado caso as
voltas sejam menores do que 1/20 da distância até a fonte de interferência ou menores do que 1/8
da frequência máxima do sinal que está sendo transmitido. Cabos ?at também podem ser
utilizados para transmissão de dados até 150 MHz. Acima disto o cross-talk pode produzir, por
efeito capacitivo, interferência nos cabos laterais. Nesses casos o uso de terras intercalados
(terra-sinal-terra-sinal ou terra-sinal-sinal-terra) pode ajudar a melhorar a qualidade do sinal.
Alguns cabos ?at também apresentam uma malha abaixo ou em tono dos fos, mas para máximo
efeito toda esta malha deve ser ligada a uma conexão plana de terra. A Figura 8.18 mostra
exemplos de cabo coaxial e seus conectores, cabo ?at, e pares trançados com blindagem.
Figura 8.18: Cabos coaxiais e seus conectores macho e fêmea, cabos ?at e pares trançados com blindagem.
De um modo geral devemos reduzir os laços e separar cabos em grupos de fos: 1) fos de
alimentação CA, retorno CA, aterramento de chassi; 2) fos de alimentação CC, retorno CC, e
referência; 3) sinais digitais e retornos; 4) sinais analógicos e retornos. Para reduzir radiação
manter pequenas as áreas, usar frequência mais baixa possível, tempos de chaveamento não
menor do que o necessário e baixas correntes. Manter os cabos de sinais longe de aberturas, cabos
CA e CC, transformadores, motores, solenoides. Par trançados funcionam bem até 100 kHz, cabos
coaxiais até 100 MHz e gias de onda para frequências acima de 1 GHz. Também podemos
considerar que cabos longos se transformam em linhas de transmissão.
Em altas frequências (quando o comprimento dos cabos é maior do que 1/20 do
comprimento de onda que por eles passam) aterrar a malha em apenas um lado (como tem sido
recomendado) as capacitâncias parasitas podem fechar um laço de terra. Nestes casos pode ser
melhor aterrar dos dois lados da malha para reduzir a diferença de potencial entre estes pontos.
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 1098.3.3 Ruídos em circuitos de alta frequência
Em circuitos de alta frequência as impedâncias das trilhas, principalmente devido as
reatâncias indutivas e capacitivas, criam efeitos indesejados em diferentes partes do circuito. O
principal efeito indutivo ocorre nas linhas de alimentação enquanto que os efeitos capacitivos
fazem o acoplamento entre linhas. A indutância das linhas de alimentação causam problemas
semelhantes aos do aterramento e se propagam pela variação da alimentação de cada circuito
(Figura 8.19). A solução para este problema passa pelo uso de capacitores de desacoplamento que
suprem localmente as correntes necessárias a cada integrado e adição de resistores de baixo valor
que reduzem a seletividade do circuito LC (Figura 8.20). A redução da seletividade também pode
ser usada localmente para evitar rings em saídas digitais (Figura 8.19).
Figura 8.19: Propagação de ruído em sistemas chaveados.
Os chaveamentos rápidos que demandam correntes elevadas propagam variações na
tensão de alimentação (queda de tensão sobre XL) para o restante do circuito. Os capacitores de
desacoplamentos que minimizam este efeito só funcionam se estiverem realmente perto da
alimentação dos integrados (Figura 8.20).
Figura 8.20: Propagação de ruído pela fonte de alimentação em circuitos chaveados.
Amplifcadores operacionais têm uma capacidade limitada de fltrar variações de tensões
nas alimentações. Este parâmetro é conhecido como PSRR (power supply ratio rejection) e é função
Instrumentação e Técnicas de Medida – UFRJ, 2015/2
c
c
Desacoplamento ruim Desacoplamento bom
110da frequência. Em corrente contínua este valor é bastante elevado, da ordem de 120 dB, mas ele
decresce rapidamente com a frequência podendo até se tornar negativo, ou seja, as variações
rápidas na tensão de alimentação passam a ser amplifcadas. Em alguns casos extremos o AO pode
oscilar. Normalmente são recomendados dois capacitores de desacoplamento. Um capacitor
eletrolítico ou de tântalo de uns 10 µF que apresenta impedância muito baixa nas baixas
frequências e um capacitor cerâmico da ordem de 100 nF que funciona melhor em altas
frequências. O capacitor eletrolítico normalmente é colocado próximo da fonte e o capacitor
cerâmico próximo do integrado.
8.4 Gabinetes
A última opção para para reduzir interferências é a blindagem de gabinetes, caixas e salas.
Blindagens deste tipo são caras e devem ser evitadas com planejamento dos circuitos
antecipadamente. Isolar circuitos de potência, transformadores, afastar cabos, reduzir laços e todas
as dicas anteriores devem ser aplicadas antes. Para evitar interferências por acoplamento
capacitivo manter o circuito longe de alta-tensão e cargas elevadas. Para evitar interferências por
acoplamento indutivo manter o circuito longe de alta corrente e evitar cargas baixas. Procure fazer
um bom projeto para ter uma solução de baixo custo e minimizar os problemas de interferência.
A blindagem de objetos e lugares ocorre por absorção e perdas ou por re?exão. Qando
uma onda eletromagnética atravessa um meio a amplitude dela decai exponencialmente. A
profundidade para que a amplitude caia a 63% do valor inicial é chamada de skin depth e é
dependente da frequência, do material e de seu coefciente de atenuação. Bons materiais são
mumetal e aço, mas alumínio e cobre também oferecem proteção, porém em menor intensidade.
Para que exista re?exão, por outro lado, é necessário uma diferença de impedância entre os meios.
Para campos elétricos a re?exão ocorre na primeira superfície enquanto que os campos
magnéticos são re?etidos na segunda superfície. Isto requer materiais mais grossos para atenuar
campos magnéticos.
As Figuras 8.21 e 8.22 mostram formas de obter esta blindagem em caixas e gabinetes.
Observa-se que a blindagem sempre tenta vedar todas as frestas com partes metálicas ou guias de
onda, evitando que a interferência entre ou saia do gabinete.
Figura 8.21: Tampas, emendas e furos em caixas blindadas.
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 111Figura 8.22: Cantos e aberturas em caixas blindadas.
Recursos como caixas metálicas, caixas plásticas com carga condutiva, encaixes
condutores, tampas de ventilação, vidros e LCD condutivos devem ser empregados sempre que
necessários, impedindo que campos elétricos entrem ou saiam da caixa. O tamanho das aberturas
também deve ser avaliado para que impeçam a onda de entrar na caixa (dimensões das aberturas
proporcionais aos comprimentos de onda, servindo como um guia de onda). Conexão dos cabos e
fltros de linha também devem ser avaliados.
8.5 Peças
Para comprar capacitores e fltros htp://www.avxcorp.com e htp://www.syfer.com. Para
comprar ferrites em htp://www.ferroexcube.com.
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 1129 Transdutores reativos
Assim como os resistores, capacitores e indutores também podem ser utilizados como
sensores ou transdutores. Por serem ativos requerem uma fonte de excitação externa,
normalmente uma fonte de corrente alternada. O sinal de saída também costuma ser um sinal
alternado e os circuitos de condicionamento de sinal normalmente requerem alguma forma de
demodulação. Como a excitação é alternada a faixa de frequência dos sinais de interesse fca
limitada a uns 10% da frequência de excitação.
9.1 Transdutores capacitivos
Os transdutores capacitivos são formados por elementos condutores separados por um
dielétrico. Nos casos mais simples estes condutores são placas paralelas cuja capacitância depende
tanto das características geométricas dos condutores quanto das propriedades elétricas do
isolante(9.1).
C
d=e0·eR·
Ad
(9.1)
onde e0=8,85·10-12 é a permissividade do ar, eR é a permissividade relativa do material, A é área
das placas e d é a distância entre as placas.
Sendo assim, qualquer arranjo que modifque A, d, ou eR pode ser transformado em um
transdutor capacitivo. Um número expressivo de arranjos pode ser utilizado na construção de
transdutores capacitivos. Alguns exemplos podem ser vistos na Figura 9.1.
Figura 9.1: Alguns arranjos possíveis para transdutores capacitivos. As variações de área são produzidas pelo deslocamento
relativo entre as placas.
Um dos primeiros transdutores capacitivos foi um microfone, cuja base de funcionamento
é a variação da distância d. A variação de características de dielétricos também é muito comum e
bastante empregada em medidores de umidade, por exemplo, pois a permissividade relativa do ar
é de aproximadamente 1 enquanto que para a água a permissividade relativa pode variar de 88 (a
0 ?) até 55,33 (a 100 ?). Como visto, não apenas mudanças de materiais alteram a permissividade
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 113relativa dos materiais, a temperatura também altera a permissividade dos materiais, e para os
ferroelétricos está alteração é proporcional ao recíproco da temperatura (9.2)
e=
k
T -T
C
(9.2)
onde k é uma constante, T é a temperatura e TC é a temperatura Curie.
Sensores capacitivos sofrem com diversos problemas. O dielétrico pode apresentar
variação de condutividade com a temperatura ou umidade, alterando a impedância do capacitor
mesmo sem alterações de capacitância. Este problema só pode ser contornado com a escolha
apropriada do dielétrico para a aplicação desejada. Ainda do ponto de vista construtivo, os efeitos
de borda produzem dispersão do campo elétrico. Esta dispersão frequentemente é compensada
com um anel de guarda ligado a um potencial fxo que mantém o campo confnado. Interferências
por acoplamento capacitivo também são um problema, mas podem ser reduzidas utilizando-se as
técnicas estudadas anteriormente. Cabos longos adicionam capacitâncias parasitas reduzindo a
sensibilidade e faixa de frequência do sensor. A variação no posicionamento dos cabos produz
variação de capacitância que pode ser confundida com a uma variação no mensurando.
A frequência de excitação do sensor também é importante. Normalmente as capacitâncias
estão na faixa de 1 a 500 pF de tal forma que em baixas frequências a impedância é muito elevada
e em altas frequências as capacitâncias parasitas ajudam a reduzir signifcativamente a
impedância do sensor. Frequências de excitação da ordem de 10 kHz são as mais comuns, mas,
dependendo do caso, é possível a excitação com frequências tão altas quanto 10 ou 100 MHz..
Apesar destes problemas os sensores capacitivos podem apresentar muitas vantagens
sobre os resistivos. Os efeitos de drif com o tempo e temperatura (se o dielétrico for o ar) são
bastante reduzidos o que os torna muito estáveis e reprodutíveis. Mesmo se o dielétrico sofrer
alterações com a temperatura elas costumam ser muito menores do que nos condutores. Para
sensores de deslocamento não há atrito entre peças. Estes transdutores também não apresentam
contato mecânico nem histerese. Como medidas de elevada resolução são possíveis (medidas de
deslocamento da ordem de 10-12 m) muitos destes transdutores têm sido fabricados em circuitos
integrados como, por exemplo, os acelerômetros e sensores de pressão usados em celulares e
dispositivos sensíveis ao toque.
Além das aplicações como medidores de umidade também são muito comuns os sensores
de proximidade e deslocamento (para faixas menores que 1 mm a resolução pode ser
subnanométrica), sensores de pressão (em conjunto com diafragmas), como nos microfones, ou
sensores de ou força (em conjunto com elementos elásticos). Aplicações menos comuns empregam
variações no dielétrico para medidas de espessura, nível, produtos químicos, ou temperatura.
9.1.1 Variações dimensionais
Normalmente as variações dimensionais dos sensores capacitivos estão restritas as
variações de área ou de distância ente as placas. Estas variações podem tornar o sensor linear ou
não dependendo de como se faz a medida (impedância ou admitância). A avaliação rápida destas
eventuais não linearidades e da sensibilidade obtida com cada arranjo é interessante para a
otimização do desempenho de cada transdutor e pode ser feita expandindo a função de
sensibilidade por séries de Taylor. Supondo, por exemplo, um sensor de espessura capacitivo, com
gap variável entre suas placas e o elemento dielétrico conforme apresentado na Figura 9.2.
Observa-se neste arranjo que existem dois capacitores conectados em série, um com dielétrico fxo
(ld) e outro com gap variável (lg)
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 114Figura 9.2: Transdutor capacitivo de gap variável.
A capacitância do gap é dada por
C
g=
A·e
0
l
g
(9.3)
e a capacitância do dielétrico pode ser escrita como
C
d=A·
e
R·e0
l
d
(9.4)
Uma vez que as duas capacitâncias estão em série a capacitância equivalente é calculada
como
C = 1
1 C
d
+
1 C
g
(9.5)
C =
A·e
R·e0
l
d
·
A·e
0
l
g
A·e
R·e0
l
d
+
A·e
0
l
g
(9.6)
C =
A2·eR·e0 2
l
d·lg
A·e
0·(eR·lg+ld)
l
d·lg
(9.7)
C =
A·e
0
l
g +
l
d
e
R
(9.8)
Considerando que o gap sofre pequenas variações em torno de um ponto central de
repouso
l
g=lg 0+? lg (9.9)
C =
A·e
0
l
g 0+? lg+
l
d
e
R
(9.10)
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 115Esta é a equação da capacitância em função de variações do tamanho do gap. Para
representar melhor este transdutor podemos calcular a variação relativa de capacitância com
relação a capacitância de repouso (semelhante ao que foi feito com o strain gauge). Esta razão
defne uma sensibilidade relativa, adimensional,
dC
C
0
=
? C
C
0
=
C-C
0
C
0
=
CC0
-1 (9.11)
No presente exemplo
C
0=
b
x
0+c
(9.12)
onde b=A·e0 , c=ld / K e x0=lg 0 , então
dC
C 0
=
CC0
-1=
b
x +c
b
x
0+c
-1 (9.13)
dC
C
0
=
x
0+c
x +c
-1 (9.14)
Como o gap varia entorno de um ponto central x =x0+dx
dC
C
0
=
x
0+c
x
0+dx +c -1 (9.15)
que pode ser reescrita como
dC
C
0
=
1
1+
dx
x
0+c
-1
(9.16)
Como
1
1+A
=1-A +A2+... , então
dC
C
0
=1- dx
x
0+c
+
dx2
(x 0+c)2-1 (9.17)
dC
C 0
=
-1
(1+ xc0)·(dx x0 )+(1+1xc0)2·(dx x0 )2 (9.18)
que é da forma
dC
C 0
=a1·(dx x 0)+a2·(dx x 0)2 (9.19)
Por comparação encontramos
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 116a
1=
1
(1+ xc0) e a2=
1
(1+ xc0)2 (9.20)
Fazendo as substituições de b, c e x
dC
C
0
=
-1
(1+ eR·l d l g 0)·(dl l g g 0)+(1 + e1Rl ·dl g 0)2·(dl l g g 0)2 (9.21)
onde
a
1=
-1
(1+ eR·ldl g 0) e a2=
1
(1+ eRl ·dl g 0)2 (9.22)
Uma medida de não linearidade pode ser obtida pela relação
|a a2 1|=(1+ e1R·ldl g 0) (9.23)
Observa-se que todas as coisas que reduzem a não linearidade também reduzem a
sensibilidade relativa, ou seja, para este arranjo não é possível otimizar a não linearidade do
transdutor escolhendo um valor específco de capacitância. Observa-se porém, que o dielétrico,
apesar de reduzir a sensibilidade relativa reduz também a não linearidade do transdutor.
A variação de capacitância com relação a variação do gap também pode ser avaliada da
mesma forma.
C =
A·e
R·e0
l
g·eR+ld (9.24)
dC
dl
g
=-
eR·e0·A
(l d+eR·l g)2·eR =-
eR
2
·e
0·A
ld 2
·
1
(1+ eRl·dl g)2 (9.25)
dC
dl
g
˜-
C
0
l
d
·e
R·[1-2·eR·l ldg +3·(eR·l lg d)2-...] (9.26)
9.1.2 Capacitores diferenciais
Medidas diferencias também são usadas com frequência. Na Figura 9.1 (no centro, em
cima) é apresentado uma montagem com um capacitor diferencial. Considerando que no repouso
lg0=lg1=lg2 a tensão sobre cada capacitor será não linear com relação ao deslocamento do
terminal central porém a diferença entre as tensões será linear com relação ao deslocamento.
Neste exemplo a sensibilidade é independente da frequência de excitação e bem maior do que seria
possível obter com um arranjo de um só capacitor.
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 117V
1=V FONTE·
XC
1
XC
1+XC2 (9.27)
V
2=V FONTE·
XC
2
XC
1+XC2 (9.28)
XC
1=
e
R·e0·A
l
g 0+? lg (9.29)
XC
2=
e
R·e0·A
l
g 0-? lg (9.30)
V
1=V FONTE·
l
g 0+? lg
2·l
g 0
(9.31)
V
2=V FONTE·
l
g 0-? lg
2·l
g 0
(9.32)
V
1-V 2=V FONTE·
? l
g
l
g 0
(9.33)
9.2 Transdutor Indutivo
Os indutores são formados por espiras condutoras e podem estar associados a elementos
ferromagnéticos ou outras bobinas que modifcam o comportamento global do indutor. Esta
versatilidade permite muitos arranjos para os transdutores indutivos. Neste texto serão
apresentados transdutores que funcionam por alteração da relutância magnética ou por
indutância mútua.
9.2.1 Transdutores de relutância variável
A indutância pode ser expressa como
L=N·?
i (9.34)
onde N corresponde ao número de espiras, ? é o ?uxo magnético e i é a corrente. O ?uxo
magnético, por sua vez, se relaciona com a força magnetomotriz e a relutância magnética tal que
?= Fmm
R =
N·i
R (9.35)
de forma muito semelhante a lei de Ohm. Observe que é possível fazer uma analogia entre a Fmm
e a tensão elétrica, ? e a corrente elétrica e R e resistência elétrica. Esta analogia é válida
inclusive para o cálculo da relutância equivalente quando o caminho do ?uxo inclui elementos
com diferentes características magnéticas. Para bobinas circulares cujo comprimento é bem maior
que a área, a relutância magnética equivale a
R= 1
µ0·µR·
lA
(9.36)
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 118onde µ0=4·p·10-7 H/m é a permeabilidade magnética do vácuo, µR é a permeabilidade magnética
relativa do meio, l é o comprimento da bobina e A a área de secção reta.
Assim, para uma bobina linear,
L=
µ0·µr·N 2·A
l
(9.37)
e qualquer alteração na permeabilidade magnética, no número de espiras, na área ou no
comprimento pode ser usada para transformar o indutor num sensor (Figura 9.3). Sensores que
alteram o número de espiras funcionam de forma muito semelhante aos potenciômetros ou, mais
especifcamente, os autotransformadores. Os sensores de relutância variável atuam sobre A, l ou µ
sendo as duas últimas as mais comuns.
Assim como acontece com os sensores capacitivos os sensores indutivos também
apresentam alguns problemas que devem ser levados em conta. Campos magnéticos externos
in?uenciam nas medidas e podem alterar o valor da indutância do sensor. Nestes casos talvez seja
necessária uma blindagem especial para o sensor. A permeabilidade magnética não é constante
com relação a intensidade de corrente elétrica e saturações e histerese são os principais
problemas. Além disto perdas por correntes parasitas nos núcleos podem ser um problema e, neste
caso devem ser reduzidas ao máximo. Estas características normalmente limitam a tensão máxima
de alimentação destes sensores a uns 15 V quando os núcleos são ferromagnéticos e as frequências
de excitação a uns 20 kHz (os sensores com núcleo ferromagnético apresentam indutâncias da
ordem de 1 a 100 mH). Núcleos de ar podem ser utilizados minimizando estes efeitos, mas a
sensibilidade do dispositivo fca reduzida e o caminho magnético é menos defnido e o dispositivo
fca mais sensível ao entorno. A relação entre a indutância e a relutância magnética também não é
constante se o ?uxo não for uniforme. Os principais problemas costumam ocorrer nas bordas do
dispositivo. Por razões óbvias a faixa de temperatura está limitada pela temperatura de Curie de
material ferromagnético (temperatura acima da qual o material perde suas características
magnéticas). Devido a forma como são construídos os indutores são muito artesanais e volumosos
e não é fácil encontrar sensores indutivos miniaturizados.
Figura 9.3: Sensores indutivos de relutância variável.
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 119Como vantagens os sensores indutivos são muito pouco sensíveis a variações de umidade e
outros contaminantes como poeira e fuligem, não apresenta atrito e são muito sensíveis. Da
mesma forma que nos sensores anteriores, medidas diferenciais costumam ser menos sensíveis a
campos externos, temperatura, variações na tensão de alimentação e frequência da fonte. As
principais aplicações para este tipo de sensor são as medidas de deslocamento e posição e sensores
de proximidade para objetos metálicos (principalmente em ambientes sujos e úmidos), mas podem
fazer parte de uma gama maior de transdutores para medida de pressão, força, nível, contagem de
carros e outros.
Uma aplicação típica consiste no detector de proximidade. Supondo o arranjo da Figura
9.4, com transdutor de relutância variável, núcleo ferromagnético de comprimento total lm,
tamanho do gap lg, áreas Am e Ag para o núcleo e o gap e permeabilidade magnética µM=µR·µ0
Figura 9.4: Transdutor indutivo de gap variável.
Pode ser demonstrado que neste caso a indutância do transdutor é dada por:
L=
µ0·Ag·N 2
l
g +(Am Ag··lm µR) (9.38)
que tem forma
L
0=
b
x
0+c
(9.39)
onde b=µ0·Ag·N 2 , c=(Ag·lm)·(Am·µR)-1 e x0=lg 0 . Desta forma, assim como no exemplo do
sensor capacitivo, é possível calcular uma sensibilidade relativa para este sensor e avaliar sua
sensibilidade e sua não linearidade empregando expansão por séries de Taylor. Como o formato
das equações é o mesmo é possível aproveitar os cálculos anteriores tal que
dL
L
0
=
1
1+
dx
x
0+c
-1
(9.40)
e como
1
1+A
=1-A +A2+... , então
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 120dL
L
0
=
-1
(1+ xc0)·(dx x 0)+(1+1xc0)2·(dx x 0 )2 (9.41)
Assim como ocorre com transdutores capacitivos, o uso de cabos com elevada capacitância
também afeta a sensibilidade dos transdutores indutivos. Considere inicialmente o modelo para
um indutor real da Figura 9.5, onde R modela as perdas resistivas do fo, as perdas de corrente de
fuga pelo núcleo e também as perdas de histerese e C modela a capacitância parasita associada ao
enrolamento e cabos.
Figura 9.5: Modelo de indutor real.
Como todo circuito RLC o indutor real é regido por uma equação diferencial de segunda
ordem tal que a frequência de ressonância é ?0=(L·C )-1/ 2 e o fator de qualidade Q=?0·L·R-1 .
Sendo assim, no circuito RLC proposto, a resistência R pode ser escrita em função de Q
R =?·L
Q (9.42)
Analisando a impedância do circuito equivalente para o indutor real temos que
Z
L=(R+X L)// X C (9.43)
Z
L=
(?Q·L + j·?·L)· j·?1·C
?·L
Q
+ j·?·L+ 1
j·?·C
(9.44)
Z
L=
(?Q·L + j·?·L)· j·?1·C
?·L
Q
+ j·(?·L-?1 ·C) (9.45)
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 121Z L=(?Q·L + j·?·L)·
-j
?·C
?·L
Q + j·(?2·?L· ·C C -1) (9.46)
Z L=(?Q·L + j·?·L)·
-j·?·C
?·C
?
2
·L·C
Q
+(?2·L·C-1)
(9.47)
Supondo que Q »1 (R é baixo), então (?2·L·C )
Q
«(?2·L·C -1) e
Z
L=(?Q·L + j·?·L)·?2·L-·1C-1 (9.48)
Z
L=
?·L
Q·(1-?2·L·C)+
j·?·L
(1-?2·L·C ) (9.49)
Se a capacitância parasita fosse desconsiderada (C=0), então
Z
L=
?·L
Q
+ j·?·L (9.50)
Comparando-se as duas expressões de ZL podemos concluir que a capacitância parasita
diminui o fator de qualidade, uma vez que
QEFETIVO=Q·(1-?2·L·C ) (9.51)
Esta expressão vale até que ?=(L·C )-1/2 e nestas condições Qefetivo <Q . Além disso, há,
também, um efeito de aumento da indutância efetiva, uma vez que esta pode ser entendida como
L
EFETIVO=LEQ= L
(1-?2·L·C ) (9.52)
Derivando-se esta última expressão temos
?L
EQ
? L =
1-?2·L·C-L·(?2·C )
(1-?2·L·C )2 (9.53)
?L
EQ
? L =
1
(1-?2·L·C )2 (9.54)
? L
EQ=
? L
(1-?2·L·C )2 (9.55)
de onde
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 122?L
EQ
L
EQ
=
? L
(1-?2·L·C )2
L
(1-?2·L·C )
(9.56)
?L
EQ
L
EQ
=
? L
L
·
1
(1-?2·L·C ) (9.57)
Tal expressão indica que na construção de um transdutor de indutância variável, a
capacitância parasita tende a aumentar a sensibilidade do transdutor (em relação ao caso ideal). Os
efeitos anteriormente mencionados, de capacitância parasita do enrolamento, podem ser somadas
aos efeitos das capacitâncias parasitas associadas aos cabos coaxiais ligados aos transdutores. Por
esta razão, cuidado especial deve ser tomada na escolha do cabo coaxial a ser utilizado para
interligar este tipo de transdutor.
9.2.2 Transdutores de indutância mútua
O transdutor indutivo baseado em indutância mútua mais conhecido é o chamado Linear
Variable Di?erential Transformers (LVDT). O LVDT é um transformador com acoplamento
magnético variável produzido pelo movimento de um núcleo ferromagnético colocado entre os
enrolamentos (Figura 9.6). Na confguração tradicional o LVDT conta com um enrolamento
primário por onde o transdutor é energizado e dois enrolamentos secundários por onde se obtém
um sinal proporcional ao deslocamento do núcleo. Normalmente os secundários são ligados em
série com polaridades opostas de modo a zerar a saída na situação de deslocamento mecânico nulo
do núcleo.
Figura 9.6: Linear Variable Di?erential Transformers (LVDT).
A tensão de saída é proporcional a diferença entre as indutâncias mútuas do primário para
cada uma das bobinas do secundário, da tensão e da frequência de excitação e da carga. As
resistências dos enrolamentos também in?uenciam na resposta em frequência do sistema de tal
forma que o LVDT apresenta comportamento semelhante a um fltro passa faixa. Por esta razão a
escolha da frequência de excitação otimiza a sensibilidade e reduz o deslocamento de fase entre a
corrente de excitação e a corrente do secundário. Variações de temperatura resultam em variações
nas resistências dos enrolamentos o que acarreta alterações de sensibilidade e na frequência ótima
de excitação. A excitação com fonte de corrente torna o transdutor mais imune a variações de
temperatura. Os efeitos não lineares começam a ser sentido com deslocamentos acima de 30% do
máximo, mas LVDT especiais são construídos permitindo deslocamentos de até 80% do máximo.
Os erros de o?set costumam ser menores do que 1%, problemas de distorção harmônica por
saturação do núcleo podem ser mantidos tão baixos quando o desejado, mas se isto não for
possível uma fltragem passa baixas para o terceiro harmônico frequentemente resolve o
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 123problema. Uma resolução de 0,1% é facilmente obtida, o sistema não tem atrito e o tempo médio
de falhas de alguns dispositivos chegam a ser de centenas de anos. Além disto os LVDT oferecem
isolamento elétrico entre o mensurando o circuito evitando a formação de laços de terra. LVDT
também são famosos pela repetibilidade, especialmente do zero (o que os torna ótimo para esta
fnalidade), elevada sensibilidade e linearidade (usualmente melhor do que 0,05%).
Os LVDT são usados para medidas de deslocamentos de centenas de µm até vários cm,
podendo obter resoluções de 0,1 µm. São comuns as excitações de 1 até 24 V e frequências de
excitação de 50 até 20 kHz.
9.2.3 Outros transdutores indutivos
Outros transdutores indutivos comuns são os sensores de corrente de Foucaut (eddy
current) ou correntes parasitas (relutância variável), os synchros, resolvers, e os inductosyn
(indutância mútua) além dos magnetoelásticos, magnetoestritivo.
Os sensores de corrente de Foucaut ou parasita induzem uma corrente em um material
condutor próximo. Esta corrente gera um campo magnético que tende a cancelar o campo que
gerou a corrente, reduzindo a indutância do sensor. Estes sensores são utilizados para medidas de
proximidade.
Os synchros e os resolvers são transformadores rotativos, semelhantes a motores, onde a
amplitude da tensão de saída é proporcional ao ângulo de rotação do rotor. Nos synchros são
usados bobinas com ângulos de 120o enquanto que no resolver as bobinas são defasadas 90o
fsicamente. O inductosyn, por outro lado, consiste de duas bobinas planas (com formato de onda
quadrada) estampadas em superfícies que deslizam uma sobre a outra. No caso linear são
utilizados os nomes estator e régua para designar as partes móveis e fxas. No caso do dos
synchros e resolvers são empregados os nomes tradicionais estator e rotor.
Os sensores magnetoelásticos modifcam sua permeabilidade magnética em função de uma
tensão mecânica, os magnetoestritivos têm como base a deformação (mudança de dimensão) de
um material ferromagnético quando submetido a um campo magnético.
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 12410 Comparadores
Comparadores são usados para discriminar se um determinado sinal analógico é maior ou
menor que um sinal de referência. A saída do comparador é, portanto, digital. Eles podem ser
construídos com AO ou com integrados específcos conhecidos como comparadores de tensão. A
solução empregando AO é comum, mas de desempenho signifcativamente pior que aquela
usando comparadores. Mesmo assim, é bastante comum ver este tipo de erro, muitas vezes porque
o circuito tem disponível um AO que não foi usado. Para estes casos e possível usar integrados
mistos como os LM392, TLV2302 e TLV2702 da Texas Instruments, o LTC1541 da Linear
Technology.
Os comparadores são construídos especialmente para realizar esta função gerando em sua
saída um sinal com características digitais. O símbolo do comparador é o mesmo do AO, os
estágios de entrada e intermediários são construídos da mesma forma, mas o estágio de saída é
projetado para trabalhar saturado ou cortado, muito parecido com uma porta lógica. Eles não
possuem compensação de frequência, não apresentam boas características de o?set, drif,, ruído,
enfm, eles não são feitos para funcionar como amplifcador. Por outro lado apresentam baixo
tempo de propagação, baixo rise e fall time, a tensão de saída chega muito próxima a tensão de
alimentação, tem as entradas protegidas contra elevada diferença de tensão, apresentam baixo
consumo e melhor estabilidade. Mais detalhes podem ser encontrados no Using Op Amps as
Comparators da Analog Devices e no Op Amp and Comparators – Don’t Confuse Tem! da Texas
Instruments.
10.1 Símbolo
O símbolo mais comumente utilizado para representar um comparador é apresentado na
Figura 10.1.
Figura 10.1: Símbolo do comparador.
10.2 Características
Apesar de possuir o mesmo símbolo do amplifcador operacional, e ser tratado da mesma
forma, para cálculo, os comparadores possuem uma série de características práticas que visam a
melhora no desempenho do AO como comparador. Em contrapartida, muitos dos circuitos
internos presentes nos AOs são retirados para baratear o custo de produção e o estágio de saída é
modifcado para otimizar o comportamento de comparador.
Normalmente os comparadores possuem ganho menor que um amplifcador operacional e
a sua linearidade não é garantida, principalmente no estágio de saída, projetado para funcionar
em saturação. Os comparadores não possuem compensação em frequência e apresentam piores
características de corrente contínua. A corrente de polarização IB e o VOS são muito maiores que os
de um AO. Características como drif e CMR também são muito piores. Os projetistas, entretanto,
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 125implementam melhoras nas características de slew-rate, setling time e delay indicando
diretamente rise time e fall time.
Diferente do AO, que é projetado para funcionar com realimentação negativa, em região
linear, e tensões iguais nas entradas inversora e não inversora, o comparador é feito para trabalhar
em malha aberta ou com realimentação positiva. Assim, sua saída é digital no sentido de que pode
operar em apenas dois níveis estáveis de tensão. Por esta razão, muitas vezes os comparadores
estão prontos para interfacear com circuitos digitais e de potência e não raro apresentam
alimentações diferentes para o estágio de saída, que também pode estar em coletor ou dreno
aberto (open collector ou open drain). Um exemplo de comparador com tensões de saída diferentes
das tensões de alimentação do comparador é o clássico LM311 (Figura 10.2), onde um transistor
está conectado a saída do comparador. Neste transistor tanto o emissor quanto o coletor não estão
conectados o que permite escolher livremente a alimentação deste estágio inclusive com tensões
maiores do que a máxima permitida para alimentar o integrado. Nos casos de coletor ou dreno
aberto é necessário o uso de um resistor de pull-up calculado de acordo com as características do
circuito que se deseja montar (velocidade, consumo, capacidade de fornecer corrente, tensão de
saída ...).
Figura 10.2: Alimentações do LM311 para interface com circuitos TTL.
Como os comparadores foram projetados para não usar realimentação negativa a máxima
tensão diferencial de entrada (Vd) torna-se um parâmetro importante no projeto. Para evitar
problemas por excesso de tensão diferencial, o circuito de proteção apresentado na Figura 10.3
pode ser adotado, caso não esteja implementado no integrado. Em alguns comparadores,
entretanto, a entrada pode chegar até a tensão de alimentação.
Figura 10.3: Circuito de proteção contra excessiva tensão diferencial.
De um modo geral, então, AO podem ser empregados como comparadores se as
características de corrente contínua forem muito importantes, se os sinais de entrada forem lentos
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 126e se o atraso entre entrada e saída for de pouca importância. Se as características temporais, por
outro lado, forem mais importantes, então o uso de comparadores é fundamental. Uma boa
discussão sobre estas questões pode ser lida em Amplifers as comparators? da Analog Devices. A
Tabela 10.1 mostra uma comparação entre as características de amplifcadores operacionais e de
circuitos comparadores de tesão. Repare nas diferenças elevadas entre os valores encontrados para
cada um dos componentes.
Tabela 10.1: Comparação entre características de um LM741 e alguns comparadores
LM741 LM339 LM311 LM319 LM361
Av (V/mV) 200 200 200 40 3
IB (mA) 80 25 100 250 10.000
VOS (mV) 2 2 2 2 1
SR (V/?s) 0,5 60 150 80 -
ST (ns) - 1.300 200 80 14
IS (mA) - 2 7,5 12,5 25
Is é corrente de alimentação.
10.3 Confgurações típicas
10.3.1 Detetor por cruzamento de zero
A confguração mais simples de um comparador consiste em utilizar uma tensão de
comparação em uma de suas entradas e a tensão a ser comparada na outra, conforme pode ser
visto na Figura 10.4.
Figura 10.4: Comparador simples.
O circuito da Figura 10.4 consiste de um comparador em malha aberta. Desta forma, uma
pequena diferença de tensão entre as entradas já é sufciente para saturar o comparador com a
tensão positiva ou negativa de alimentação. Este tipo de comparador pode ser utilizado para
detectar a passagem de um sinal por qualquer valor de tensão basta alterar a fonte usada para a
comparação. Nestes casos o gráfco de saída, apresentado na Figura 10.5, desloca-se para a direita
ou esquerda de acordo com a tensão aplicada. Note que para representar o funcionamento do
circuito foi utilizado um gráfco onde é desenha a saída em função da entrada.
O gráfco da Figura 10.5, representa uma simulação com uma entrada senoidal de
frequência igual a 10 Hz no circuito comparador de tensão do tipo detetor de passagem por zero.
Observe que, como as características dinâmicas do comparador não são ideais, a curva real
apresenta atrasos e inclinações. Se a derivada da tensão de entrada diminuir o comportamento do
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 127comparador se aproxima do ideal. Isto pode ser um problema quando se trabalha com frequências
elevadas. Neste caso devemos escolher um comparador rápido.
Figura 10.5: Simulação de um comparador por cruzamento de zero (comparador simples com tensão de comparação 0 V).
10.3.2 Limitação da tensão de saída
Algumas vezes deseja-se que a tensão na saída do comparador não seja a tensão de
alimentação. Muitos comparadores, como dito, apresentam estágios de saída com alimentação
diferente que permite adequar facilmente os níveis de tensão necessários na saída do comparador.
Se o comparador estiver sendo realizado com um AO, entretanto, este recurso não está disponível.
Nestes casos, um pouco mais complexos que o anterior, é necessário que o comparador tenha
realimentação negativa em algumas situações. Como se este fator complicador da análise não
fosse sufciente, a realimentação normalmente não é implementada com componentes lineares
tendo sua parcela modifcada como uma chave (existe ou não existe realimentação) ou
progressivamente de forma a manter constante certos parâmetros (como se fosse um regulador de
tensão). Este é o caso típico do circuito mostrado na Figura 10.6.
Figura 10.6: Comparador com limitador de amplitude.
Como podemos ver (Figura 10.7), este circuito é um detector de passagem por zero (a fonte
ligada na entrada não inversora é zero) com uma realimentação negativa formada por um diodo
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 128zener. Ora, sempre que o zener estiver conduzindo mudará sua resistência interna para que a
tensão sobre ele fque constante (polarizado direta ou reversamente). Isto faz com que a tensão na
entrada negativa fque igual à tensão na entrada positiva (realimentação negativa). Como a tensão
na entrada positiva é zero, então a tensão de saída corresponde a tensão sobre o zener.
Figura 10.7: Simulação: Vz=4,7 V, R1=1 kO.
10.3.3 Detetor de nível com limitação de tensão de saída.
O detector de nível com limitação de tensão não pode ser implementado modifcando-se a
tensão de comparação aplicada a entrada positiva, pois se isto altera a tensão de saída (soma da
tensão sobre o zener com a tensão de comparação). Uma alternativa para este problema consiste
em adicionar um somador com resistores na entrada negativa (Figura 10.8). Desta forma é possível
mudar o valor da tensão de comparação sem alterar a tensão da saída.
Figura 10.8: Comparador de nível com limitador de saída.
Este detector funciona basicamente como o anterior porém, agora, a tensão de comparação
se deve não apenas a uma tensão mas a um somatório de tensões. O resultado deste somatório é
que mudará a saída do comparador (Figura 10.9). O equacionamento do problema pode ser feito
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 129em função das correntes. O ponto de comparação ocorre quando as correntes por R1 e R2 são
iguais. Dependendo de qual corrente for maior, o zener estará direta ou reversamente polarizado.
Figura 10.9: Simulação: Vz=4,7 V, R1=R2=1 kO, Vref=2 V.
10.3.4 Comparador de janela
Um exemplo bastante interessante do uso de comparadores com saída em coletor aberto é
mostrado na Figura 10.10. Ele consiste de um comparador em janela, ou seja, um comparador que
cria uma janela de tensão onde a saída do comparador assume um determinado valor. Neste
circuito a comparação não é feita com apenas um nível lógico mas com dois. Se a entrada estiver
entre estes dois níveis lógicos, então a saída será a tensão de alimentação positiva. Note que a
saída de ambos os comparadores são ligadas a um só ponto, isto se deve justamente ao fato da
saída de cada comparador estar em coletor aberto.
Figura 10.10: Comparador em janela e um gráfco (em função do tempo) demonstrando seu funcionamento.
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 130Com este tipo de saída (coletor aberto), o comparador só pode fornecer a tensão de
alimentação negativa pois não possui o circuito que o liga com alimentação positiva. Isto deve ser
feito externamente. Então se um comparador deve fornecer um valor positivo de tensão de saída,
isto só ocorre através do resistor externo (o transistor de saída do comparador está cortado). O
outro comparador pode estar com sua saída em nível baixo que não haverá problemas de curto
circuito por causa do resistor externo que limita a corrente pelo comparador. Como podemos ver
esta confguração com as saídas dos comparadores ligadas juntas funciona como uma porta lógica
OR e por tanto esta confguração é conhecida como wired OR.
10.3.5 Comparador de declividade
Diferente dos demais circuitos comparadores, o comparador de declividade não compara
níveis de tensão, mas sim a derivada do sinal de entrada, ou seja, a sua declividade. O circuito é
apresentado na Figura 10.11. O ponto de comparação pode ser calculado da mesma forma que para
o comparador de nível com limitação de tensão de saída, ou seja, igualando as correntes em C1 e
R1.
Figura 10.11: Comparador de declividade.
Figura 10.12: Simulação com Vz=4,7 V, Vref=2 V, C1=47 nF, R1=1 kO, Freq=1000 Hz.
i
R 1=iC 1 (10.1)
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 131v
REF
R
1
=C
1·
dv
i
dt (10.2)
dv
i
dt =
v
REF
R
1·C 1 (10.3)
Se a corrente iC1 < iR1 o diodo zener está polarizado diretamente, neste caso a tensão de
saída é aproximadamente igual 0,7 V. Se iC1 > iR2 então o zener está polarizado reversamente e a
tensão de saída corresponde a tensão de zener. A aplicação mais comum para este circuito é como
trigger em osciloscópios analógicos.
10.3.6 Comparador com histerese
O comparador de nível, ou comparador simples, mostrado no início deste capítulo, pode
oscilar quando o sinal está próximo do nível de comparação. Isto ocorre porque o ruído
adicionado ao sinal faz com que o comparador seja acionado várias vezes.
Para evitar este tipo de problema foram criados os circuitos comparadores com histerese. A
histerese nada mais é do que a mudança automática do nível de comparação logo após uma
comparação bem-sucedida, criando uma região, ao redor do ponto de comparação, onde o ruído
existente sobre o sinal não consegue afetar a saída do comparador. Para isso são criados dois
níveis diferentes de comparação, comutados entre si automaticamente, para que o ruído não
interfra na comparação. Qando o nível mais baixo do limiar de comparação está ativo, por
exemplo, o nível mais alto esta desligado. Se um sinal vencer este nível mais baixo de comparação,
então o nível de comparação é modifcado para o nível mais alto impedindo que o ruído comute o
comparador novamente.
Alguns comparadores já possuem histerese internamente, mas, caso necessário, esta
característica pode ser facilmente implementada com uma malha de realimentação positiva
(Figura 10.13). O comparador de nível, agora imune a ruído, fornece informação com uma pequena
defasagem com relação ao sinal real, mas com muito menos problemas de ruído (Figura 10.14).
Figura 10.13: Comparador com histerese.
Para que o nível de comparação seja alterado automaticamente ele é escolhido em função
da tensão de saída. Para o circuito da Figura 10.13 os níveis de comparação são
P
1=
Vcc·R
2
(R1+R2) (10.4)
P
2=
-Vcc·R
2
(R1+R2) (10.5)
e o gráfco da histerese correspondente pode ser visto na Figura 10.15.
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 132Figura 10.14: Simulação dos comparadores de nível com e sem histerese na presença de ruído: v(o1) é a saída do
comparador com histerese com R1=3·R2, e v(o2) é a saída do comparador simples.
Figura 10.15: Saída do comparador com histerese em função do sinal de entrada. Simulação com R1=3·R2.
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 13311 Retifcadores de precisão e detectores de pico
Um circuito retifcador convencional, construído com diodos, como mostrado na Figura
11.1, produz uma queda de tensão na onda retifcada devido à tensão de polarização do diodo no
sentido direto. Para sinais muito pequenos (menores que a queda de tensão direta do diodo) a
retifcação se torna impossível. Além disto o diodo não tem um comportamento linear mesmo na
região de condução. Então, mesmo que o sinal tenha amplitude sufciente para fazer o diodo
conduzir, haverá uma distorção no sinal de saída.
Figura 11.1: Retifcador de meia onda convencional.
Para resolver este tipo de problema foram criados circuitos retifcadores ativos, a base de
amplifcadores operacionais. A vantagem destes circuitos é que todas as defciências do diodo são
compensadas pelo AO sendo possível montar um circuito com características bem próximas da
ideal. Para mais detalhes de cálculo e escolha dos componentes leia Op Amp Rectifers, Peak
Detectors and Clamps da Microchip.
11.1 Retifcador de ½ onda
O retifcador de meia onda inversor é apresentado na Figura 11.2. Para um sinal negativo
na entrada (vi) o diodo conectado entre a saída do circuito e a saída do AO (D2) está diretamente
polarizado, fechando a malha de realimentação negativa através do resistor. A queda de tensão
sobre o diodo, o que inclui todas as suas não linearidades, é compensada na saída do AO. Para
tensões de entrada de valores positivos o diodo que está diretamente polarizado é aquele que
realimenta o AO (D1) de forma a transformá-lo em um bu?er. Neste caso como o outro diodo (D2)
está cortado, a saída do circuito é nula. Para reduzir problemas com as correntes de polarização do
operacional é possível inserir um resistor na entrada positiva com valor R/2. As formas de onda na
saída do circuito e na saída do AO são apresentadas na Figura 11.3.
Figura 11.2: Retifcador de meia onda, inversor, de precisão.
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 134Figura 11.3: Formas de onda do retifcador de meia onda de precisão. A entrada é senoidal, a saída do AO apresenta
degraus e a saída do circuito apresenta apenas a entrada retifcada.
Como o AO demora para sair da saturação e possui um slew rate fnito, o tempo de descida
ou subida no semiciclo negativo é maior que zero. Colocando o diodo de realimentação (D1) o
operacional não estará saturado em -VCC durante o semiciclo positivo da onda de entrada e
portanto será muito mais rápido para acompanhar o sinal vi.
11.2 Retifcador de onda completa
Três exemplos de retifcadores de onda completa são apresentados na sequência.
No primeiro circuito (Figura 11.4) um retifcador de meia onda inversor é conectado na
entrada de um somador inversor. Qando a entrada do circuito é negativa o somador soma a
tensão de entrada com o dobro da tensão na saída do retifcador. Como resultado a saída tem a
mesma amplitude e a mesma polaridade da tensão de entrada. Qando a entrada do circuito é
positiva, o retifcador de meia onda fornece saída nula e o sinal de entrada é amplifcado uma vez
pelo somador. Como resultado a saída inverte de polaridade. As formas de onda na entrada e saída
do circuito são apresentadas na Figura 11.5.
Figura 11.4: Retifcador de onda completa, inversor, de precisão.
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 135Figura 11.5: Formas de onda para o retifcador de onda completa, inversor, de precisão.
No segundo exemplo (Figura 11.6) o retifcador de meia onda é novamente utilizado.
Qando a entrada é positiva, a saída do retifcador é nula e o circuito de bu?er, em baixo,
realimentado pelo resistor R e D4, é responsável por fazer com que a saída seja positiva. Qando a
tensão de entrada é negativa a saída do retifcador é positiva e está conectada diretamente sobre a
saída. A saída do bu?er, em baixo, está aberta e a resistência R impede que a tensão negativa em
sua entrada inversora se propague para a saída do circuito. Como resultado a saída do retifcador é
positiva. As formas de onda de entrada e saída são apresentadas na Figura 11.7.
Figura 11.6: Retifcador de onda completa, não inversor, de precisão.
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 136Figura 11.7: Formas de onda para os retifcador de onda completa, não inversores, de precisão.
O terceiro exemplo, mostrado na Figura 11.8 utiliza o retifcador de meia onda conectado a
entrada de um amplifcador subtrator. Este circuito apresenta como característica favorável o fato
de apresentar elevada impedância de entrada. Para tensões de entrada negativas o retifcador de
meia onda e o sinal de entrada aparece multiplicado por dois no anodo de D6. Nesta situação o
segundo amplifcador multiplica esta tensão por -2 e a entrada vi por 3. O resultado é que o sinal
de entrada aparece invertido na saída do segundo operacional ( vo=-2·2·vi +3·vi ). Qando a
entrada é positiva a tensão no catodo de D5 é uma cópia da tensão de entrada e neste caso a saída
é positiva e com a mesma amplitude da entrada ( vo=-1·vi +2·vi ).
Figura 11.8: Retifcador de onda completa, não inversor, de precisão.
11.3 Detetor de pico
O detetor de pico é um circuito bem simples que pode ser implementado conforme
mostrado na Figura 11.9. Neste circuito, sempre que a tensão de entrada for maior que a tensão
sobre o capacitor, o diodo conduz e o capacitor se carrega com o valor presente na entrada. São
dois os inconvenientes desta confguração: 1) a queda de tensão no diodo (impede o uso com
sinais de baixa amplitude) e 2) o fato de não haver como reinicializar o circuito com uma tensão
baixa no capacitor.
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 137Figura 11.9: Circuito do detetor de pico e gráfco exemplifcando seu funcionamento.
Para solucionar o primeiro problema podemos usar detetores de pico ativos como os
mostrados na Figura 11.10. O detetor ativo emprega dois amplifcadores operacionais, um para
substituir o diodo e outro para evitar que a carga descarregue o capacitor. O segundo AO deve ter
baixa corrente de polarização e as duas realimentações ajudam a compensar perdas e acumulo de
erros. O resistor R e o diodo D servem para reduzir as correntes de fuga que podem descarregar
C1. Qando D2 está cortado R traz para o anodo de D a tensão vo (igual a vC1), mantendo o diodo D
com tensão nula sobre ele, porém cortado e sem corrente de fuga. Para o segundo problema
podemos usar uma chave analógica para descarregar o capacitor quando desejarmos ou um
resistor em paralelo com o capacitor, o que confere um efeito de memória ou fltro ao detetor.
Figura 11.10: Circuito do detetor de pico ativo: Topologia básica e prática respectivamente.
11.4 Sobre a escolha dos diodos
Tanto para os retifcadores quanto para os detetores de pico a escolha dos diodos é
importante. Todo o diodo apresenta características não lineares e capacitâncias parasitas que
interagem com o restante do circuito e limitam a frequência de operação do mesmo. Efeitos
estranhos devido a distorção harmônica podem ocorrer principalmente em altas frequências. Para
a maioria das aplicações diodos de sinal como o 1N4148 é sufciente. Qando o o?set e a corrente
de leakage tornarem-se importantes é possível construir um diodo curto-circuitando dreno e fonte
de transistores FET como o 2N4117A. Em aplicações onde a velocidade é mais importante talvez
seja necessário recorrer a diodos rápidos como o Schotky.
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 13812 Integradores e derivadores
12.1 Integrador
O circuito do amplifcador integrador é mostrado na fgura abaixo. O capacitor é utilizado
para integrar corrente e o resistor é utilizado para transformar a tensão de entrada em corrente.
Desta forma a saída do circuito será proporcional a integral da tensão de entrada.
Figura 12.1: Circuito integrador básico.
Resolvendo o problema pelo domínio do tempo
i=
vi – v
–
R
1
(12.1)
v
–
– v
o=
1 C
1
·?i dt (12.2)
v
–
– v
o=
1
R
1·C 1
·?(vi-v–)dt (12.3)
como v–=0.
v
o(t )=- 1
R
1·C 1
·?v i(t )·dt (12.4)
Resolvendo o problema pelo domínio da frequência
vo (S)
vi (S) =-
1
C
1·S
R
1
(12.5)
v
o(S)=- 1
R
1·C 1
·v
i(S )·1
S (12.6)
v
o(t )=- 1
R
1·C 1
·?v i(t )·dt (12.7)
Exemplo: Qal a forma de onda na saída de um integrador com R1=10 k? e C1=0,1 ?F
quando a excitação deste circuito é uma onda quadrada com período de 1 ms (supor que a onda
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 139inicie em -5 V por 0,25 ms, mude para 5 V por 0,5 ms, retorne a -5 V por 0,5 ms e assim por
diante).
Neste exemplo o sinal de entrada vi é constante em determinados intervalos de tempo.
Dentro de cada intervalo, a expressão da saída vo é
vo=-
1
R
1·C 1
·?vi dt =-R vi
1·C1
·(t fnal – t inicial)=-R vi
1·C1
·? t
Para o primeiro intervalo, com Dt=0,25 ms voMÁX=1,25 V. Para os intervalos subsequentes,
com Dt=0,5 ms, voMÁX=2,5V. O gráfco a seguir mostra as formas de onda.
12.1.1 Integrador prático
Se levarmos em consideração IB e VOS do AO o amplifcador integrador pode ser modelado
como mostra a Figura abaixo.
Figura 12.2: Circuito integrador básico. Vos é a tensão de o?set e IB a corrente de polarização.
v
o=-
1
R
1·C1
·?vi dt + R 1
1·C 1
·?vOS dt + C1·? I Bdt +V OS (12.8)
Teoricamente o ganho do integrador para frequência zero tende a infnito. Desta forma os
efeitos de IB e VOS impedem que a integração seja feita por longos períodos de tempo, pois nestas
condições o AO satura. Podemos minimizar este problema usando AO com entrada FET, que
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 140reduzem a corrente IB. Uma alternativa é apresentada no circuito abaixo. A inserção de R2 diminui
o ganho DC do integrador para
v
o
v
i
=-
R
2
R
1
(12.9)
Isto reduz sensivelmente a contribuição fnal de Vos na saída do integrador de 8 para
vo(V OS)= R2
R
1
·|V OS| (12.10)
Figura 12.3: Circuito integrador com perdas.
Para minimizar os erros com IB neste novo circuito podemos usar as técnicas já estudadas
inserindo um resistor entre terra e a entrada não inversora do AO
R
3=
R
2
R
1
(12.11)
assim fcamos com erro reduzido a
1C
1
·? IOS·dt
Altenativamente podemos equacionar o circuito pelo domínio frequência
v
o
v
i
=-
1
C
1·S
// R
2
R
1
=-
R
2
R
1
·
1
R
2·C1·S+1
(12.12)
Como podemos ver no desenho abaixo, o integrador com R2 só possui comportamento
semelhante ao do integrador ideal para frequências acima de (R2·C1)-1 rad/s. A diferença entre a
reta do integrador puro e com R2 deve-se apenas a diferença de ganhos nas curvas desenhadas. Se
aumentarmos o ganho do integrador puro, sua curva subirá até coincidir com a reta inclinada do
circuito integrador com R2. Isto signifca que esta é a região de integração, antes disso este circuito
apresenta apenas características de ganho.
Para termos um a precisão de pelo menos 5% a frequência de operação do circuito é dada
por:
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 141f operação= 2·p·3 R
2·C 1 (12.13)
Figura 12.4: Curvas de resposta em frequência do integrador puro e do integrador com perdas.
Qando a frequência de operação aumenta, aumenta também a precisão do circuito, pois a
reatância de C1 diminui e a in?uência de R2 no circuito também.
Uma aplicação muito comum para o integrador com perdas consiste no cálculo do valor
médio da tensão de entrada. A média da tensão na saída do integrador com perdas corresponde a
média da tensão de entrada multiplicada pelo ganho CC do circuito.
Exemplo: O circuito da fgura a seguir foi simulado com excitação de frequências 200 Hz e
2 kHz, ambas com formato senoidal de amplitude unitária e 1 V de o?set. Qal a tensão de saída
para cada uma destas exitações?
O ganho do circuito para DC (valor médio)
A
v=
v
o
v
i
=
-R
1
R
3
A
v=
v
o
v
i
=
500
50
=10
A frequência de corte do polo do integrador com perdas é
p1=
1
R
1·C 1
=
1
500k·0,01µ F =
1
0,005
=200rad/s
p1=
200
2·p
=31,8 Hz
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 142Como as duas frequências de excitação estão bem acima da frequência de corte do
integrador o circuito funciona como um integrador com perdas.
v
o=Av·vi
Tempo de estabilização
t =5·t=5·
1 p
1
=
5
200
=0,025s
Ripple para 200 Hz:
v
o
v
i
=-
R
2
R
1
·
1
R
2·C·S+1|s =1256rad/s
v
o
v
i
=1,37 V
p=2,74 Vpp
Ripple para 2.000 Hz:
v
o
v
i
=-
R
2
R
1
·
1
R
2·C·S+1|s =120560 rad/s
v
o
v
i
=0,15V
pico=0,30 Vpp
12.2 Derivador
O circuito do derivador é apresentado na Figura 12.5. A corrente no capacitor é
determinada pela variação de tensão sobre ele. Esta corrente, ao passar por R1 produz na saída do
circuito uma tensão proporcional a derivada da tensão de entrada.
Pelo domínio do tempo temos que
i
C =C1·
dv
C
dt
(12.14)
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 143v
C=vi (12.15)
i
C =C1·
dv
i
dt
(12.16)
v
o=-R1·iC (12.17)
v
o=-R1·C 1·
dv
i
dt
(12.18)
Figura 12.5: Circuito derivador.
Pelo domínio da frequência a solução seria
v
o(S)
v
i (S) =-
R
1
1
C
1·S
(12.19)
v
o(S)=-R1·C 1·vi(S)·S (12.20)
v
o=-R1·C 1·
dv
i
dt
(12.21)
Exemplo: Desenhe a forma de onda de saída de um derivador com R1=10 k? e C1=0,1 ?F.
Considere a entrada uma onda triangular com período de 1 ms, inciando em zero, subindo até
1,25 V em 0,25 ms e descendo até -1,25 V em mais 0,5 ms.
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 144v
o=-R1·C 1·
dv
i
dt =-R1·C1·(Vt fnal fnal- -V tinicial inicial)
Para um Dt=0,25 ms e um Dv=1,25 V, vo=–5 V. Para Dt=0,5 ms e um Dv=2,5 V, vo=+5 V.
12.2.1 Derivador prático
Teoricamente, em altas frequências o ganho do derivador tende a 8 . Isto torna o
derivador muito sujeito a ruídos e problemas de estabilidade. Na prática, este circuito sem polos é
impossível de ser realizado, pois o capacitor e o AO ideal não existem. Mesmo assim, com os polos
que o capacitor e o AO real inserem no circuito, a faixa de operação deste circuito continua sendo
muito ampla e os problemas de ruído e instabilidade não desaparecem. Os derivadores práticos
utilizam um limitador de ganho em altas frequências como mostrado na Figura 12.6.
Figura 12.6: Resposta em frequência do AO e dos derivadores ideal e prático.
Esta redução de ganho em altas frequências pode ser obtida pela inserção de um resistor R2
ao circuito original, tal como indicado na Figura 12.7.
Figura 12.7: Derivador prático.
O ganho em altas frequências pode ser calculado da seguinte maneira
v
o
v
i
=
-R
2
R
2
(12.22)
? p=R2·C 1 (12.23)
Altenativamente podemos equacionar o circuito pelo domínio frequência
v
o
v
i
=
-R
1
1
C
1·S
+R
2
=-R
1·
C
1·S
R
2·C 1·S+1
=-
R
1
R
2
·
S
S + 1
R
2·C1
(12.24)
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 14513 Conversor logarítmico e antilogarítmico
13.1 Introdução
A tensão VBE do transistor bipolar de silício é uma função logarítmica da corrente de
coletor, para correntes na faixa de valores que vão desde poucos pico amperes até poucos
miliamperes. Essa característica do transistor é utilizada na construção de conversores
logarítmicos e antilogarítmicos, que possibilitam executar muitas funções úteis, tais como: 1)
operações matemáticas (multiplicação, divisão, raiz quadrada…); 2) transmissão de informação; 3)
compressão e descompressão de sinais analógicos (a operação logaritmo reduz valores elevados e
amplifca os pequenos permitindo o máximo aproveitamento da faixa de amplitudes, por exemplo,
um conversor analógico digital de 12 bits precedido de um amplifcador logaritmo apresenta uma
faixa dinâmica equivalente à de um conversor de 20 bits, porém não linear); 4) medidores de
intensidade (sonora, luminosa…) e absorção luminosa.
Os modelos de conversores logarítmicos que serão apresentados utilizam transistores. Na
maioria dos exemplos os transistores precisam ser perfeitamente casados. Isto pode ser obtido
com arrays de transistores integrados como o LM394 ou o LM3046. Alternativamente estão
disponíveis circuitos que implementam um conversor deste tipo e que requerem apenas alguns
resistores e capacitores externos. Exemplos são o LOG102, LOG112, LOG2112.
13.2 Modelo de Ebers Moll do transístor NPN
Qando se trabalha com pequenos sinais se utiliza um modelo linear do transistor
conhecido como modelo de pequenos sinais, ou modelo pi ou modelo pi-híbrido, porém quando se
trabalha com sinais elevados ou quando a linearização não é desejada, é mais conveniente utilizar
o modelo de Ebers Moll (Figura 13.1) de forma que fquem explícitas as relações não lineares entre
correntes e tensão.
Figura 13.1: Modelo de Ebers Moll do TJB NPN.
As equações do modelo de Ebers Moll, considerando a tensão térmica V T=K·T·q-1 , são
I
C=aF·I ED-I CD (13.1)
I
ED=I ES·(eV BE/V T-1) (13.2)
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 146I
CD=I CS·(eV BC /V T-1) (13.3)
I
C=aF·I ES·(eV BE/ V T-1)-I CS·(eV CB /V T-1) (13.4)
I
E=I ED-aR·I CD (13.5)
I
E=I ES·(eV BE/ V T-1)-aR·I CS·(eV CB/ V T-1) (13.6)
onde IES e ICS são correntes reversas de saturação (da ordem de 10- 11 A); aF é o ganho direto (da
ordem de 0,99 a 0,999); aR é o ganho reverso (da ordem de 0,01 a 0,001); m é uma constante
empírica (depende do tipo de transistor: Ge=1 e Si=2); K é a constante de Boltzman
(1,381·10- 23 J/K); T é temperatura absoluta (Kelvin); q é a carga do elétron (1,602·10- 19 C)
13.3 Conversor logarítmico
Com as relações exponenciais entre as tensões e as correntes dos transistores é possível
implementar um conversor logarítmico. A Figura 13.2 mostra o circuito básico para
implementação do amplifcador logarítmico. Para seu perfeito funcionamento é necessário que
vi>0, mas para se obter melhores resultados 100·IB<IC<10 mA. Com o uso do transistor na
realimentação a aproximação do modelo de Ebers Moll é válida por umas 9 decadas
Figura 13.2: Circuito básico para o amplifcador logarítmico.
i
C =
v
i
R
i
=a
F·I ES·(eV BE /V T-1)-I CS·(e-V CB / V T-1) (13.7)
v
i
R
i
=a
F·I ES·(e-vo /V T-1)-I CS·(e0-1) (13.8)
que pode ser aproximado para
v
i
R
i
=a
F·I ES·e-vo / V T (13.9)
pois
q·VBE
m·K·T
=
1,602·10-19·0,7
1·1,381·10-23·300=27 ,07 (13.10)
e eV BE/ V T >>1 . Esta aproximação implica em erros que podem ser estimados facilmente. Por
exemplo, para VBE=100 mV o erro é de +2,1% e para VBE=200 mV o erro é de +0,04%.
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 147Isolando vo na equação 13.9, obtêm-se
v
o=-V T·ln(Ri·avFi·I ES) (13.11)
v
o=-k1·ln(v ki 2) (13.12)
onde k1=V T e k2=Ri·aF·I ES . Esta relação logarítmica entre a corrente de coletor e a tensão de
saída é válida por 9 décadas da corrente IC. Na prática, entretanto, a topologia apresentada na
Figura 13.2 é muito suscetível a variações de temperatura, e uma faixa de variação de IC muito
menor é conseguida. Mesmo após todas as compensações possíveis (Figura 13.3) apenas 6 décadas
costumam ser viáveis para esta aplicação. Na equação 13.11 as dependências com a temperatura
são:
V
T=
K·T
q
(13.13)
I
ES=B·T 3·e-V G/ V T (13.14)
onde VG é uma tensão dependente da tensão de gap do transistor (o chamado potencial de BandGoy – da ordem de 1,11 V) e B é uma constante dependente dos níveis de dopagem e da geometria
utilizada na confecção do transistor. Desta forma, para uma corrente de emissor constante, IES
dobra a cada 10 Kelvin, ou seja, para uma variação de temperatura de 100 ? IES aumenta 1.000
vezes. Por esta razão este circuito simples não costuma ser usado. No circuito da Figura 13.3, o
transistor Q3 injeta uma corrente IREF na base de Q2. D1, D2, Cc e Rc são utilizados apenas para
proteção dos transistores e compensação em frequência.
Figura 13.3: Circuito amplifcador logarítmico com compensação térmica. R(T) é um RTD.
Neste circuito V C 2=V BE 2 – V BE 1 e I C 2˜I REF (considerando que o hfe de Q2 seja elevado e,
portanto, IB2=0), então
i
C 2˜aF 2·I ES 2·eV BE 2 /V T (13.15)
e
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 148V
BE 2=V T 2·ln(aFI2·REF I ES 2) (13.16)
como V BE 1=– vo 1
v
o 1=-V T 1·ln(Ri·avF 1i·I ES 1) (13.17)
então
V
C 2=-V T 2·ln(Ri·avF 1i·I ES 1)+V T 2·ln(aFI2·REF I ES 2) (13.18)
Se os transistores forem iguais e estiverem próximos, então é possível considerar que
T
1=T 2=T , aF 1=aF 2=aF , I ES 1=I ES 2=I ES . Desta forma a equação 13.18se reduz a
V
C 2=-V T·[ln(Ri·avFi·I ES)-ln(aIF·REF I ES)] (13.19)
V
C 2=-V T·ln(R i·avFi·I ES·aIF·REF I ES) (13.20)
V
C 2=-V T·ln(R i·vIiREF) (13.21)
v
o=vo 2=(1+ R (RT ))·V C 2 (13.22)
Desta forma o erro devido a IES fca eliminado e o erro devido a T é compensado no
amplifcador de saída que tem o ganho variável com a temperatura. Os valores de R2 e R(T) podem
ser escolhidos de tal forma que a temperatura seja compensada em uma ampla faixa de valores
(normalmente entre -25 ? e +100 ?). R(T) normalmente é um RTD com variação de 3.500 a
3.700 ppm/K. Erros de 1% ou menos são obtidos para uma faixa dinâmica de 6 décadas na corrente
IC
.
Várias outras topologias são possíveis. Uma solução simples emprega dois amplifcadores
logarítmicos (Figura 13.2) ligados a um amplifcador subtrator. Este processo também elimina os
erros devidos as variações IES. A compensação de temperatura pode ser feita nos resistores de
entrada do subtrator, usando RTD com o mesmo coefciente térmico usado no exemplo anterior.
Com esta topologia é possível usar a segunda entrada com uma corrente de referência ou como
outro sinal. Se um segundo sinal for utilizado o circuito calcula o logaritmo da razão entre os dois
sinais. Qalquer que seja a solução será sempre necessário usar transistores casados e na mesma
temperatura do resistor de compensação. O melhor desempenho costuma ser obtido com circuitos
integrados, mas resultados bastante satisfatórios podem ser obtidos com amplifcadores
operacionais e transistores integrados. A resposta em frequência fca limitada aos ganhos, a faixa
de tensão de entrada, ao transistor, ao amplifcador operacional e outras. Para o cálculo do
logaritmo em outra base basta ajustar o ganho da confguração. O uso de transistores PNP não é
comum, pois suas características construtivas são piores o que leva a erros maiores.
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 14913.4 Conversor Antilogarítmico
A operação inversa do logaritmo também é possível de ser implementada. O circuito básico
é apresentado na Figura 13.4. Para o perfeito funcionamento do circuito a tensão de entrada deve
ser menor do que zero. Para que seja garantida a característica logarítmica do transistor devem ser
respeitadas as mesmas diretrizes mencionadas para os amplifcadores logarítmicos.
Figura 13.4: Circuito básico do amplifcador exponencial ou antilogarítmico.
i
C =
v
o
R
(13.23)
i
C =aF·I ES·(eV BE/ V T-1)-I ES·(eV CB /V T-1) (13.24)
i
C =aF·I ES·(evi /V T-1)-I ES·(e0-1) (13.25)
v
oR
=a
F·I ES(e-vi /V T) (13.26)
v
o=R·aF·I ES·e-vi /V T (13.27)
Novamente a saída é dependente da temperatura e circuitos especiais de compensação
devem ser implementados. Mais uma vez dois transistores são necessários para cancelar os efeitos
de IES e um RTD pode ser utilizados para cancelar os efeitos de VT.
Figura 13.5: Circuito do amplifcador exponencial ou antilogarítmico com compensação térmica.
v
i·R2
R
1+R2
=v
BE 1-vBE 2 (13.28)
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 150Considerando que V CB˜0 para os dois transistores, iguais e na mesma temperatura, então
v
i·R2
R1+R2
=-V
T·[ln(avF02·/IRES 0 2)-ln(V aFREF 1·I/ES R3 1)] (13.29)
v
i·R2
R
1+R2
=-V
T·ln(R R3 0·VvREF 0 ) (13.30)
v
0=
R
0·V REF
R
3
·e
-(R1R+2R2·Vv i T) (13.31)
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 15114 Outras operações com circuitos analógicos
14.1 Multiplicação
Os multiplicadores são circuitos capazes de multiplicar duas ou mais entradas. Estes
circuitos estão sendo substituídos, com vantagens, por implementações digitais com circuitos
dedicados ou processadores de sinais. Apesar disto é comum encontrar multiplicadores analógicos
como parte de outros circuitos como os PLL e demoduladores ou na forma discreta em aplicações
de frequências elevadas, controle de ganho, amplifcadores com ganho controlado por tensão,
osciladores com frequência controlada por tensão entre outros. Alguns exemplos comerciais de
multiplicadores são o AD834 e o AD633 da Analog Devices e o MPY634 da Texas Instruments.
O multiplicador analógico ideal tem impedância de entrada infnita, impedância de saída
nula e responde a todas as frequências indistintamente. O símbolo do multiplicador ideal é
apresentado na Figura 14.1 e sua função de transferência na equação 14.1.
Figura 14.1: Símbolo do multiplicador ideal.
v
o=
x·y
k (14.1)
Os multiplicadores reais são alimentados, normalmente, por tensões de ±15 V e valores
típicos para x e y estão na faixa de ±10 V. O valor de k é escolhido de forma a não saturar a saída
do multiplicador. Normalmente k=10 (14.2) o que permite o produto dos maiores valore de x e y
simultaneamente sem saturar o multiplicador.
k=vx MAX·yMAX=v10·10=10 (14.2)
O multiplicador real também apresenta uma série de erros que são causados por o?sets e
não linearidades ().
v
o=(1+k E)·(x +xOS )·(y +yOS )
10
+v
OS +h(x ,y) (14.3)
onde: kE é o erro de ganho; h(x,y) são não linearidades (termos como x2, y2, x2y, xy2, …); xOS e yOS
correspondem a tensão de o?set das entradas (multiplicadores reais apresentam uma saída
diferente de zero quando ao menos uma das entradas está em zero volts. Este valor na saída é
chamado de feed through); vOS é a tensão de o?set na saída quando x=y=0.
Desenvolvendo-se a equação e desprezando alguns termos, temos
v
o=
x·y
10
+
k
E·x·y
10
+
x·y OS
10
+
y·xOS
10
+v
os+h (x , y ) (14.4)
a última parcela desta fórmula, representa não linearidades. Este termo pode ser quantizado se
deixarmos uma das entradas do multiplicador fxa e variarmos a tensão na outra entrada. Se
levantarmos a curva vo versus vi não teremos uma reta (resposta do multiplicador ideal). Uma
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 152análise da equação 14.4 revela que, mesmo com os o?sets e erros na variável k, a saída deveria ser
uma reta. Esta distorção é função de uma série de outros fatores que dependem do método
utilizado para a multiplicação e são agregados neste fator único. Além dos problemas com o?set os
multiplicadores reais apresentam uma série de limitações CA como, setling time diferente de zero,
slew rate fnito, frequência de corte fnita, xOS e yOS em função da frequência, não linearidade em
função da frequência entre outros.
14.1.1 Multiplicador por transcondutância variável
O multiplicador de transcondutância variável pode ser implementado com OTAs ou com
transistores utilizando as características favoráveis do par diferencial. Circuitos muito simples,
entretanto, como o da Figura 14.2, apresentam problemas com variações de IE devido a tensão vY.
Estas variações causam uma grande excursão da tensão de modo comum de vo. No exemplo, a
tensão VBE do transistor da entrada vy foi desconsiderada, mas isso nem sempre pode ser feito. O
circuito multiplicador integrado mais comum é uma evolução do multiplicador apresentado e
emprega a chamada célula de Gilbert, onde mais de um par diferencial com acoplamento cruzado
são utilizados para melhorar o desempenho do multiplicador. Um bom material sobre o assunto
pode ser encontrado com facilidade no manual do já obsoleto MPY100 da Burr Brown e no
Tutorial Analog Multipliers da Analog Devices.
Figura 14.2: Multiplicador usando par diferencial.
Para o par diferencial, a tensão de saída corresponde a
v
o=gm·RL·v x (14.5)
v
o=
I
E
V
T
·R
L·vx (14.6)
v
o=
v
y
R
E·V T
·R
L·vx (14.7)
v
o=
R
L
R
E·V T
·v
x·vy (14.8)
onde VT é a tensão térmica.
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 15314.1.2 Multiplicador com conversor logarítmico
Amplifcadores logarítmicos combinados com circuitos antilogarítmicos, são uma
alternativa para a multiplicação de duas variáveis. O circuito da Figura 14.3 mostra como isso
pode ser realizado.
Figura 14.3: Circuito multiplicador com amplifcador logarítmico.
V
BE 1=v1=-V T 1·ln(vIx ES /R1 x) (14.9)
V
BE 2=v1-v2=V T 2·ln(vIyES / R2 y) (14.10)
V
BE 3=v3=-V T 3·ln(vIzES /R3 z) (14.11)
V
BE 4=v3-v2=V T 4·ln(vIoES /R4 o) (14.12)
Subtraindo-se 14.9 de 14.11 e considerando que todos os transistores estão na mesma
temperatura
v
3-v 1=-V T 3·ln(vIzES /R3 z)+V T 1·ln(vIx ES /R1 x) (14.13)
v
3-v 1=V T·ln(vvxz/ /R Rx z) (14.14)
Subtraindo-se 14.10 de 14.12 e considerando que todos os transistores estão na mesma
temperatura
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 154v
3-v 1=V T 4·ln(vIoES /R4 o)-V T 2·ln(vIyES /R2 y) (14.15)
v
3-v 1=V T·ln(v vo y / /R Ro y) (14.16)
Igualando 14.14 e 14.16
(vvx z / / R Rx z )=(v vyo / / R Ro y ) (14.17)
v
o=
v
x·vy
v
z
·
R
o·Rz
R
x·Ry (14.18)
Se todas as resistências têm o mesmo valor e vZ=10 V então
v
o=
v
x·vy
10
(14.19)
O multiplicador logarítmico, entretanto, só multiplica sinais do terceiro quadrante (as duas
entradas devem ser negativas). Para obter um multiplicador de 4 quadrantes a partir do
multiplicador logarítmico apresentado, podemos utilizar o circuito da Figura 14.4.
Figura 14.4: Multiplicador logarítmico de quatro quadrantes.
x =10-v
x (14.20)
y =10-vy (14.21)
A saída do multiplicador é
x·y
10
=
1
10
·(100– 10·vx – 10·vy +vx·vy)=vx·vy
10
+10-v
x-v y (14.22)
Último estágio do circuito é um somador que adiciona –10V, vX e vY a saída do
multiplicador, de forma que
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 155v
o=
v
x·vy
10
(14.23)
14.2 Divisão
Um divisor analógico pode ser obtido a partir de um multiplicador conforme apresentado
no circuito da Figura 14.5.
Figura 14.5: Circuito divisor.
v
x·vo
10
R
=
-v
y
R
(14.24)
v
x·vo
10
=-v
y
(14.25)
v
o=-10·
v
y
v
x
(14.26)
14.2.1 Raiz quadrada
Um extrator de raiz quadrada pode ser implementado a partir do circuito multiplicador
conforme apresentado na Figura 14.6.
Figura 14.6: Circuitos para o cálculo da raiz quadrada.
Para o circuito da esquerda, a tensão de entrada deve ser negativa pois
v
2o
10·R
=
-v
x
R
(14.27)
v
2o
=-10·v
x (14.28)
v
o=v-10·vx (14.29)
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 156Para o circuito da direita, que funciona com tensões de entrada positivas
v
o=10·
v
x
v
o
(14.30)
v
o=v10·vx (14.31)
14.2.2 Circuito conversor RMS-DC
Um conversor dito explícito de valor RMS para DC pode ser obtido pelo circuito da Figura
14.7 superior. Para o circuito da Figura 14.7 inferior o conversor é dito implícito.
Figura 14.7: Circuitos para o cálculo de valor efcaz.
Para o conversor explícito
v
oRMS=vT1·?
T 0
v
2x
(t )·dt (14.32)
Para o conversor implícito
v
oRMS=-
1
R·C
·?-vx
2
v
o
·dt (14.33)
Para o funcionamento do circuito acima é necessário que o AO esteja funcionando como
um integrador. Se isto acontecer a tensão efcaz, que é a tensão de saída deste circuito, é um valor
constante e pode ser retirada da integral.
v
2o
=
1
R·C
·?v x 2·dt vO 2 = R·1C·?v2X·dt (14.34)
v
o=vR·1C·?v2x·dt (14.35)
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 15715 Geradores de função
15.1 Introdução
Geradores de função são circuitos capazes de gerar formas de onda de tensão
(normalmente) em formatos variados e com baixa amplitude e potência. As formas de onda mais
comuns, disponíveis em quase todos os geradores são a senoidal, a triangular e a retangular.
Minimamente cada uma destas formas de onda tem aplicação na verifcação de resposta em
frequência, linearidade e resposta transitória respectivamente. Além destas, também são comuns
os pulsos, rampas, salvas (burst) e composição de funções. Em instrumentação estas formas de
onda encontram várias outras aplicações como a excitação de sensores, o sincronismo de sinais,
disparo de eventos e outros.
Existem integrados prontos para geradores de função. Exemplos são o MAX038, o ICL8038
e o XR2206. Estes integrados estão todos obsoletos. Um dos poucos circuitos que sobraram para
esta função foi o NTE864. Novos circuitos para estas funções utilizam técnicas digitais para a
geração de formas de onda assim como o AD5932 e o AD9833.
15.2 Osciladores harmônicos
Os osciladores harmônicos são circuitos lineares que produzem senoides com baixa
distorção harmônica. Para que eles funcionem é necessário que os polos da função de
transferência estejam sobre o eixo j?. Qando isto acontece a solução para a equação diferencial
que rege o circuito apresenta como solução uma senoide não amortecida. A teoria de sistemas
lineares diz que um sistema realimentado pode oscilar e a condição fundamental para que isto
ocorra é que o ganho de malha seja igual a -1?180o, ou seja, haja uma rotação de fase de 360o. Os
osciladores mais comuns nesta categoria são os de deslocamento de fase, Hartley e Colpits que
apresentam um giro completo de fase ou aqueles formados por sistemas com avanço e atraso de
fase como os osciladores em ponte de Wien e Sallen-Key.
Qando tentamos variar a frequência de oscilação de um oscilador harmônico o ganho de
malha frequentemente é afetado, e como consequência ele pode parar de oscilar ou distorcer o
sinal gerado. Para corrigir este problema é possível empregar um controle automático de ganho
(CAG). O CAG pode ser construído com circuitos a base de diodos para alterar o ganho do
amplifcador em função da amplitude da onda ou com circuitos onde uma tensão pode ser
controlada por outra, como nos multiplicadores ou OTA.
15.3 Osciladores não harmônicos
Osciladores não harmônicos são aqueles onde técnicas não lineares são empregadas para
produzir uma oscilação. Os modelos apresentados neste capítulo empregam comparadores e
integradores para gerar ondas quadradas e triangulares como apresentado no diagrama de blocos
da Figura 15.1. A saída de um comparador com histerese é entrada para um circuito integrador,
responsável por alterar a tensão de entrada do comparador, fazendo-o trocar de estado. Para
produzir sinais senoidais a saída triangular é distorcida por circuitos conformadores. A distorção
harmônica total é maior que no caso dos geradores harmônicos, mas o controle da forma de onda
(amplitude e frequência) é bem mais simples. Outras alternativas apresentadas são os PLL lineares
e os sintetizadores digitais.
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 158Figura 15.1: Diagrama esquemático de um oscilador não harmônico.
15.3.1 Gerador de onda retangular
Um dos geradores de onda retangular mais simples é apresentado na Figura 15.2. A saída
de um comparador com histerese é usada para carregar um capacitor e disparar o comparador
para o seu outro estado estável.
Figura 15.2: Gerador de onda quadrada.
Figura 15.3: Formas de onda do gerador de onda quadrada da Figura 15.2. Para este exemplo foram usados os seguintes
valores de componentes: R=10 kO, C=0,1 uF, R1=5 kO, R2=10 kO, Vcc=15 V. VH e VL são as tensões de comparação. Vom é
a tensão máxima de saída.
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 159Para calcular a frequência de oscilação do circuito basta determinar o tempo necessário até
que o capacitor se carregue com cada uma das tensões de comparação. O integrador deste circuito
apresenta perdas e a onda obtida sobre o capacitor não é perfeitamente triangular. Qando menor
for a histerese mais triangular será a onda sobre o capacitor.
V
H =V OM·
R
1
R
1+R2 (15.1)
V
LH =-V OM·
R
1
R
1+R2 (15.2)
Como
vC (t )=v 0+(v8-v0)·(1-e-t/ t) (15.3)
onde t é a constante de tempo, vo a tensão inicial e v8 a tensão fnal no capacitor (supondo que ele
pudesse se carregar eternamente). Então, o tempo para carregar o capacitor com vF é
T =-t·ln(vv88––vvF 0) (15.4)
Aplicando isto ao problema e considerando o início da oscilação com a menor tensão sobre
o capacitor, podemos calcular o tempo de carga do capacitor (T1)
v
8=V OM (15.5)
v
0=-V OM·
R
1
R
1+R2 (15.6)
v
F=V OM·
R
1
R
1+R2 (15.7)
T
1=-t·ln(1 1-+ R R1 1R R+ +1 1R R2 2) (15.8)
T
1=-t·ln(2·RR1+2 R2) (15.9)
T
1=t·ln(2·RR2 1 +1) (15.10)
e como o tempo de descarga (T2) é igual, pois o sistema é simétrico
T =2·R·C·ln(2·RR2 1+1) (15.11)
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 16015.3.2 Gerador de onda triangular
Um gerador de onda triangular com a mesma topologia apresentada anteriormente pode
ser obtido se o integrador for melhorado, conforme apresentado na Figura 15.4.
Figura 15.4: Gerador de ondas quadrada e triangular.
Figura 15.5: Formas de onda do gerador de ondas quadrada e triangular da Figura 15.4. Esta simulação foi realizada com
os seguintes valores de componentes: Ra=Rb=10 kO, Da=Db=1N4148, C=0,1 uF, R1=5 kO, R2=10 kO, Rz=1 kO, Vz=6,2 V.
VH e VL são os níveis de comparação.
O cálculo do circuito continua sendo realizado da mesma forma. É necessário determinar
as equações de carga e descarga do capacitor e as tensões de comparação. As equações podem ser
escritas para cada trecho da onda triangular separadamente.
v
oTRI (t )=-voQUA·R 1
a ,b·C
·t +v
oTRI (t 0) (15.12)
A saída do comparador se altera quando v+=0, e como
v
+
=
v
oQUA·R1+voTRI·R2
R
1+R2 (15.13)
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 161então a comparação ocorre quando
v
oTRI=-voQUA·
R
1
R
2
(15.14)
onde
v
oQUA=vZ +0,7 (15.15)
Assim, levando em conta que o capacitor inicia o ciclo carregado com seu menor valor, a
equação 15.12 pode ser reescrita para encontrarmos o tempo de carga do capacitor (T1)
+v
oQUA·
R
1
R
2
=v
oQUA·
1
R
a·C
·T
1-voQUA·
R
1
R
2
(15.16)
e o tempo para a carga do capacitor é
T
1=
2·R
1
R
2
·R
a·C (15.17)
Considerando que R=Ra=Rb, então T1=T2 e o período total da onda (T) é calculado como
T =
4·R
1·R·C
R
2
(15.18)
Algumas alterações simples podem ser feitas neste circuito permitindo o controle de
diversos parâmetros da onda. Alterações em Ra ou Rb alteram o duty cycle e a frequência da onda.
Para alterar apenas a frequência, sem modifcar o duty cycle, é possível usar o circuito da Figura
15.6.
Figura 15.6: Controle da frequência do gerador de ondas quadrada e triangular.
Considerando que R«PR (ou usando um bu?er para isolar os estágios)
v
oQUA' =x·voQUA (15.19)
onde 0=x=1, então o tempo de carga do capacitor pode ser recalculado como
+v
oQUA·
R
1
R
2
=x·v
oQUA·
1
R·C
·T
1-voQUA·
R
1
R
2
(15.20)
T
1=
2·R
1
R
2
·
R·C
x
(15.21)
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 162Desta forma o período total depende do recíproco de x
T
1=
4·R
1·R·C
R
2·x
(15.22)
Um OTA ou um multiplicador também podem ser utilizados para controlar a frequência do
oscilador em função de uma corrente ou tensão de entrada. Neste caso o circuito transforma-se
num oscilador controlado por tensão ou VCO. A Figura 15.7 mostra um exemplo com OTA.
Figura 15.7: Gerador de ondas quadrada e triangular usando OTA.
O equacionamento do problema é muito semelhante ao anterior porém a corrente
integrada pelo capacitor depende da tensão na entrada e da transcondutância do OTA. A
transcondutância pode ser controlada pela corrente de polarização IB. O integrado CA3086, por
exemplo, permite variar a transcondutância linearmente ao longo de 3 décadas (1.000 vezes) pela
simples alteração do valor de IB. Isto permite fazer um VCO de 10 Hz até 10 kHz sem nenhuma
outra alteração no circuito.
15.3.3 Gerador de rampa ou dente de serra
Rampas podem ser geradas com o uso de uma chave controlada por tensão (transistor)
para curto-circuitar o capacitor do integrador toda vez que a tensão de comparação for atingida.
Este curto circuito faz com que o tempo de descarga seja quase zero. Um exemplo pode ser visto
na Figura 15.8.
Figura 15.8: Gerador de onda dente de serra.
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 163Figura 15.9: Formas de onda do gerador de onda dente de serra. Para esta simulação foram usados os seguintes valores
para os componentes: R1=5 kO, R2=10 kO, Vref2=6 V, Vref1=-1 V, R=10 kO, C=0,1 uF, VCC=10 V, ChaveOn=200 O,
ChaveO?=1 MO.
Neste exemplo a chave fecha quando a tensão da onda quadrada é negativa.
v
subida=vREF 1·
1
R·C
·t (15.23)
v
descida=v REF 2·e
-t /(RchON·C) (15.24)
Uma outra possibilidade é mostrada na Figura 15.10. Note que este circuito também
apresenta uma chave para descarregar rapidamente o capacitor e um comparador para o
acionamento da mesma.
Figura 15.10: Gerador de onda dente de serra com um só amplifcador operacional.
Neste exemplo o comparador apresenta saída em coletor aberto, a chave fecha com
controle em zero e R4 muito maior do que R3, R2 e R1.
v
subida=
IC
·t (15.25)
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 164v
MAX=V·
R
3
R
1+R2+R3 (15.26)
v
MIN =V· (R2// R3)
R
4+(R2 //R3) (15.27)
v
descida=V·
R
3
R
1+R2+R3
·e
-t/(RchON·C)
(15.28)
15.4 Gerador de onda senoidal por conformação de triangular
Além dos geradores harmônicos uma forma simples de se obter uma onda senoidal é
através da conformação de uma onda triangular. Três alternativas para fazer isto são a utilização
da característica logarítmica de um par diferencial ou de circuitos com ganho variável
(construídos com diodos atuando como chave) e o uso funções matemáticas e de expansão em
séries. Filtros não costuma ser utilizados para esta tarefa pois não é fácil sintonizar um passa
faixas em diferentes frequências modifcando-se apenas um componente. Ademais, um gerador
em ponte de Wien é tão complexo quanto um fltro passa faixas. Estas e outras alternativas são
bem exploradas no Application Note AN263 - Sine Wave Generation Techniques da National
Semiconductor.
15.4.1 Conformação usando par diferencial
O amplifcador diferencial com transistores não pode ser considerado linear se o sinal
aplicado a sua entrada for de grande amplitude, ou seja, muito maior do que 25 mV. A Figura 15.11
mostra um par diferencial e a sua curva de tensão de saída versus entrada para tensões de entrada
até ±100 mV.
Figura 15.11: Característica logarítmica de par diferencial.
Nestes casos a corrente de emissor deve ser aproximada por
i
E=
12
·i
o·tanh[20·vi-40·iE·(RE+ RßB)] (15.29)
onde RB representa eventuais impedâncias da base.
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 165Considerando que as séries de Taylor para o seno e para a tangente hiperbólica são muito
semelhantes
Taylor [sen(x )]=x – x
3
3!
+
x
5
5!
-... (15.30)
Taylor [tanh (x )]=x-x
3
3
+
2·x5
15
-... (15.31)
essa característica não linear do par diferencial pode ser utilizada para transformar uma onda
triangular em uma aproximação para a senoide. Esta abordagem permite valores de tensão de
entrada da ordem de 200 mVpp com distorção harmônica total (THD) de 1 a 0,1%. Com circuito da
Figura 15.12 obtém-se 0,6% de distorção com o ajuste dos potenciômetros. O de 10 kO é utilizado
para ajuste de simetria e o de 5 kO para ajustar o formato da onda senoidal.
Figura 15.12: Circuito conformador de onda triangular em senoidal usando par diferencial.
15.4.2 Conformador com diodos
Um conformador com diodos pode ser construído de forma a chavear resistores que
modifcam a relação entre entrada e saída do conformador a cada novo chaveamento (Figura
15.13). O circuito comporta-se como se diferentes ganhos fossem aplicados ao sinal de entrada
dependendo da sua amplitude. Se a entrada é uma onda triangular ganhos cada vez menores são
aplicados a medida que a tensão de entrada aumenta (Figura 15.14). No exemplo da Figura 15.13,
onde V1, V2, V3 e V4 são tensões positivas, os diodos D1, D2, D3 e D4 estão normalmente cortados. A
medida que vi aumenta estes diodos gradativamente entram em condução criando um divisor
resistivo.
Este divisor resistivo atenua a transferência do sinal de entrada para a saída. Observando a
Figura 15.14 observa-se que a medida que os diodos entram em condução a inclinação da curva vo
contra vi diminui. A curva da Figura 15.14 deve ser construída de forma a transformar uma reta
(vi) numa aproximação de senoide (vo).
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 166Figura 15.13: Conformador com diodos.
A partir do desenho da tensão de entrada (triangular) e de saída (senoide) marcam-se os
pontos utilizados para aproximar a senoide por segmentos de reta. O processo é aproximado e
iterativo. Qando o erro se tornar grande um novo segmento deve ser utilizado. Uma vez
determinados os valores das ordenadas ou das abcissas calculam-se os valores faltantes, ou
determina-se tudo no processo.
Por exemplo, para uma onda triangular com tensão entre 0 e 9V é possível criar ¼ de
senoide com as tensões de saída estipuladas em 3,0, 4,2, 5,2, 5,8 e 6,0 V. Usando a equação 15.32
podemos calcular os valores de vi correspondentes. Se os pontos de quebra tivessem sido
determinados a partir da entrada então a equação 15.33 pode ser usada para determinar as tensões
de saída correspondentes.
Figura 15.14: Conformação de onda triangular para senoidal.
v
ix˜voMAX·sen
-1(vvoMAX ox ) (15.32)
v
ox=voMAX·sen(vv oMAX ix ) (15.33)
Os valores para as fontes de tensão devem ser obtidas a partir de vox descontando-se as
quedas de tensão sobre os diodos. Considerando-se uma queda de 0,6 V sobre os diodos as fontes
deveriam assumir os seguintes valores: V1=2,4 V, V2=3,6 V, V3=4,6 V, V4=5,2 V e V5=5,4 V. A
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 167implementação prática das fontes pode ser realizada com o divisor de tensão apresentado na
Figura 15.15.
Figura 15.15: Conformador com diodos para transformar onda triangular em senoidal.
Neste circuito R»RF (para que os resistores das fontes não interfram nas associações de
resistores do conformador). Alternativamente podem ser utilizados bu?ers para isolar as fontes do
circuito do conformador. A tensão de 10 V, em ambos os casos deve ser bem regulada.
Uma vez determinados os valores de tensão de entrada e saída para os pontos de quebra
(pontos de condução dos diodos) determinam-se os resistores. De maneira geral, quando os diodos
conduzem anexam mais um resistor ao circuito, transformando-o no equivalente da Figura 15.16
onde Ra=R e Rb é o paralelo dos resistores que estiverem conduzindo no momento (R1, R2, R3 e R4).
Figura 15.16: Circuito equivalente do conformador quando um diodo está conduzindo.
?v
i
? v
o
=1+
R
a
R
b
(15.34)
Para o primeiro segmento de reta
?v
i
? v
o
=1 (15.35)
Para o segundo segmento de reta
?v
i
? v
o
=
v
i 2-vi 1
v
o 2-vo 1
=1,167;
? v
i
? v
o
=1+ R
R
1
; R1=6·R (15.36)
Para o terceiro segmento de reta
?v
i
? v
o
=
v
i 3-vi 2
v
o 3-vo 2
=1,6 ;
? v
i
? v
o
=1+ R
R
1 // R2
; R1 // R2=1,67·R ; R2=2,31·R (15.37)
Para o quarto segmento de reta
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 168?v
i
? v
o
=
v
i 4-vi 3
v
o 4-vo 3
=2,5;
? v
i
? v
o
=1+ R
R
1// R2 // R3
; R1 // R2// R3=0,667·R ; R3=1,11·R (15.38)
Para o quinto segmento de reta
?v
i
? v
o
=
v
i 5-vi 4
v
o 5-vo 4
=7,5;
? v
i
? v
o
=1+ R
R
1// R2 // R3// R4
; R1 //R2 // R3// R4=0,154·R ; R4=0,2·R (15.39)
O circuito completo pode ser visto na Figura 15.17 e as tensões de entrada e saída na
Figura 15.18, que também mostra uma tensão senoidal pura para referência (o desenho mais
arredondado). Se as fontes de referência forem ideais ou forem isoladas com bu?ers a tensão de
saída fcará ainda melhor.
Figura 15.17: Conformador completo de onda triangular em senoidal usando diodos
Figura 15.18: Onda triangular, senoidal e senoidal obtida a partir da conformação de onda triangular.
Este circuito serve apenas para conformar o semiciclo positivo da senoide. Para obter a
senoide completa é necessário duplicar o circuito para o semiciclo negativo.
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 16915.4.3 Conformador por série de Taylor
Uma função do tipo sen(x) pode ser expandida em uma série de potências como a série de
Taylor. Cada elemento da série pode ser implementado eletronicamente resultando em uma boa
aproximação para a senoide. A expansão de Taylor para o seno é
Taylor [sen(x )]=x – x
3
3!
+
x
5
5!
-... (15.40)
que pode ser truncada nos dois primeiros termos com erro de aproximadamente 0,6%. Esta função
pode ser implementada com multiplicadores como na Figura
sen(x )˜x -x
3
6
(15.41)
Figura 15.19: Conformador de triangular para seno usando multiplicadores e expansão por série de Taylor.
A aproximação pode ser melhorada utilizando-se métodos de cálculo numérico. Uma
aproximação melhor para a série truncada, com erro da ordem de 0,23%, é apresentada em 15.42.
sen(x )˜x -x
2,827
6,28
(15.42)
Esta função precisa ser manipulada para que possa ser implementada com os circuitos
apresentados. Uma solução é mostrada em 15.43 cuja implementação em diagrama de blocos é
mostrada na Figura 15.20.
sen(x )˜x -x
2,827
6,28
=x -0,159124·e2,827·ln(x ) (15.43)
Figura 15.20: Conformador de onda triangular para senoidal usando expansão em séries.
Os circuitos mostrados aqui valem apenas para sinais positivos. Para contornar o problema
o circuito deve ser aumentado com o uso de retifcadores e amplifcadores inversores.
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 17015.5 Geração de senoides por síntese digital direta (DDS)
Hoje em dia uma das melhores maneiras de produzir um sinal senoidal de frequência
variável emprega circuitos conhecidos como Direct Digital Synthesis (DDS). No DDS os valores de
amplitude do sinal senoidal são gravados em memória (conversor fase amplitude na Figura 15.21)
que é endereçada por um contador (acumulador de fase na Figura 15.21). No caso da Figura 15.21 o
contador implementado é incrementado de acordo com a palavra de controle, assim é possível
controlar a frequência do sinal senoidal ajustando tanto a palavra de controle como o clock do
circuito. Em circuitos como este se obtém com certa facilidade frequências entre 1 Hz e 20 MHz
com incrementos de 0,004 Hz e THD menores do que 0,01%. Um fltro passa baixas pode ser
utilizado para melhorar a qualidade da senoide reconstruída. O cuidado com fltro passa baixas
nestes casos é que ele deve ter frequência de corte variável. Caso isto não aconteça a amplitude do
sinal senoidal diminui a medida que a frequência aumenta. Um bom texto sobre DDS é o A
Technical Tutorial on Digital Signal Synthesis da Analog Devices.
Figura 15.21: Diagrama em blocos de um DDS.
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 17116 Circuitos condicionadores para sensores reativos
16.1 Circuitos de medida
Para a leitura e condicionamento de sensores reativos é necessário ao menos uma
excitação de corrente alternada, sem a qual os capacitores se comportariam como circuito aberto e
os indutores como curto circuito. Se o sistema incluir conversores AD também é necessário
converter os sinais modulados de corrente alternada em sinais de corrente contínua, o que requer
demodulação, valor médio retifcado, valor RMS ou medida de valor de pico. Alternativamente
também é possível converter os valores de capacitância ou indutância em frequência ou largura de
pulso. As técnicas empregadas para o condicionamento de sinais de corrente contínua, descritos
no Capítulo 7, também são válidos para os sensores reativos, ou seja, utilizam-se medidas
tetrapolares, diferenciais e em ponte e todos os cuidados com cabos, temperatura, modo comum,
escolha dos componentes, estabilidade das referências continuam válidas. Ressalta-se que os
grandes problemas associados com os sensores capacitivos e indutivos são os valores das
impedâncias, e as capacitâncias parasitas dos cabos de interligação. Os indutores tendem a
apresentar impedâncias muito baixas e capacitores impedâncias muito elevadas. As capacitâncias
dos cabos associam-se com os sensores alterando a sensibilidade dos mesmos.
16.1.1 Circuitos em ponte
Circuitos em ponte, para medidas de nulo, similares a ponte de Wheatstone, estão
disponíveis para medidas de capacitores e indutores, mas não são discutidas aqui, por serem
métodos muito lentos e normalmente empregados em laboratórios para medidas de grande
exatidão. Estas são técnicas bem antigas, que requerem a alteração no valor dos componentes para
a obtenção do equilíbrio da ponte e geralmente não são utilizadas em processos automáticos. Para
medidas de capacitância podemos citar as pontes de razão de resistências, capacitores em paralelo,
Schering e De Sauty (Figura 16.1). Com exceção da De Sauty, utilizada para medidas de variação
de capacitância, todas as demais estimam o capacitor como uma associação RC série ou paralela.
Para medidas de indutância existem as pontes de indutâncias paralelas, Maxwell, Hay, Owen
(Figura 16.1) e Anderson. As pontes para medidas de indutância apresentadas estimam o indutor
como um circuito LC série ou paralelo. Finalizando a lista existem pontes para medidas de
indutância mútua como as pontes de Heaviside (Figura 16.1) e Heydweiller. Esta não é uma lista
completa, mas dá uma ideia da variedade e especifcidade dos circuitos em ponte.
Mesmo não sendo utilizadas para medidas de nulo circuitos em ponte continuam
apresentando características interessantes que os tornam uma alternativa de boa qualidade para
interfacear sensores capacitivos e indutivos. Com uma excitação em corrente alternada uma ponte
de capacitores, indutores ou resistores torna-se uma generalização da ponte de Wheatstone onde
cada braço da ponte é formado por uma impedância. Os mesmos arranjos podem ser feitos com as
mesmas sensibilidades, linearidades vantagens e desvantagens.
Sensores indutivos apresentam indutâncias da ordem de 1 a 100 mH e para evitar
impedâncias muito baixas emprega-se excitações com frequências de alguns kHz até alguns MHz.
Por isso, para medidas de variação de indutância a ponte pode ser formada por indutores e
resistores (Figura 16.2). Os indutores normalmente apresentam uma impedância baixa e um fator
de mérito razoavelmente elevado (baixa resistência) e os resistores uma resistência média. Assim,
pequenas variações de resistência no indutor tornam-se insignifcantes, o que permite o uso dos
resistores sem incorrer em erros signifcativos. A ponte também poderia ser formada por quatro
indutores iguais, mas esta não é uma situação comum.
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 172Figura 16.1: Algumas pontes para medidas de capacitância, indutância e indutância mútua. As capacitâncias ou
indutâncias sob medida são representadas pelos valores Cx e Lx em associação com Rx. Vs é uma fonte senoidal. Os
elementos variáveis representam os componentes usados para ajustar o equilíbrio da ponte.
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 173Figura 16.2: Circuitos em ponte para medidas de sensores diferenciais reativos. Cp são capacitâncias parasitas.
Sensores indutivos também sofrem com a capacitância dos cabos, como visto no Capítulo 9
e quando a seletividade do sensor não for elevada (a resistência é signifcativa) o sinal resultante
não está defasado 90o e a medida de fase pode se tornar importante.
Para as pontes capacitivas é possível usar resistores, principalmente se os sensores
apresentarem impedâncias baixas (capacitâncias elevadas), mantendo a ponte equilibrada com
impedâncias semelhantes entre os capacitores e os resistores. Se as impedâncias capacitivas forem
muito elevadas os valores das resistências podem ser da mesma ordem de grandeza das de outras
impedâncias parasitas ou indesejadas. Nestes casos pode-se lançar mão do uso de quatro sensores
capacitivos ou de transformadores. O uso dos transformadores com o terminal central aterrado
também reduz o efeito das capacitâncias parasitas do sensor para o terra (Figura 16.2) e não requer
amplifcação diferencial. A capacitância parasita entre terminais pode ser reduzida com blindagem
dos mesmos. Estas pontes são chamadas de Blumlein ou pontes com transformadores, mas não
funcionam bem para frequências muito altas devido as saturações e perdas no núcleo. Frequências
até 20 kHz são comuns, mas é possível chegar a 100 kHz ou mais com algum esforço. A escolha do
núcleo é fundamental para o trabalho nestas frequências elevadas. Por outro lado o uso de
transformadores permite a isolação galvânica da medida, quebrando laços de terra.
Sensores capacitivos costumam apresentar capacitância menor do que 500 pF o que requer
frequência de excitação que muitas vezes está entre 10 kHz e 100 MHz para que as reatâncias
tenham um valor razoável. O uso de frequências elevadas, entretanto, torna o projeto mais difícil.
A banda de passagem e capacitância de entrada dos amplifcadores, o efeito de linha de
transmissão, e outros efeitos parasitas ou indesejados são apenas uma amostra dos problemas
existentes. Por esta razão, as vezes é preferível trabalhar com frequências mais baixas e aceitar que
a impedância destes sensores é alta. Independente da frequência de excitação isto é
particularmente verdade para corrente contínua e para a frequência da rede elétrica. Para corrente
contínua a impedância muito elevada destes sensores requer resistências adicionais no circuito
para polarização dos AO que, por sua vez, precisam apresentar impedância de entrada muito
elevada. O uso de cabos blindados para reduzir o acoplamento de interferência é comum, mas isto
adiciona capacitâncias elevadas em paralelo com o sensor reduzindo a sensibilidade do mesmo e
aumenta sua não linearidade. Uma alternativa comum é a conexão da eletrônica de
condicionamento muito próxima do sensor usando cabos curtos e algumas vezes uma blindagem
ativa.
16.1.2 Circuitos para sensor simples ou diferencial
Para sensores capacitivos simples é possível empregar o circuito da Figura 16.3, onde Cx é o
elemento sensor e C
p são as capacitâncias parasitas, mas Cp1 e Cp3 não in?uenciam nas medidas
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 174(estão com tensão zero ou em paralelo com fontes de tensão). O resistor R1 evita que o ganho seja
infnito para corrente contínua e deve ser escolhido de forma que sua resistência seja muito maior
que a impedância de Cx na frequência de operação do circuito. Escolhendo R1 10 vezes maior que
impedância de Cx obtemos um erro de 0,5% no ganho e 6º na fase. O circuito da esquerda é
conhecido como amplifcador de carga, pois pequenas variações de carga em Cx são amplifcadas
por C1 (o resistor não deve ter in?uência no ganho). Neste circuito a capacitância Cp2 tem menos
in?uência sobre a tensão de saída pois a tensão sobre ele é igual à de Cp1. O circuito da direita
apresenta saída linear para variações de distância entre as placas do sensor capacitivo e o da
esquerda para variações de área ou permissividade. Os dois circuitos podem ser ampliados para
funcionar com uma topologia de amplifcador subtrator o que se assemelha a uma ponte aberta,
assim como na Figura 7.8, e também apresenta características de cancelamento de ruído.
Figura 16.3: Circuito de condicionamento para sensores capacitivos simples. Cp são capacitâncias parasitas, C1 o sensor.
Amplifcadores não inversores normalmente não são empregados pois as capacitâncias
parasita para terra degradam a impedância de entrada dos amplifcadores. Capacitâncias da ordem
de 3 pF, comuns entre terminais de um componente, em 1 MHz apresentam impedância da ordem
de 50 kO. Soquetes para os integrados, disposição das trilhas em uma placa de circuito impresso, e
cabos reduzem ainda mais esta impedância. Nos circuitos inversores a impedância de entrada não
é degradada pelas capacitâncias parasitas, mas a faixa de passagem pode fcar comprometida.
Resistores de alguns MO que apresentam capacitância entre terminais de 1 pF podem reduzir a
banda de passagem a algumas centenas de kHz. O aumento da capacitância de entrada de
amplifcadores inversores também podem levar a oscilações (devido a realimentação a saída do
AO deve ser capaz de carregar rapidamente estes capacitores). Assim, a banda de passagem pode
fcar limitada não apenas pelo slew rate e pelo produto ganho faixa, mas também pela
capacitância. De um modo geral a maior frequência de trabalho para um AO pode ser estimada
como
f MAX= SR
2·p·V
MAX
(16.1)
Para medidas diferenciais, de distância entre placas, pode ser utilizado um simples divisor
de tensão ou o circuito da Figura 16.4 para obtenção de uma relação linear entre tensão de saída e
distância. Considerando que a tensão va é aquela entre os capacitores C1, C2 e C3, então
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 175Figura 16.4: Circuito para medidas de capacitâncias diferenciais.
j·?·C 1·(va-vi )+ j·?·C3·va+ j·?·C 2·(va– (-vi ))=0 (16.2)
v
a=vi·
C
1– C2
C
1+C 2+C 3 (16.3)
v
o=vi·
C
1 – C2
C
1+C 2+C 3
·
C
3
C
4
(16.4)
16.2 Blindagem
Sensores capacitivos costumam ter impedância tão elevada que as capacitâncias parasitas e
do ambiente tem in?uência signifcativa no desempenho do sensor. Como estas capacitâncias
mudam com o movimento relativo do sensor eles costumam ser blindados, ou seja, envoltos em
uma caixa metálica lacrada que se conecta a um dos terminais do sensor (Figura 16.5). Assim, a
capacitância do outro terminal para a blindagem é constante. Esta estratégia funciona bem se o
terminal conectado a blindagem for aterrado, caso contrário a capacitância parasita para o terra
pode afetar a medida. Um sistema de dupla blindagem, com uma segunda caixa não conectada a
nenhum terminal pode ser utilizado para os casos onde nenhum terminal do sensor é aterrado. A
segunda caixa é aterrada de forma que tanto a capacitância para a blindagem quanto a
capacitância para o terra são mantidas constantes, afetando apenas a sensibilidade do sensor (o
mensurando só afeta a capacitância do sensor que é apenas uma parcela da capacitância total).
Uma alternativa para reduzir o efeito destas capacitâncias é aumentar o potencial das caixas para
um valor próximo ao do condutor, assim a tensão sobre as capacitâncias parasitas é nula e o efeito
delas também. Esta técnica se chama blindagem ativa e requer um amplifcador adicional para
elevar o potencial da blindagem. A Figura 16.6 mostra como isto é feito em cabos coaxiais. O
modelo para análise leva em conta as impedâncias de entrada do amplifcador (diferenciais e de
modo comum) e seu ganho fnito. Considerando-se as impedâncias de modo comum iguais,
observa-se que a impedância de entrada do circuito com blindagem ativa continua dependendo da
capacitância de cabos (ZCp) porém agora a impedância é multiplicada pelo ganho de malha aberta
do amplifcador operacional (16.8).
v
a·(Z1s + Z1Cp + Z1d + Z1C)-Zvss – vo·(Z1Cp + Z1d)=0 (16.5)
v
o=Ad·(va-vo) (16.6)
i
s=
v
s – va
Z
s
(16.7)
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 176v
s
i
s
=(Ad+1)·(Zd //Z Cp // ZC ) (16.8)
Figura 16.5: Capacitor com uma e duas blindagens (caixas com linhas tracejadas). Cx é o sensor. Cs são as capacitâncias
para as blindagens e Cg as capacitâncias para o terra.
Figura 16.6: Blindagem ativa de cabos. Acima e a esquerda blindagem passiva, a direita blindagem ativa, abaixo modelo
para blindagem ativa. Vs e Zs são o equivalente Tévenin do sensor e sua alimentação, Cp é a capacitância de cabo. Zd é a
impedância diferencial de entrada do amplifcador e Zc e Zc são as impedâncias de modo comum das entradas negativa e
positiva do amplifcador operacional.
O resultado da blindagem ativa depende diretamente do ganho de malha aberta do AO e da
sua banda de passagem, quanto maiores menor serão os efeitos da capacitância parasita dos cabos.
A impedância de saída do AO associada a capacitância parasita na entrada negativa do AO produz
um fltro que atrasa a realimentação negativa do bu?er. Com isto a realimentação positiva para a
blindagem pode oscilar. Para evitar este problema é comum realimentar apenas uma fração de vo
para a blindagem (um divisor de tensão e um outro bu?er costumam resolver o problema).
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 17716.3 Demoduladores
Demoduladores são circuitos que vão transformar os sinais alternados da excitação (?p), e
que foram modulados em amplitude pelo sensor, no sinal original de baixa frequência (Figura
16.7). Para que tudo funcione de forma correta a maior frequência não desprezível do sinal de
entrada (?m) deve ser menor que a frequência da portadora, ou seja, da excitação. Na prática, para
se obter um sinal com baixo ripple ao fnal do processo, ?p deve ser umas 10 vezes ou mais o valor
de ?m. Se for importante a informação de fase então a demodulação deve ser síncrona caso
contrário circuitos que calculam o valor médio retifcado, RMS ou valor de pico podem ser usados.
Com a demodulação síncrona é possível obter a fase do sinal, que pode indicar o sentido do
mensurando, como no caso do LVTD.
O processo de demodulação consiste basicamente da multiplicação do sinal modulado por
um sinal sincronizado com a excitação. Circuitos que fazem isto são, por exemplo, o AD598 e
AD698 da Analog Devices (Figura 16.8) e o 5521 da Signetics. Os dois circuitos da Analog Devices
apresentam um oscilador para alimentar o transdutor, um demodulador para detectar a envoltória
do sinal de saída e um fltro para suavizar o sinal de saída. O AD598 apresenta também uma
estratégia de demodulação que emprega a medida da subtração e da soma das tensões no sensor
diferencial. Esta estratégia torna a demodulação mais insensível a variações de temperatura,
corrente e frequência de excitação.
Os demoduladores também podem ser construídos com componentes discretos. Neste caso
a estabilidade e baixa distorção do sinal de excitação são importantes. Para esta tarefa podem ser
utilizados osciladores com DDS ou circuitos específcos para interface com sensores reativos como
o AD2S99 da Analog Devices ou o 4423, da Burr Brown, e os SWR200 e SWR300 da Taler que
geram senos e cossenos em frequências selecionáveis. A demodulação propriamente dita pode ser
realizada por qualquer circuito multiplicador e um fltro passa baixas para o cálculo do valor
médio do sinal. Para simplifcar a etapa de multiplicação é muito comum transformar o sinal
senoidal do oscilador em uma onda quadrada. Desta forma o sinal modulado é multiplicado por +1
ou por -1, o que pode ser implementado por chaves que comutam circuitos de ganho, ou por
circuitos retifcadores de precisão onde os diodos que fazem a retifcação são substituídos por
chaves. Desta forma a pseudo retifcação é feita no semiciclo positivo ou negativo. Um exemplo
deste demodulador empregando chaves é o AD630 da Analog Devices.
Figura 16.7: Modulação e demodulação de sinais.
Instrumentação e Técnicas de Medida – UFRJ, 2015/2
t
t
t
?
?
?
Modulador
Sinal
Oscilador
Demodulador
t ?
t
Sinal
?
?
p
?
p
2?
p
?
m
?
m
?
p
178Figura 16.8: Circuitos integrados para condicionamento de sinais de LVDT.
Para os casos onde se deseja medir o ângulo de fase de uma impedância é possível usar
demoduladores em quadratura (Figura 16.9). Neles o oscilador do demodulador deve estar em fase
ou 90º defasado do oscilador que excita os sensores. O sinal obtido na saída do demodulador
corresponde, então, ao sinal em fase e quadratura ou parte real e imaginária de uma impedância.
Alternativamente é possível empregar um circuito série de uma impedância desconhecida com
uma resistência conhecida. A tensão sobre as duas impedâncias é medida. Uma serve como
referência de corrente a outra de tensão. A demodulação, neste caso pode ser feita digitalmente.
Figura 16.9: Diagrama em blocos de um demodulador em quadratura.
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 17917 Transdutores autogeradores
17.1 Transdutores termoelétricos
Em 1822 Seebeck descobriu que dois metais diferentes conectados em um circuito com as
junções em temperaturas diferentes (Figura 17.1), é percorrido por uma corrente elétrica. Se o
circuito for aberto uma diferença de potencial aparece entre os terminais. A força eletromotriz de
Seebeck, responsável pela corrente circulante depende dos tipos dos metais envolvidos e é
aproximadamente proporcional a diferença de temperatura entre as duas junções. O coefciente
Seebeck SAB defne que a diferença de potencial em função da temperatura dependa da diferença
de potencial termoelétrico (SA e SB) tal que
S
AB=
dV
AB
dT =SA-SB (17.1)
Figura 17.1: Efeito Seebeck.
Peltier, em 1834, demonstrou o efeito inverso, introduzindo uma bateria no circuito
composto por dois metais diferentes e observando que o calor era absorvido em uma das junções e
irradiado na outra (Figura 17.2). Invertendo-se a polaridade da bateria invertem-se as junções que
absorvem e irradiam calor. Tal efeito é a base da refrigeração Termoelétrica e é empregado em
coolers de microprocessadores e geladeiras automotivas, por exemplo. O coefciente de Peltier (pAB)
é defnido como a variação de calor (Q) gerado na junção para cada unidade de carga ?uindo por
ela (17.2).
dQp=pAB·I·dt (17.2)
Relacionando os efeitos Seebeck e Peltier pode ser mostrado que pAB(T)=T·(SB–SA).
Figura 17.2: Efeito Peltier.
Instrumentação e Técnicas de Medida – UFRJ, 2015/2
T2 T1
i
Material A
T2>T1 Material B
Calor Calor
Absorvido Liberado
Material A
Material B
+V-
180Entre 1847 e 1854, William Tomson descobriu que um condutor, que atravessa um
gradiente de temperatura, ao ser percorrido por corrente elétrica pode aquecer ou esfriar e que
este efeito era proporcional a corrente elétrica passando pelo fo. O aumento ou redução da
temperatura dependem do sentido dos ?uxos de calor e corrente. Qando estão em sentido oposto
o calor é absorvido. O ?uxo de calor por unidade de volume (q) em um condutor de resistividade ?
que sofre um gradiente de temperatura dT/dx por onde passa uma corrente com densidade J é
q=J 2·? – J·s·dT
dx (17.3)
Os efeitos Seebeck, Peltier e Tomson são reversíveis e se a corrente circulando pelos
condutores metálicos for nula ou muito baixa o efeito Joule nos fos pode ser desconsiderado. Os
três efeitos se complementam e formam as bases da termoeletricidade. Assim a forma mais
simples de usar estes efeitos para medida de temperatura consiste no termopar, um arranjo onde
dois metais homogêneos e diferentes apresentam uma ou duas junções (Figura 17.3)
Figura 17.3: Uso simples de um termopar.
A relação entre tensão nos terminais do termopar e diferença de temperatura entre as
junções não é linear e pode ser aproximada por (17.4) onde a e ? são constantes associadas ao tipo
de termopar e as temperaturas T2 e T1 são absolutas (K).
V =a·(T 2 – T 1)+?·(T 2 2-T 1 2) (17.4)
Normalmente o valor de ? não é tão elevado, de modo que para uma boa faixa de
temperatura o comportamento pode ser descrito como praticamente linear. A sensibilidade do
termopar, para uma dada temperatura T2 é dada por (17.5)
S= ? V
?T
2
=a+2·?·T 2 (17.5)
Para a escolha dos materiais que formam os termopares comerciais considera-se que o
valor de ? deve ser baixo, os metais devem ser resistentes a oxidação, mesmo em altas
temperaturas e devem ter baixa variação de resistividade com a temperatura. Isto limita as
possibilidades de metais ou ligas. A escolha do tipo de termopar deve ser feita em função da faixa
de uso, da linearidade e do ambiente (agressivo ou não). De um modo geral os termopares
apresentam uma boa estabilidade temporal, confabilidade, são mais exatos do que os RTD para
baixas temperaturas. O pequeno tamanho permite respostas temporais rápidas, da ordem de mili
segundos, não sofrem com autoaquecimento e podem ter fos longos sem maiores problemas.
Os tipos de termopares são dependentes das ligas metálicas usadas para sua fabricação,
onde normalmente o primeiro elemento do par corresponde ao elemento positivo. Observa-se que
existem diferentes normas com código de cores diferentes para termopares iguais e isto causa
Instrumentação e Técnicas de Medida – UFRJ, 2015/2
T2 T1
+VT2 T1
+ V -
181alguns problemas. A melhor maneira de se referir aos termopares é pelo seu nome (letra) ou pelos
materiais dos quais é feito. Sua caracterização normalmente é feita com tabelas de diferenças de
temperatura e correspondentes valores de tensão. Normalmente a temperatura de referência T1
corresponde a 0 ?. Para os pontos não tabelados é necessário interpolar. Alguns fabricantes
fornecem os valores de a e ? e, as vezes, de outros coefcientes para polinômios de maior grau. Na
Tabela 17.1 são apresentados alguns termopares com seus respectivos coefcientes a e na Figura
17.4 os códigos de cores para as diferentes normas.
Tabela 17.1: Características de alguns termopares.
Nome Material Faixa
(?)
Sensibilidade
(µV/?) Erro
B Platina 30% Rodio/
Platina 6% Rodio
[0,1.800] 3 0,5%
E Cromel/Constantan [-200, 1.000] 63 ±1,7 ? ou 0,5%
J* Ferro/Constantan [-200, 900] 53 ±2,2 ? ou 0,75%
K* Cromel/Alumel [-200,1.300] 41 ±2,2 ? ou 0,75%
N Nirosil/Nisil [-200/1.300] 28
R Platina/Platina 13% [0 1.400] 6 ±1,5 ? ou 0,25%
S Platina/Platina 10% [0 1400] 6 ±1,5 ? ou 0,25%
T* Cobre/Constantan [-200, 400] 43 ±1 ? ou 0,75%
Os tipos mais comuns são J, K e T
Como os termopares são medidores de temperatura diferencial é necessário defnir ou
medir a temperatura de referência. Isto pode ser feito colocando-se uma das junções em uma
temperatura conhecida (por exemplo, gelo) ou medindo a temperatura de junta fria com outro
medidor de temperatura. A princípio isto pode não fazer sentido, mas os termopares podem ser
utilizados para medidas de temperaturas elevadas que não seriam possíveis com outros medidores.
Os circuitos mais simples para a medição podem ser vistos na Figura 17.5. A tensão do
transdutor é aquela estabelecida somente entre os metais contidos entre a região quente (T2) e a
região que defne a temperatura de referência T1 (normalmente o banho ou a posição onde o
sensor de junta fria é colocado). A partir daí dois condutores de cobre levam tal tensão para o
voltímetro (que é considerado estar na temperatura ambiente). Nesta condição a tensão medida
pelo voltímetro é proporcional a diferença de temperatura T2-T1.
Para medidas distantes estão disponíveis extensões. Estas extensões são fabricadas com os
mesmos materiais dos termopares e devem ser ligadas respeitando-se a polaridade dos mesmos,
ou seja, materiais iguais devem ser ligados juntos. Também estão disponíveis conectores
específcos para placas de circuito impresso e gabinetes.
Algumas vezes os termopares são conectados em série (sempre entre as mesmas
temperaturas de junta fria e quente) para aumentar a sensibilidade do transdutor, ou em paralelo,
(com a mesma temperatura de junta fria, mas em diferentes temperaturas de junta quente) o que
permite a medida de uma temperatura média de junta quente. Nestes casos os termopares devem
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 182ser iguais e com a mesma resistência. Para a maioria das aplicações, entretanto, o modelo do
termopar é apenas uma fonte de tensão controlada por temperatura.
Figura 17.4: Nome, composição, código de cores e erro de alguns termopares.
T2 T1 Tamb
T1 0 ºC Tamb
Figura 17.5: Formas de utilização de termopares.
17.2 Transdutores Piezoelétricos
Outro tipo bastante utilizado de transdutor passivo é o transdutor piezoelétrico, que
produz um sinal elétrico de saída quando excitado mecanicamente. Além disto, estes transdutores
são recíprocos o que signifca que se for aplicada ao transdutor uma certa tensão elétrica eles são
capazes de produzir uma vibração mecânica. Devido a esta característica, tais transdutores podem
ser utilizados como microfones, acelerômetros, sensores de pressão, sensores ultrassônicos e
outros.
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 183A piezoeletricidade é um fenômeno associado a geração de cargas elétricas na superfície de
um material quando a ele é aplicada uma certa tensão mecânica capaz de deformá-lo, ou a
correspondente mudança da forma do material quando uma certa tensão elétrica é aplicada em
algumas de suas superfícies (Figura 17.6). Os primeiros materiais piezoelétricos estudados foram o
quartzo, a turmalina e os sais de Rochelle. Os materiais piezoelétricos são sempre materiais
anisotrópicos, boa parte apresenta estrutura cristalina, mas os materiais sintéticos são cerâmicas
como o titanato de bário, o titanato de zircônio e o titanato zirconato de chumbo ou PZT, e alguns
polímeros como o polivinilo de ?úor ou PVDF. A piezoeletricidade é, então, uma maneira de
converter energia mecânica em energia elétrica, e vice-versa.
Em capacitores comuns o dielétrico obedece a lei de Hook (17.6), em termos mecânicos,
que relaciona deformação (S) com tensão (T) por meio da constante de elasticidade ou módulo de
Young (Y0), e quando uma tensão é aplicada às suas placas estabelece um campo elétrico (E) cujo
deslocamento elétrico (D) é (17.7)
S= 1
Y
0
·T (17.6)
D =e·E (17.7)
Em materiais piezoelétricos, por sua vez, há uma contribuição na deformação mecânica
gerada pelo campo elétrico, assim como uma contribuição na densidade de ?uxo gerado pela
tensão mecânica. Estas interações ocorrem por meio da constante piezoelétrica (dp) tal que
S= 1
Y
0
·T +dp·E (17.8)
D =e·E +dp·T (17.9)
Figura 17.6: Estrutura cristalina de um sensor piezoelétrico e seu comportamento quando deformado em duas direções.
Umas das formas mais simples de modelar um transdutor piezoelétrico é considerar que
ele é primariamente um capacitor com dielétrico polarizável e que se deforma. Assim, este sensor
apresenta uma parte elétrica equivalente a um capacitor e uma parte mecânica que se movimenta.
A parte mecânica pode ser modelada como um sistema massa mola amortecedor cujo análogo
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 184elétrico é um circuito RLC série. Desta forma um sensor piezoelétrico pode ser primeiramente
modelado como o circuito da Figura 17.7.
Figura 17.7: Modelo equivalente de um sensor piezoelétrico.
Z
AB=
1
j·?·C E
//(RM + j·?1·C M + j·?·LM) (17.10)
Z
AB=
R
M + j·(?·LM – ?·1CM)
1-?2·LM·C E+
C
E
C M
+ j·?·R M·CE
(17.11)
Z
AB=
R
M + j·(?·LM – ?·1CM -?3·L2M·C E+ 2·?·CLMM·C E – ?C ·CE M 2 -?·R2·C E)
C
2E
C
2M
+1-2·?2·L
M·C E+
2·C
E
C
M
+?2·R
2M
·C
2E
-
2·?·L
M·C E 2
C
M
+?4·L
2M
·C
2E
(17.12)
que apresenta duas ressonâncias, uma série (dependente de CM e LM) e outra paralela (dependente
de CE, CM e LM). Para determinar as ressonâncias basta igualar a parte imaginária de ZAB à zero
?
2
·LM·CM 2 – C M-?4·LM 2 ·C2M·CE +2·?2·LM·C M·C E– C E-?2·RM·C M·CE=0 (17.13)
considerando que a resistência RM é baixa a solução para a equação biquadrática é
?
2A
=
1
L
M·C M
+
1
L
M·CE (17.14)
?
2R
=
1
L
M·C M (17.15)
cuja curva em frequência pode ser vista na Figura 17.8.
Observa-se que para baixas e altas frequências o sensor piezoelétrico se comporta como
um capacitor e para frequências intermediárias apresenta duas ressonâncias. Para a maioria das
aplicações o sensor será usado nas frequências abaixo da ressonância, mas para osciladores e
aplicações em ultrassom, por exemplo, deseja-se justamente a ressonância. Mesmo com um
comportamento predominantemente capacitivo, em baixas frequências, as perdas não são nulas e
o sensor acaba se descarregando e não sendo utilizado em corrente contínua. As características do
sensor são dependentes da temperatura e desaparecem acima da temperatura de Curie de cada
material (que está na ordem de 150 a 700 ?). Como a impedância do sensor normalmente é muito
alta (baixo valor de capacitância e elevada resistência de perdas) costuma ser necessário o uso de
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 185amplifcadores especiais como os eletrômetros ou amplifcadores de carga. Sensores piezoelétricos,
entretanto, costumam ser muito sensíveis (chegam a ser 1.000 vezes mais sensíveis do que um
strain gauge), são de baixo custo, dimensões reduzidas, respondem em frequências elevadas e
podem ser construído de forma a responder a estímulos em direções bem defnidas o que os torna
interessantes para medidas de vibração, força e pressão.
Figura 17.8: Resposta em frequência de um sensor piezoelétrico.
Como sensor, atuando em baixas frequências, e comportamento majoritariamente
capacitivo (C), pode-se considerar que há uma geração de cargas (q) proporciona a aplicação de
uma força (F) tal que
q=dp·F (17.16)
onde dp é a constante piezoelétrica (C/N), e
V = q
C
(17.17)
O modelo que representa este comportamento corresponde a uma fonte de corrente
(interação mecânica) em paralelo com um capacitor. As perdas do capacitor são representadas por
um resistor de valor elevado em paralelo (Figura 17.9). No modelo com fonte de corrente ela é
calcula como a derivada da carga, o que não é comum em eletrônica e frequentemente causa
confusão naqueles que não estão acostumados. Uma alternativa mais intuitiva, do ponto de vista
matemático, transforma o modelo Norton no Tevenin com uma fonte de tensão em série com o
capacitor.
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 186Figura 17.9: Modelo de sensor piezoelétrico.
17.3 Transdutores fotovoltaicos
Junções semicondutoras de materiais tipo P e tipo N apresentam uma região de
recombinação de cargas, devido a difusão de portadores, onde os elétrons livres do material N
migram para o material P e lacunas do material P passam a existir em abundância no material N.
Estes íons negativos na região P e positivos na região N criam um campo elétrico que se opõe a
difusão. Desta forma a junção alcança um equilíbrio dinâmico e cessam as migrações de
portadores, ou seja, de corrente na junção. O efeito fotovoltaico consiste no aparecimento de uma
diferença de potencial na junção quando esta é exposta a radiação eletromagnética com energia
superior à da barreira de potencial, o que ioniza a região de depleção criando novos pares de
portadores. Esta tensão de circuito aberto ou, alternativamente, a corrente de curto circuito do
dispositivo aumentam com o aumento da intensidade de radiação até uma saturação.
Para que o efeito fotovoltaico exista é necessário que exista uma barreira de potencial.
Além dos semicondutores existem outras formas de criar esta barreira mas os semicondutores são,
sem dúvida, a forma mais comum. Dependendo do comprimento de onda são utilizados materiais
diferentes e, algumas vezes, camadas extras de semicondutores não dopados são empregadas para
melhorar o desempenho do sensor. Filtros e lentes óticos também são empregados. Os sensores
fotovoltaicos são mais lineares, mais rápidos e apresentam menos ruído do que os fotocondutores,
mas para cargas de impedância alta a linearidade diminui e o tempo de resposta aumenta.
Fotodiodos funcionam pelo mesmo princípio das células fotovoltaicas, mas são
modifcados internamente e otimizados para trabalhar com polarização reversa da ordem de 5 a
30 V, normalmente. Isto alarga a região de depleção e permite uma resposta mais rápida do sensor,
uma vez que os portadores criados na região de depleção são acelerados e rapidamente coletados
nos terminais. Fotodiodos especiais, de avalanche, são ainda mais sensíveis, mas frequentemente
requerem ajustes individuais de polarização. Atuando desta maneira, com uma polarização reversa
sobre o diodo, formalmente o sensor deixa de ser fotovoltaico e passa a ser fotocondutivo. Na
Tabela 17.2 são apresentadas as principais diferenças entre os dois modos de operação.
O modelo de um fotodiodo é apresentado na Figura 17.10. O resistor Rsh representa a
impedância CC do fotodiodo podendo variar de centenas de kO até centenas de GO. Esta
resistência diminui pela metade a cada aumento de 10 ? na temperatura do diodo. Cj é a
capacitância da junção que assume valores da ordem de 50 pF para diodos de pequena área até
300 pF para diodos de área grande. Assim, a impedância do fotodiodo varia com a frequência
sendo determinada pela resistência em baixas frequências e pela sua capacitância em frequências
elevadas.
A corrente de curto circuito gerada por um fotodiodo, no modo fotovoltaico, pode ser
muito pequena mas pode variar signifcativamente em função da intensidade de luz sobre o
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 187fotodiodo sendo linear numa faixa de 6 a 9 décadas de intensidade de luz. A Tabela 17.3 apresenta
valores para o diodo SD-020-12-001, cuja sensibilidade é de aproximadamente 0,03 µA/fc (fc
signifca foot-candles ou pé candela) tem área de 0,2 mm2, Cj=50p F, Rsh=1 GO @ 25 ? e máxima
corrente de saída linear de 40 µA.
Tabela 17.2: Diferenças entre os modos fotovoltaico e fotocondutivo
Fotovoltaico Fotocondutivo
Sem polarização do diodo Com polarização reversa do diodo
Sem corrente de escuro Com corrente de escuro
Linear Não linear
Baixo ruído (Térmico) Alto ruído (Térmico + Shot)
Aplicações de precisão Aplicações que requerem velocidade
Figura 17.10: Modelo de um fotodiodo. A fonte de corrente inclui a corrente de sinal e de ruído. No modo fotocondutivo I
corresponde a corrente de sinal e ruído subtraída da corrente de escuro.
Tabela 17.3: Correntes de curto circuito para o fotodiodo sd-020-12-001 (Sensor signal conditioning, Analog Devices)
Sensação Luminosa Iluminação Corrente de curto circuito
Luz do sol 1.000 fc 30 µA
Nublado 100 fc 3 µA
Crepúsculo 1 fc 0,03 µA
Lua cheia 0,1 fc 3000 pA
Noite clara 0,001 fc 30 pA
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 18818 Ruído e incertezas
Ruído elétrico é todo o tipo de perturbação que se sobrepõe a uma informação elétrica.
Para evitar confusão, a partir deste momento, a palavra sinal passa a representar a informação útil
ao passo que a palavra ruído será utilizada para referenciar qualquer tipo de perturbação elétrica
sobre um determinado sinal. O ruído elétrico nos operacionais se deve ao ruído inerente a cada
dispositivos que o compõe (transistores, resistores, etc.).
Existem várias formas de ruído elétrico sendo que cada uma destas formas está associada a
algum evento físico ou a alguma característica de confecção do componente. A seguir, são listados
os principais tipos de ruído, suas fontes e seus efeitos e sua representação. A Texas Instruments
tem dois bons textos sobre o assunto, o Op Amp Noise Teory and Applications e o Noise Analysis
In Operational Amplifer Circuits.
18.1 Ruído térmico
Este ruído é causado pela agitação térmica dos elétrons em uma resistência. O ruído
térmico é constante ao longo de todo o espectro de frequências e no osciloscópio apresenta um
formato semelhante ao da Figura 18.1. Por conter todas as frequências este ruído também é
chamado de ruído branco. A tensão efcaz gerada pelo ruído térmico pode ser calculada com a
equação 18.1.
V T RMS=v4·k·T·B·R (18.1)
onde k é a constante de Boltzman (1,38·10-23 J/K), T é a temperatura em Kelvin, B é a banda
passante em Hz e R é a resistência em O.
Figura 18.1: Aparência do ruído térmico.
18.2 Shot noise
Este ruído está associado com uma corrente ?uindo através de uma barreira de potencial.
Isto signifca que ele é formado pela ?utuação instantânea de corrente elétrica, causada pela
emissão aleatória de elétrons e lacunas. Schotky, em 1918, mostrou que este ruído tem densidade
de potência constante com a frequência e que pode ser estimado conforme (18.2).
I
SN RMS=v2·q·I CC·B (18.2)
onde q é a carga do elétron (1,6·10-19 C), ICC é a corrente média em Ampere e B é a banda passante
em Hz.
18.3 Ruído de contato
Também conhecido por Excess Noise, Flicker Noise, ruído 1/f e ruído de baixa frequência, o
ruído de contato é causado, dentre outras coisas, pela variação da condutividade devido ao contato
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 189imperfeito entre dois materiais (por exemplo, silício e alumínio). Este tipo de ruído aparece
sempre que existe junções entre materiais de qualquer tipo, como em semicondutores, chaves e
pontos de solda, e está sempre associado a passagem de corrente elétrica. A equação 18.3 mostra a
intensidade da corrente que modela este ruído.
I
f RMS=
KM·I CC·vB
v f (18.3)
onde KM é uma constante que depende do material, ICC é a corrente média em Amperes, B é banda
passante em Hz e f é a frequência.
Nota-se que o ruído de contato aumenta com a diminuição da frequência o que pode
torná-lo preponderante nesta região, porém, se a corrente for mantida baixa o ruído térmico pode
ser tornar dominante. A Figura 18.2 mostra a aparência deste ruído no osciloscópio. Para dois
resistores de 1 kO, um de carbono e outro de fo, o ruído térmico é o mesmo e proporcional a
resistência. Porém, com a passagem de corrente elétrica o resistor de carbono apresenta mais
ruído que o resistor de fo devido a variação de condutividade no contato imperfeito do resistor.
Figura 18.2: Aparência do ruído 1/f no osciloscópio.
18.4 Soma de ruídos
Várias são as fontes de ruído e todas podem estar presentes ao mesmo tempo em um
mesmo circuito. Qando isto ocorre e os ruídos não são correlacionados, ou seja, são
independentes, a soma das fontes de ruído produz uma potência total que é igual a soma da
potência de cada fonte, de acordo com a equação 18.4. Em outras palavras o ruído RMS total é
obtido pela raiz quadrada da soma dos quadrados dos demais ruídos RMS (18.5). Isto acontece
porque o valor RMS de um ruído de média zero corresponde ao desvio padrão da sua distribuição
de probabilidade (Figura 18.3) e ruído nada mais é do que uma incerteza. Algumas vezes,
entretanto, é mais fácil obter o valor pico a pico do ruído. Nestes casos, é comum dividir este valor
por 6 para se obter uma informação RMS de corrente ou tensão (Figura 18.3).
Figura 18.3: Relação entre ruído de pico a pico e RMS.
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 190P
Tot =P 1+P 2+...+P n (18.4)
V
Tot (RMS )=vV 1 2 RMS+V 2 2 RMS+...+V nRMS 2 (18.5)
18.5 Espectro de ruído
Para outros dispositivos ou amplifcadores um gráfco de ruído equivalente pode ser
construído com auxílio de fltros passa faixa sintonizados ou de processamento digital de sinais. A
representação do ruído sempre é feita no domínio da frequência.
A curva de tensão e corrente de ruído para um AO típico é mostrada na Figura 18.4.
Nota-se as unidades nV/vHz e pA/vHz para cada frequência específca. Se desejarmos conhecer o
ruído para uma faixa de frequências basta integrar este ruído na faixa de frequência desejada.
Observe também que há um ruído 1/f preponderante para as baixas frequências, mas que fca
praticamente constante a partir da chamada frequência de corte. Qando a faixa de interesse não
inclui a frequência de corte, ou é três décadas maior que ela, o efeito deste ruído de baixa
frequência pode ser desprezado. Qando esta faixa for importante a integral pode ser calculada
como
V
N (RMS)=V Nplano·vf NC·ln(ff Máx Min)+( f Máx-f Min) (18.6)
onde fMáx e fMin são as frequências máximas e mínimas da faixa de interesse, VNplano a tensão de
ruído na faixa plana, e fNC a frequência de corte do ruído 1/f. Se fNC não for dada ou não puder ser
obtida pelo gráfco ela pode ser calculada como
f NC=(V 2N ( f )|f = fx – V Nplano 2 )·fx
V
Nplano
2
(18.7)
onde VN(f) é uma tensão de ruído na região 1/f para uma frequência fx.
Figura 18.4: Corrente e tensão de ruído para um AO típico (National, AN 104, May 1974).
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 191Na faixa plana a integral apresentada corresponde a um retângulo, mas como os fltros
destas bandas de frequência não são ideais, é necessário aplicar uma correção aos valores
calculados. Para fltros de primeira ordem é necessário multiplicar o resultado por 1,57. Para fltros
de segunda, terceira e quarta ordem os multiplicadores são 1,11, 1,05 e 1,025 respectivamente.
Exemplo: Calcular o ruído total equivalente na entrada de um amplifcador cujo espectro
de ruído é apresentado na Figura 18.4 e que esteja operando na faixa de 10 Hz até 10 kHz.
f NC˜[(110nV /vHz )2-(9,5nV /vHz )2]·10
(9,5nV /vHz )2
=1330 Hz
V
N (RMS )=9,5nV /vHz·v1330·ln(100000 10 )+(100000-10)=1,315µ V
Exemplo: Mostrar que a integral do ruído branco (vN) numa banda determinada por um
fltro passa baixas de primeira ordem é equivalente a integral de um retângulo nesta mesma banda
multiplicada por 1,57.
v
Ntot=v?f f 1 2 |v N|2·|1+ j·2·p1·f·R·C|2·df
vNtot=v N
RMS
·v?80 1+(2·p·1f ·R·C )2·df
vNtot=v N
RMS
·v(2·p·1R·C )2·[tan-1(2·p·f ·%R·C )]0 8
vNtot=v N
RMS
·v(2·p·1R·C )2·[tan-1(2·p·f ·%R·C )]0 8
vNtot=v N
RMS
·v(2·p·1R·C )2·p2
onde vNRMS é o ruído em V/vHz e a banda de integração corresponde a frequência de corte do fltro
multiplicada por 1,57.
18.6 Equivalente Elétrico
Todos os ruídos apresentados podem ser modelados por fontes de tensão ou corrente
associadas ao elemento gerador de ruído. Um resistor, por exemplo, será representado por uma
associação série entre o resistor e uma fonte de ruído térmico. Para os circuitos mais complexos e
amplifcadores operacionais as tensões e correntes de ruído são inseridas nas entradas do circuito,
como as fontes de tensão de o?set e correntes de polarização dos AO. A Figura 18.5 mostra estes
modelos para um amplifcador operacional.
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 192Figura 18.5: Modelo do AO com fontes de ruído.
18.7 Razão sinal ruído e fgura de ruído
Para avaliação da qualidade de um sinal também se utiliza a chamada razão sinal ruído
(SNR), defnida conforme equação 18.8. Qanto maior a razão SNR melhor a qualidade do sinal.
SNR=20·log(vvRuído Sinal RMS RMS) (18.8)
Já a fgura de ruído corresponde a razão entre as SNR na entrada do amplifcador (como se
ele não existisse) e na sua saída. Note que para esta medida é importante que os valores da
impedância da fonte de entrada (o gerador de sinais) sejam consideradas.
NF =10·log(SNR SNRout in) (18.9)
NF =10·log(Sinal Sinal in out ··Ruído Ruídoout in) (18.10)
NF =10·log(Sinal Sinalin in··Av Av· ·V V NA 2NS 2 ) (18.11)
onde Av é o ganho de tensão do amplifcador, VNA é a tensão de ruído total na entrada do
amplifcador, VNS é a tensão de ruído da fonte.
NF =10·log(VV NA 2 2NS) (18.12)
NF =10·log(v T 2 +vV2N + NS 2 i2N·RS) (18.13)
Exemplo: Para o amplifcador cuja tensão e corrente de ruído são apresentadas na Figura
18.4, supondo que ele está conectado a um gerador com impedância de 2 kO (National
Semiconductor, Application Note 104, May 1974). a) Calcular o ruído equivalente total na entrada
do amplifcador operando a 1 kHz (por unidade de frequência); b) Calcular o ruído equivalente
total na entrada do amplifcador operando entre 1 kHz e 10 kHz; c) Calcular a relação sinal ruído
na entrada do amplifcador, supondo que o sinal do gerador possui apenas 4 mVRMS.
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 193a) No resistor da fonte (para 1 Hz de banda):
V T=v4·k·T·R·B=5,7 nV/vHz
Da Figura 18.4 vem que
vN |1 kHz=9,5nV /vHz
iN |1kHz=0,68 pA/vHz
V
TN =vvN 2 +vT 2 +in 2·RS 2=11,16 nV/vHz
b)
V TN =11,16[nV/vHz]·v10 kHz – 1kHz=1,1µ V RMS
c)
SNR=20·log(VVTN S )=71 dB
18.8 Tabela de erros
Como a análise realizada neste capítulo sempre trata de tensões e correntes muito
pequenas nem sempre é fácil ter uma noção clara da ordem de grandeza dos erros que estão sendo
discutidos. Em sistemas digitais, a resolução de equipamentos é sempre mais facilmente
compreendida pois a medida é quantizada em um número fnito de possibilidades. Nesta secção é
calculado o erro total em um sistema de aquisição de sinais com medida em ponte e o resultado é
comparado com a resolução equivalente de um AD, de forma que fque mais simples de se
entender as preocupações apresentadas anteriormente.
O problema original está em In-Amp Bridge Circuit Error Budget Analysis e consiste em
determinar os erros (ou incertezas) de uma circuito composto por uma ponte de Wheatstone
ligada ao amplifcador de instrumentação AD620B. A saída amplifcador é conectada a um
conversor AD e deseja-se saber qual a resolução do conversor para que a saída fque estável.
Figura 18.6: Circuito de medida em ponte.
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 194Neste exemplo a impedância equivalente da ponte é de 350 O com saída máxima de
100 mV e excitação de 10 V. O ganho do amplifcador de instrumentação foi programado para ser
de 100 vezes (para produzir um sinal de saída de 10 V). As especifcações do AD620 para 25 ? são
vos=55 µV, ios=0,5 nA, erro de ganho igual a 0,15%, não linearidade de 40 ppm, ruído de 0,1 até
10 Hz de 280 nV
pp e CMR=120 dB em 60 Hz. Com estes dados é possível montar uma tabela de
erros e incertezas (Tabela 18.1)
Tabela 18.1: Tabela de erros para o amplifcador de instrumentação ligado na ponte de Wheatstone
Parâmetro Cálculo Contribuição Compensar
vos 55 ?V / 100 mV 550 ppm sim
ios (350 O·0,5 nA) / 100 mV 1,8 ppm sim
Erro de ganho 0,15% 1.500 ppm sim
Erro de CMR 120 dB: (1 ppm·5 V) / 100 mV 50 ppm sim
Ruído (0,1 até 10 Hz) 280 nV / 100 mV 2,8 ppm não
Erro de linearidade 40 ppm 40 ppm não
Erro total (pior caso) ˜9 bits exatidão 2.145 ppm (tudo)
Erro total (melhor caso) ˜14 bits exatidão 42 ppm (linearidade+ruído)
Observa-se que foi calculado o erro de CMR para o sinal de modo comum em CC (obtido
na ponte alimentada com 10 V). Este erro resulta em um o?set na saída do amplifcador. Não foi
calculado quanto pode resultar de ruído de 60 Hz devido ao CMR do amplifcador. Observa-se
também que todos os erros de o?set ou ganho podem ser compensados mas os erros relativos a
ruído e não linearidade do amplifcador não. Assim, todos os erros que podem ser compensados
são usados para a estimativa do pior caso, mas não do melhor. A soma das incertezas foi feita de
forma direta considerando-se apenas a sua contribuição relativa. Esta é uma forma simples que
superestima os erros e pode ser considerada como uma estimativa do erro limite.
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 19519 Componentes Passivos
Neste capítulo são apresentadas as características reais de resistores, capacitores e
indutores e como eles podem in?uenciar no desempenho de circuitos. O texto apresentado aqui
tem como base os exemplos e descrições contidas em Hardware and Housekeeping Techniques da
Analog Devices e são apresentados os problemas mais comuns envolvendo o uso de resistores e
indutores e capacitores. O livro Linear Circuit Design Handbook da Analog Devices também
apresenta as mesmas informações..
19.1 Resistores e potenciômetros
Resistores e potenciômetros podem ser feitos, entre outros, de compósitos de carbono,
flmes de carbono, metal, flme metálico e fos (indutivos e não indutivos). A Tabela 19.1 mostra
uma comparação entre alguns tipos. Bons textos sobre resistores, falando sobre suas
características e parâmetros pode ser obtido na Vishay e são o Resistors 101, How to select resistors
e o How to select resistors for precision applications.
Tabela 19.1: Comparação entre tipos de resistores (Linear Circuit Design Handbook, 2008)
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 19619.1.1 Efeitos térmicos
Resistores reais são sensíveis a variação de temperatura o que pode alterar ganhos e
aumentar a propagação de erros. Os efeitos destas variações podem ser facilmente percebidos com
o uso de exemplos simples, como a escolha de resistores para um amplifcador não inversor de
ganho 100.
G=1+
R
1
R
2
(19.1)
onde R1=9,9 kO, ¼ W com TC=25 ppm/? e R2=100 O, ¼ W com TC=50 ppm/?. Neste exemplo,
uma variação de 10 ? leva a erros da ordem de 250 ppm/? (dez vezes a diferença entre os TC).
Observe que isto é equivalente a 1 LSB em um conversor de 12 bits. O uso de resistores com TC
iguais não signifca que este problema está resolvido uma vez que alguns resistores, como os de
compósito de carbono, podem ter coefcientes térmicos bem elevados com TC=1.500 ppm/? ou
mais. Nestes casos qualquer pequena diferença nos TC pode ser signifcativa e mesmo uma
variação de 1% nestes TC resulta em uma diferença de 15 ppm/?.
O autoaquecimento também pode ser um problema. Para o mesmo ganho do exemplo
anterior, considerando que os dois TC são iguais a 25 ppm/?, quando a saída chegar a 10 V a
dissipação em R1 é de 9,9 mW e a de R2 é de 0,1 mW. Se a resistência térmica destes resistores é de
125 ?/W, então R1 aquece 1,24 ? e R2 aquece 0,01215 ?. Isto resulta em uma diferença de 31 ppm
no ganho, o que pode levar a um erro de ½ LSB num AD de 14 bits. Este autoaquecimento pode
causar efeitos de não linearidades ainda piores se o ganho for elevado. Neste caso o melhor a fazer
é dividir o ganho em mais de um estágio e usar resistores com resistência térmica menor
(resistores de maior potência).
Para o caso de resistores de pequeno valor (<10 O) o vilão pode ser a resistência de trilhas,
fos e interconexões, que passam a ter valor não desprezível. Ademais, o TC do cobre, por
exemplo, é de aproximadamente 3900 ppm/?, e mesmo que o resistor utilizado tenha TC baixo, o
TC do cobre adicionando resistência ao circuito faz com que o TC equivalente seja muito maior do
que o do resistor.
Para piorar ainda mais as coisas o TC dos resistores e o próprio valor das resistências pode
mudar após vários ciclos de calor e frio. O valor dos resistores também pode mudar com a tensão
aplicada por razões completamente diferentes do autoaquecimento.
19.1.2 Elementos parasitas
Resistores apresentam capacitâncias e indutâncias parasitas que podem ser pronunciadas
em altas frequências (Figura 19.1). Estes elementos parasitas são expressos em termos de erro
percentual da impedância com relação a resistência em CC. Os resistores de fos são aqueles que
apresentam os maiores erros. Mesmo para os resistores ditos não indutivos pode ser encontrada
indutância de 20 µH para valores menores que 10 kO, e 5 pF para resistores com mais de 10 kO.
Estas características levam ao surgimento de oscilações e aumento no tempo de estabilização para
respostas ao degrau, ou seja, alterações dinâmicas associadas a resposta em frequência.
Efeitos termoelétricos também podem ser importantes. Resistores de fo enrolado podem
gerar 2 µV/?, este número sobe para 20 µV/? em resistores de flme metálico comuns, ou 400 µV/
? para resistores de carbono. Mesmo assim isto não costuma ser um problema muito grande pois
as tensões de cada terminal tendem a se cancelar se a temperatura nos terminais for a mesma.
Isto, entretanto, nem sempre acontece e vai depender da forma e local onde os componentes estão
conectados. Por exemplo, componentes deitados sobre a placa tendem a apresentar a mesma
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 197temperatura em ambos os terminais, mas isto pode não ser verdadeiro caso os resistores sejam
colocadas na vertical como na Figura 19.2.
Figura 19.1: Modelo de resistor de flmes fnos para frequências acima de 0,1 GHz. Os componentes R, L e C representam o
resistor enquanto que LG e CG representam as interconexões.
Figura 19.2: Efeitos termoelétricos e distribuição de calor nos terminais de resistores.
19.1.3 Falhas, variação com o tempo e ruído
Resistores podem queimar e abrir (flme de carbono) ou queimar e curto-circuitar (flme
metálico). Os resistores podem mudar com o tempo (ppm/ano) sendo necessário realizar ciclos de
aquecimento até a estabilização (resistores de metal flme precisam de 4 a 5.000 horas para
estabilizar). O ruido gerado pelos resistores não necessariamente é o mesmo uma vez que alguns
resistores também apresentam ruído 1/f. Os resistores menos ruidosos são os de flme de carbono,
metal flme e fos.
19.1.4 Potenciômetros
Qanto ao uso de potenciômetros e trim-pots estes podem se danifcar com poeira,
solventes, umidade e uso, além de adicionarem ruído de contato ao circuito. De um modo geral o
uso destes componentes deve ser evitado ou minimizado e seu uso pode ser substituído por
potenciômetros digitais ou arranjos com conversores DA. Estas soluções evitam os problemas
mecânicos e permitem o ajuste automático dos componentes em circuitos realimentados. Alguns
autores recomendam que o uso de potenciômetros seja “usado com infnito cuidado e ajustado em
faixa infnitesimal para evitar infnita frustração”.
19.2 Indutores
Indutores não são componentes comuns em circuitos eletrônicos nem em instrumentação
pois, na prática, estão longe de se comportar como seu modelo ideal e não são fáceis de fabricar
com dimensões reduzidas e estáveis (de um modo geral só são comercializadas indutâncias
estáveis e pequenas com valores de alguns nH até alguns µH). Mesmo assim os indutores são
componentes importantes em fontes de alimentação, fltros (incluindo fltro contra EMI), bobinas
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 198choke, casamento de impedância e osciladores. Para caracterizar bem os indutores atuais,
pontuando as diferentes tecnologias e nomenclaturas empregadas, a Vishay disponibiliza dois
bons textos, o Inductors 101, e o Inductor and Magnetic Product Terminology.
Para se obter indutâncias maiores em um espaço menor é comum o uso de núcleos
magnéticos de ferro, ferrite, cerâmicas, mumetal, permalloy entre outros, porém estes materiais
podem saturam, tornando o indutor um elemento não linear. Adicionalmente a temperatura
também apresenta efeitos sobre os núcleos alterando as suas propriedades.
As espiras dos indutores se comportam como placas condutoras paralelas, conferindo ao
indutor características capacitivas. Como consequência o indutor real pode oscilar e apresenta
como um dos parâmetros de manual uma frequência de ressonância. Completando o cenário, os
fos que formam o indutor apresentam resistência não nula, nem sempre desprezível, e que, por
efeito skin, pode variar com a frequência. Indutores nunca terão impedância (paralela) elevada
(MO) pois a resistência da bobina e a capacitância parasita vão limitar estes valores. Desta forma o
Q dos indutores nunca é muito alto e vai limitar o Q de circuitos sintonizados a valores em torno
de 100, enquanto ressonadores cerâmicos podem chegar a 1.000 e cristais a 10.000 ou mais. Esta
limitação na seletividade, entretanto, não é necessariamente ruim. Núcleos e braçadeiras de ferrite
(ferrite beads) usados para fltros, por exemplo, apresentam baixo Q e por isso podem atuar
eliminando interferências em uma ampla banda de frequências.
19.3 Capacitores
Capacitores reais são produzidos com os mais variados dielétricos e, por isso, apresentam
características distintas tanto no que diz respeito ao valor da capacitância, a faixa de frequência
em que podem ser utilizados, a tensão de funcionamento e outros. Assim, capacitores reais estão
longe do ideal. A Figura 19.3 apresenta um modelo equivalente para capacitores, e a Tabela 19.2
mostra uma comparação entre capacitores de diferentes dielétricos. Outras tabelas comparativas
podem ser obtidas nas páginas dos fabricantes como a AVX e a HolyStone. Na Figura 19.3 C é o
capacitor, Rp modela as perdas, ESR é a resistência de terminais e placas, ESL modela a indutância
de terminais e placas, RDA-CDA modela a absorção dielétrica (DA).
Figura 19.3: Modelo de um capacitor real. C é o capacitor, Rp são perdas no dielétrico, RDA e CDA representam a absorção
dielétrica (efeitos de polarização do dielétrico), ESR e ESL a resistência e a indutância de terminais e placas.
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 199Tabela 19.2: Comparação entre capacitores (Linear Circuit Design Handbook, 2008)
19.3.1 Absorção Dielétrica
A absorção dielétrica está associada a polarização do dielétrico. Capacitores que fcam
muito tempo carregados polarizam o dielétrico. Isto causa uma espécie de histerese ou efeito
memória no capacitor. Considerando que o modelo apresentado (Figura 19.3) está correto e que o
capacitor está carregado, parte da carga é armazenada em C e parte em CDA. Mesmo depois de
curto-circuitar os terminais do capacitor e esperar que a tensão em seus terminais caia a zero não
é possível garantir que a tensão sobre CDA será nula (há uma constante de tempo associada a esta
descarga). Isto signifca que, ao abrir os terminais do capacitor, uma tensão residual pode aparecer
em seus terminais. O efeito pode ser visualizado na Figura 19.4.
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 200Figura 19.4: Efeitos da absorção dielétrica em capacitores.
Este problema pode ser importante em integradores e comparadores além de ser
responsável pelo surgimento de o?set ou não linearidades em conversores tensão frequência.
Também podem resultar em erros na tensão armazenada em amostradores (sample and hold)
quando há troca de canais com tensões muito diferentes, fltros e sistemas de controle (elevada
constante de tempo – vários ms ou mais). A solução para este problema passa pelo uso de
capacitores de boa qualidade (deve se evitar o uso de capacitores cujo fabricante não informa a
DA) ou sistemas realimentados com autozero. Na Tabela 19.3 são apresentados valores de DA
típicos para alguns capacitores.
Tabela 19.3: Absorção dielétrica para alguns tipos de capacitores.
Material do dielétrico Absorção Dielétrica
Te?on, poliestireno, polipropileno 0,02%
Cerâmica 0,2% - 0,6%
Mica, vidro 5%
Eletrolítico, tântalo 10%
Um erro de 0,2% representa um erro de ½ LSB em conversores AD de 8 bits.
19.3.2 Elementos parasitas (Rp, ESR e ESL)
Todos os elementos parasitas dos capacitores são informados pelos fabricantes. As perdas
que são modeladas pela resistência Rp costumam ser informadas pelo nome IR (insulation
resistance). Normalmente esta resistência é dependente da tensão de alimentação e pode ser
informada tanto como um valor de resistência quanto como uma contante de tempo (produto
Rp·C). Estes valores podem variar de 1 s para capacitores eletrolíticos até milhões de segundos
para capacitores de te?on, poliestireno e polipropileno. Isto signifca que mesmo desconectado o
capacitor carregado pode descarregar em poucos segundos ou vários dias. Na Tabela 19.4 são
apresentadas as constantes de tempos típicas para alguns capacitores.
A indutância e a resistência de terminais e placas (ESL e RSL), por outro lado, afetam
diretamente o comportamento da resposta em frequência do capacitor. Assim, capacitores com
diferentes dielétricos e processos de fabricação serão recomendados para diferentes faixas de
frequência. Na Figura 19.5 observa-se o comportamento em frequência de dois capacitores
produzidos por processos diferentes. Para baixas frequências os capacitores se comportam como
tal, mas para altas frequências o capacitor se comporta como um indutor e para uma frequência
intermediaria apresenta ressonância série com impedância limitada ao valor de RSL.
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 201Tabela 19.4: Constante de tempo para alguns tipos de capacitores.
Material do dielétrico Constante de Tempo
Eletrolítico 1 s
Cerâmica 100 s
Vidro 1.000 s
Te?on e poliestireno e polipropileno 1.000.000 s
Figura 19.5: Resposta em frequências para dois tipos diferentes de capacitores.
É este comportamento que restringe o uso de capacitores para frequências elevadas. De um
modo geral, capacitores eletrolíticos, de tântalo ou construídos com placas e dielétricos enrolados
apresentam ESL elevada e limitação maior de frequência. Por está razão é comum ver circuitos
onde um pequeno capacitor (~100 nF) é colocado em paralelo com grandes capacitores
eletrolíticos ou de tântalo (~10 µF). Este pequeno capacitor tem função apenas em frequências
elevadas, evitando que o circuito apresente característica marcadamente indutiva. Na Figura 19.6
são apresentadas as faixas de uso para diferentes tipos de capacitor.
Todos estes elementos parasitas (ESR, ESL e Rp) são apresentados de forma conjunto por
meio de um parâmetro conhecido como fator de dissipação (DF). O DF é defnido pela razão entre
resistências e reatâncias, ou seja, é um parâmetro que mede a inefciência do capacitor
relacionando a energia perdida com a energia armazenada. Como uma aproximação Q˜1/DF.
19.3.3 Tolerância
Adicionalmente, a obtenção de capacitores de precisão não é fácil. Sob demanda é possível
encontrar capacitores com tolerância de 0,5 ou 1% (cerâmica NP0, alguns flmes fnos) mas valores
comuns estão entre 5 e 10%. A temperatura e a frequência também in?uenciam a capacitância, a
DF e a DA. Coefcientes térmicos da ordem de 30 ppm/? (cerâmica NP0) e de 100 a 200 ppm/?
são comuns (poliestireno e polipropileno). A faixa de operação também varia muito. Alguns
capacitores de flmes fnos funcionam até 85 ? enquanto que os de te?on funcionam até 200 ?.
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 202Figura 19.6: Faixa de utilização de diferentes tipos de capacitores.
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 20320 Condicionamento para sensores autogeradores
Sensores autogeradores são bem diferente dos sensores resistivos ou reativos que
basicamente requerem medidas de impedância. Estes sensores têm características muito variadas
que vão desde o caso onde o sensor é basicamente uma fonte de tensão com baixa impedância de
saída e operam em baixas frequências, até os casos onde os sensores apresentam impedância de
saída bastante elevada e requerem amplifcadores de banda larga. Neste capítulo são apresentadas
algumas características importantes para o condicionamento de sinais destes sensores
empregando exemplos numéricos para ajudar a esclarecer aspectos importantes. Basicamente é
dada atenção as questões de o?set e drif, importante para os sensores termoelétricos, e as
questões relativas aos eletrômetros, amplifcadores especiais com impedância de entrada que
podem chegar a alguns TO e apresentam correntes de polarização inferiores a pA. Os eletrômetros
são importantes para sensores de alta impedância, mas o nome pode ser usado para determinar
um tipo de AO ou uma confguração de amplifcação de tensão.
20.1 O?set e drif em amplifcadores operacionais
Idealmente a saída de um amplifcador é zero quando a sua entrada também é zero, mas
isto não acontece na prática devido as inúmeras fontes de erro ou simplifcações que são feitas
para o modelo ideal do amplifcador. A Figura 20.1 mostra um amplifcador inversor com suas
fontes de tensão de o?set e correntes de polarização. Considerando, também, que o AO apresenta
resposta em frequência equivalente a um polo simples, então
v
o=[-R R2 1·vin+(1+ R R2 1)·vos +iBN·R2-iBP·R3·(1+ R R2 1)]·1+ 11
Ad·ß
(20.1)
onde R1 representa a soma da resistência de entrada do amplifcador com a resistência da fonte,
ß=R1/(R1+R2), Ad=Ad0·?a/(s+?a).
Figura 20.1: Amplifcador não inversor e fontes de erro.
Em baixas frequências o ganho do amplifcador é tão grande que a parcela fora dos
colchetes pode ser desconsiderada, porém, em altas frequências ela limita a banda de passagem do
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 204AO. Se as fontes que representam as correntes de polarização estivessem representando correntes
de ruído então quanto maior o ganho maior seria o ruído na saída do amplifcador. A resistência
R3, que a primeira vista não tem nenhuma utilidade, se for escolhida de tal forma que R3=R1//R2
reduz os erros, na saída do AO, devido as correntes de polarização.
v
o=[-R R2 1·vin+(1+ R R2 1)·vos+ios]·1+ 11
Ad·ß
(20.2)
onde ios é a diferença entre as correntes de polarização.
Para o amplifcador não inversor valem as mesmas considerações. Neste caso os resistores
R1 e R2 devem ser escolhidos para minimizar os efeitos das correntes de polarização (Rfonte=R1//R2 ).
Alternativamente é possível adicionar um resistor onde está a fonte de vos com valor
Rx=Rfonte-R1//R2). Isto é feito para balancear a impedância vista pelo AO em cada entrada e reduzir o
efeito das correntes de polarização. Em aplicações de alta frequência ou banda larga pode ser
interessante usar capacitores em paralelo com estes resistores para fltrar o ruído térmico.
Para reduzir os efeitos de ios e vos é necessário escolher apropriadamente o amplifcador
operacional. Via de regra amplifcadores com tecnologia bipolar na entrada apresentam tensões de
o?set e drif menores, amplifcadores com entrada FET tem as menores correntes de polarização e
o?set, e amplifcadores com entrada CMOS tem baixa corrente de polarização, mas drif elevado,
principalmente em altas temperaturas. Correntes de polarização e tensões de o?set dependem da
tensão de alimentação e tensões de modo comum. Amplifcadores bipolares comuns apresentam
correntes de o?set que podem ser 10 vezes menores que as correntes de polarização, mas
amplifcadores ajustados de fábrica para apresentarem correntes de polarização pequena podem
apresentar correntes de o?set da mesma ordem de grandeza. Alguns amplifcadores apresentam
terminais para compensar o o?set. Muitas vezes esta compensação leva a um aumento no drif da
ordem de 3 ou 4 µV/? em operacionais com entrada bipolar, então o manual deve ser lido antes
que este recurso seja utilizado. Se o drif piorar com este ajuste de o?set pode ser necessário usar
circuitos externos para cancelar tal o?set, o que leva a circuitos somadores de tensão com o uso de
potenciômetros.
Amplifcadores de baixo drif podem ser obtidos com amplifcadores monolíticos especiais
ou com amplifcadores chopper ou de autozero (ser seção 6.6). Contatos de metais diferentes em
diferentes temperaturas devem ser evitados. Sensores com sinais de baixa tensão devem ser
soldados diretamente nas placas evitando ruídos de contato ou termoelétricos.
20.2 Eletrômetros, amplifcadores de trans impedância e de carga
Sensores de elevada impedância requerem o uso de condicionadores de sinais especiais
chamados eletrômetros. Estes são circuitos apropriados para sinais em corrente ou sensores de
alta impedância, como sensores piezoelétricos (acelerômetros, hidrofones, …), medidores de
umidade, pH, sensores químicos, detectores de fumaça, CCD e outros. Dependendo da fonte
podem ser empregados amplifcadores de trans condutância (conversores de corrente em tensão),
amplifcadores de carga ou amplifcadores de tensão. Exemplos destes amplifcadores são
apresentados nas próximas seções e focam em um ou outro sensor específco, mas as
considerações podem ser generalizadas para os demais sensores com características semelhantes.
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 20520.2.1 Amplifcador para fotodiodo no modo fotovoltaico
Nesta seção é apresentado um amplifcador de transcondutância para sensores de alta
impedância de saída. São discutidos aspectos de ganho, faixa de passagem, ruído, técnicas de
blindagem, compensação em frequência e escolha dos componentes. Todos os assuntos são
abordados em um exemplo prático com valores numéricos apresentado no texto Sensor signal
conditioning da Analog Devices.
Um fotodiodo ligado a um amplifcador operacional no modo fotovoltaico é apresentado na
Figura 20.2. Para este circuito, considera-se que o diodo seja o SD-020-12-001, cuja impedância
pode ser modelada por um circuito RC paralelo com Rsh=1 GO @ 25 ? e Cj=50 pF. Deseja-se
amplifcar correntes de 30 pA até 10 nA (iluminação de de 0,001 fc até 0,3 fc – seção 17.3). Para
correntes de entrada tão baixas o ganho deve ser muito elevado. O maior valor prático de
resistência para o amplifcador é de 1.000 MO. Isto faz a tensão de saída variar entre 30 mV e 10 V
o que corresponde a uma variação de 60 dB com apenas um estágio de ganho.
Figura 20.2: Amplifcador para fotodiodo no modo fotovoltaico e seu modelo equivalente.
O resistor elevado, entretanto traz alguns problemas. O primeiro é a quantidade
signifcativa de ruído térmico. Esta, entretanto, é uma confguração que não pode ser evitada. Caso
o ganho total seja dividido em dois estágios, dividindo o resistor de realimentação por dois, o
ganho fca dividido linearmente mas o ruído térmico diminui de apenas v2. A divisão do ganho
em dois estágios é, portanto, pior que o uso deste resistor de valor elevado. Dividir este resistor
em dois ligados em série resultaria no mesmo ruído térmico e usando uma malha de
realimentação em T com resistores de menor valor resultaria (geralmente) em um ganho maior
para o ruído devido a confguração da malha. Por estas razões a confguração apresentada
costuma ser a confguração indicada na maioria das vezes.
A escolha do operacional também deve ser criteriosa. Bons amplifcadores bipolares como
o OP07 apresentam VOS muito baixo, mas as correntes de polarização são muito maiores que as
correntes do fotodiodo. O OP07, por exemplo, tem VOS=10 µV e IB=4.000 pA! Mesmo um OP97
(superbeta com compensação de IB) tem IB=100 pA. Ainda é um valor elevado, mas a corrente de
polarização é insensível a variações de temperatura, enquanto nos amplifcadores FET IB dobra
para cada 10 ?. Então, em função das correntes de entrada muito baixas devemos escolher um
amplifcador operacional adequado para este condicionador. A Tabela 20.1 apresenta alguns
possíveis amplifcadores JFET, o que é uma boa escolha se a temperatura não variar muito durante
a medida. Os amplifcadores AD são BiFET de canal P com entrada JFET e transistores bipolares
para as demais etapas de amplifcação. O OPA é de tecnologia Difet®. Estes amplifcadores
apresentam correntes de entrada muito baixa o que é necessário para o projeto, mas, mesmo
assim, seu uso requer atenção especial.
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 206Para entender o que signifca uma corrente de alguns pA basta estudar as correntes em
uma PCB (placa de circuito impresso). A isolação entre duas trilhas paralelas de 2,54 cm de
comprimento, afastadas de 12,7 mm em uma placa limpa de epóxi e vidro, é de aproximadamente
1011 O a 125 ?. Se 15 V forem aplicados a estas duas trilhas circula pela placa uma corrente de
150 pA. Por esta razão é necessário dedicar muita atenção a montagem deste circuito. A placa de
circuito impresso deve ser de boa qualidade (vidro e epóxi) sem resíduos, limpa, selada contra
umidade. Cabos e conexões até o sensor devem ser curtos e de baixa capacitância ou elas devem
ser modeladas com o sensor. A resistência de interconexão deve ser elevada, feita com blocos
maciços de te?on, ou as trilhas da PCB, que levam às entradas inversora e não inversora, devem
ser protegidas com um circuito de guarda (Figura 20.3) permanecendo distantes das tensões de
alimentação e ajuste de o?set.
Tabela 20.1: Comparação entre amplifcadores para o condicionador de sinais
AO VOS MÁX TC VOS típico IB Máx Ruído 01-10 Hz Encapsulamento
AD549K 250 µV 5 µV/? 100 fA 4 µVpp TO99
AD795K 250 µV 3 µV/? 1 pA 2,5 µVpp TO99 e DIP
AD795JR 500 µV 3 µV/? 3 pA 1 µVpp SOIC
AD820 1.000 µV 2 µV/? 10 pA 2 µVpp SOIC e DIP
OPA129 2.000 µV 10 µV/? 100 fA 4 µVpp TO99
Figura 20.3: Conexão direta entre terminais do sensor e do amplifcador e circuitos de guarda. Package N é um
encapsulamento DIP e package R é um encapsulamento SOIC. O encapsulamento circular é o TO99 selado com vidro.
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 207O circuito de guarda evita que correntes de fuga ?uam pela PCB em direção as entradas
inversora e não inversora contaminando a medida. A guarda é um pouco mais difícil de ser feita
em encapsulamento SOIC, mas, mesmo assim, é possível obter resultados razoáveis com o layout
apresentado (Figura 20.3). Para o integrado escolhido (AD795JR) os pinos 1, 5 e 8 não são
conectados, mas podem ser utilizados para ajudar a criar o circuito de guarda. Mesmo assim na
confguração não inversora o circuito de guarda envolve a tensão de alimentação e os resultados
da guarda podem não ser satisfatórios. Se isto ocorrer é possível usar outros integrados, como o
AD549K, que tem encapsulamento TO99. O TO99 permite que o circuito de guarda seja feito em
torno dos pinos de entrada envolvendo-os completamente. Outra opção é o uso de isolador e
conexão direta entre o sensor e os terminais do amplifcador (Figura 20.3). Este isolador é
obrigatório para amplifcadores onde a ordem de grandeza de IB é de fA. O isolador deve ser de
te?on sem uso, limpo e sólido. Para minimizar ainda mais as correntes de fuga todo o circuito
pode ser blindado com metal aterrado para evitar a contaminação com sinais parasitas.
No que diz respeito ao circuito, o resistor de realimentação deve ser especial (flmes fnos,
cerâmica ou vidro como isolante) com baixa tolerância (1% ou menos) e coefciente térmico
(TC=50 ppm/?). Se for utilizado um capacitor em paralelo com este resistor, para fltrar altas
frequências, este capacitor deve ter baixas perdas no dielétrico (te?on, polipropileno ou
poliestireno, por exemplo).
A tensão de o?set e as correntes de polarização podem ter um efeito importante na saída
do amplifcador para fotodiodo no modo fotovoltaico. Os efeitos destas fontes e as características
não ideais do fotodiodo são apresentadas na Figura 20.4. O fotodiodo utilizado para o exemplo é o
mesmo (SD 020-12-001, Cj=50 pF e Rsh=1 GO).
Figura 20.4: In?uência da tensão de o?set e correntes de polarização no amplifcador para fotodiodo no modo fotovoltaico.
Com uma variação de temperatura de 70? há uma alteração grande da tensão devido a IB,
na saída do AO e nos valores de Rsh com consequente variação do ganho. Isto ocorre pois para um
AO com entrada FET a corrente de polarização IB dobra para cada 10 ?, e para o fotodiodo a
resistência Rsh cai a metade para cada aumento de 10 ? na temperatura. Isto signifca que se
Rsh=1.000 MO em 25 ? ele será de 43 MO em 70 ?. O ganho para VOS, que é de 2 em 25 ? (1+
R/Rsh) passa para ~24 em 70 ?. A tensão de saída devido a IB (R·IB), passa de 3 mV para 72 mV.
A compensação de IB com um resistor RX=Rsh//R (da entrada positiva para o terra) poderia
ser feita, mas como Rsh varia com a temperatura, esta compensação não tem efeito. Além do mais
a tensão sobre RX polariza o fotodiodo no modo fotovoltaico aumentando a não linearidade do
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 208sensor. A presença de RX também introduz mais uma parcela de ruído térmico no sistema. Por
todas estas razões este resistor normalmente não é utilizado neste circuito. Os erros devidos a VOS
e IB são apresentados na Tabela 20.2. Observa-se que os erros mais importantes se devem
especifcamente a IB, principalmente para temperaturas acima da temperatura ambiente.
Tabela 20.2: Erros de o?set para o amplifcador com AD795K
0 ? 25 ? 50 ? 70 ?
VOS 0,325 mV 0,250 mV 0,325 mV 0,385 mV
Ganho (ruído) 1,1 2 7 24
VOS Saída 0,358 mV 0,500 mV 2,28 mV 9,24 mV
IB
0,2 pA 1,0 pA 6,0 pA 24 pA
VIB 0,2 mV 1 mV 6,0 mV 24 mV
Erro Total 0,558 mV 1,50 mV 8,28 mV 33,24 mV
Efeitos termoelétricos devem ser minimizados para este amplifcador pois os valores de
tensão gerados podem inviabilizar a medida. Um termopar formado pela interconexão de fos de
cobre com Kovar (utilizado nos terminais dos encapsulamentos TO99) pode gerar tensões de
aproximadamente 35 µV/? e termopares formados pela junção de cobre com solda pode gerar
tensões de 1 até 3 µV/?. Nestes casos é necessário assegurar que os pontos de formação de
termopares mantenham-se a mesma temperatura.
Devido as elevadas impedâncias e baixa amplitude do sinal, é importante analisar a
contribuição do ruído na medida e avaliar a SNR na saída do amplifcador. No circuito, além da
fonte de sinal existem as fontes de ruído térmico e do operacional (Figura 20.5).
Figura 20.5: Fontes de ruído no amplifcador para fotodiodo no modo fotovoltaico.
O ruído de tensão do AO é amplifcado com ganho GVN.
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 209GVN=1+
R
R·C·S +1
Rsh
Rsh·Cj·S +1
(20.3)
G
VN=(1+ Rsh R )·(ttD··SS++11) (20.4)
onde
t
D=
Rsh·R
Rsh +R·(Cj +C ) (20.5)
t=R·C (20.6)
Para um circuito onde Rsh=1.000 MO, R=1.000 MO, Cj=50 pF, C=10 pF e o GB (produto
ganho faixa) do amplifcador é de 1 MHz, o ganho do ruído em baixas frequências é 2, e em altas
frequências é 6. O zero se localiza em 5,3 Hz e o polo em 16 Hz. A frequência de corte superior
(fCL), limitada pelo ganho do amplifcador, é de 167 kHz. O capacitor C ajuda a estabilizar o circuito
e reduz o ganho do ruído em altas frequências (Figura 20.6).
Figura 20.6: Ganho em malha aberta do AO e para a tensão de ruído do AO.
Para determinar a densidade de ruído na saída do AO em função do ruído que ele introduz
no circuito é necessário utilizar as curvas de densidades de ruído do amplifcador (Figura 20.7, a
esquerda) e multiplicá-la pelo ganho GVN (Figura 20.8).
V
VN=V N·GVN (20.7)
V
IN=I N·R·(R·C1 ·S+1) (20.8)
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 210O efeito das demais fontes também deve ser calculado. A amplitude total de ruído na saída
do amplifcador pode ser estimada somando-se os efeitos de cada fonte em separado. Vale lembrar
que a soma é feita com a raiz quadrado da soma dos quadrados (valor RMS de ruídos
independentes). A tensão de ruído térmico dos resistores é de 4 µV/vHz.
Figura 20.7: Densidade de ruído para o AD795JR
Figura 20.8: Contribuição de cada fonte de ruído na tensão de saída.
V
VTR=(VRTR)·(R·CR ·S+1)=V TR·(R·C1 ·S+1) (20.9)
V
VTRsh=-(VRsh TRsh)·(Rsh·Rsh Cj·S+1)·(Rsh R )·(Rsh R··CCj ·S·S++11)=-VRsh TRsh·R·(R·C·1S+1) (20.10)
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 211V
Sinal=-I·(Rsh·Rsh Cj·S +1)·(Rsh R··CRsh Cj R·S·+ S+11) (20.11)
V
Sinal =-I·(Rsh·Rsh Cj·S+1)·(Rsh R )·(Rsh R··CCj ·S·S++11)=-I·R·(R·C1 ·S+1) (20.12)
A in?uência de cada componente sobre o ruído total na saída do amplifcador é
apresentada na Tabela 20.3. As densidades de ruído foram integradas considerando que todas
foram fltradas por um passa baixas de primeira ordem na frequência de corte (R·C)-1. Isto é
verdade para todas as fontes de ruído com exceção de VN e IN. O ruído 1/f tem in?uência
predominante até 12 Hz, mas, aceitando um pequeno erro de estimativa, pode ser considerado
constante, pois a integração é feita até 167 kHz. IN, por outro lado, aumenta para frequências
acima de 50 kHz, mas como o amplifcador limita sua banda a (R·C)-1 o erro desta aproximação
também é pequeno. Assim, cada integral foi feita por retângulos, considerando o ruído constante
na banda de passagem para cada fonte de ruído, e multiplicando o resultado por 1,57.
A análise da Tabela 20.3 revela que a maior in?uência no ruído total de saída é do AO e se
deve a ampla faixa de frequência para a qual ele é amplifcado (muito maior que a frequência com
que o sinal é amplifcado). Mesmo assim este ruído é da mesma ordem de grandeza dos ruídos
térmicos de cada resistor. Se o ruído do amplifcador for reduzido a zero, o ruído na saída do
operacional fca em torno de 28,5 µVRMS. Isto é o que acontece se, após o amplifcador, for
introduzido um fltro passa baixas de primeira ordem (em 20 Hz). Se, por outro lado, a banda de
passagem do sinal for reduzida (modifcando o polo formado por R e C) pode-se conseguir o
mesmo efeito de redução de ruído, porém as custas de uma redução signifcativa na banda de
passagem. O aumento da banda, por outro lado, só pode ser conseguido com redução de C, mas
valores abaixo de 1 ou 2 pF estarão na mesma ordem de grandeza das capacitâncias parasitas.
Tabela 20.3: Contribuição das fontes de ruído sobre a tensão de saída do condicionador
Fonte de ruído Ruído na saída Integração (BW) Valor
VN VN·GVN 1,57·fCL 24,6 µVRMS
IN
IN
·R2 1,57·(Banda do Sinal) 3 µVRMS
VTRsh VTRsh·(R2/R1) 1,57·(Banda do Sinal) 20 µVRMS
VTR VTR 1,57·(Banda do Sinal) 20 µVRMS
Total 37,6 µVRMS
Para este circuito a faixa dinâmica ou razão sinal ruído é de 20·log(10V/37,6µV)=108 dB.
Outro bom texto sobre este tipo de amplifcador e sua análise de ruído pode ser encontrado em
Noise Analysis of FET Transimpedance Amplifers da Burr Brown.
20.2.2 Condicionador para fotodiodo operando no modo fotocondutivo
Fotodiodos utilizados em circuitos de alta velocidade devem preferencialmente operar no
modo fotocondutivo (Figura 20.9). Neste modo as características do amplifcador fcam
signifcativamente diferentes das características obtidos no modo fotovoltaico. O diodo de alta
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 212velocidade HP 5082-4204 (um diodo PIN) cuja área também é de 0,2mm2, apresenta Cj=4 pF @
10 V de polarização reversa, RSH=100 GO @ 25 ? e corrente de escuro de 600 pA @ 10 V
polarização reversa e máxima corrente de saída linear de 100 µA. Comparando com o modo
fotovoltaico espera-se uma banda de passagem muito maior, a corrente no diodo é muito maior, a
capacitância Cj é muito menor e a resistência RSH é muito maior, pois o diodo está polarizado
reversamente. Isto impõe outras restrições ao circuito do condicionador de sinais.
Figura 20.9: Amplifcador para fotodiodo no modo fotocondutivo.
A primeira coisa a observar é que apesar da polarização, do ponto de vista de sinal este
amplifcador é idêntico ao anterior, e todas as equações e gráfcos apresentados antes continuam
sendo válidas. Ajustes devem ser feitos apenas para os valores dos componentes, mas algumas
considerações podem ser feitas por comparação com o modo fotovoltaico. Como a corrente é bem
maior a resistência R é bem menor. A capacitância Cj é da ordem de grandeza da capacitância de
entrada do AO e, por isso, as duas devem ser computadas juntas. A resistência Rsh é muito maior
que R e na maioria das aplicações pode desconsiderada. A banda de frequências deve ser
aumentada com a redução de R e C. O valor de R fca limitado pelo ganho requerido do circuito e o
valor de C deve ser escolhido de forma a maximizar a banda, mas deve manter o circuito estável.
Assim, as constantes de tempo 20.5 e 20.6 podem ser aproximados por tD=R·Cj (considerando C
bem menor do que Cj) e t=R·C.
Figura 20.10: Ganhos de malha aberta e de ruído do amplifcador operacional.
A escolha do capacitor C pode ser feita na média geométrica entre fD e fU (frequência do
zero defnido por tD e a frequência de ganho unitário do AO). Esta escolha mantém o circuito
estável com margem de ganho aproximada de 45º.
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 213f =v f·f U (20.13)
C =v2·p·Cj R·f u (20.14)
A escolha do amplifcador deve prever entrada FET (por causa das baixas correntes do
sensor), capacitância de entrada (Cin) baixa (para não piorar a resposta do sensor) e frequência de
ganho unitário elevada (GB ou fU). Uma boa fgura de mérito é a razão entre GB e Cin. Na Tabela
20.4 são apresentados alguns possíveis amplifcadores para esta tarefa. O AD823 apresenta a
menor razão GB/Cin e se confgura numa boa escolha.
Tabela 20.4: Amplifcador operacionais para o circuito de condicionamento do fotodiodo no modo fotocondutivo.
AO GB (MHz) Cin (pF) GB/Cin IB (pA) VN (nV/vHz)
AD823 16 1,8 8,9 3 16
AD843 34 6 5,7 600 19
AD744 13 5,5 2,4 100 16
AD845 16 8 2 500 18
OP42 10 6 1,6 100 12
AD745* 20 20 1 250 2,9
AD795 1 1 1 1 8
AD820 1.9 2,8 0,7 2 13
ADA4627 19 8 2,4 1 6,1
*AD745 é estável para ganho maior que 5 (normalmente este é o caso uma vez que o ganho de ruído em altas frequências
é determinado por 1+Cj/C e, normalmente, Cj>4·C).
Para compensar a corrente de escuro, é possível utilizar outro diodo com as mesmas
características, porém ligado a entrada não inversora. A Figura 20.11 ilustra esta solução.
Figura 20.11: Circuito para compensação de corrente de escuro.
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 214Considerando que se deseje um fundo de escala de 10 V para uma corrente de 100 µA,
então R=100 kO. O AD823 possui fU=16 MHz e Cin=1,8 pF que somada a capacitância de 4 pF do
fotodiodo resulta numa capacitância Cj equivalente de 5 pF. Com estes valores fD=274 kHz,
C=0,76 pF e f=2,1 MHz. Capacitores cerâmicos variáveis podem ser utilizados para o ajuste fnal de
C. Capacitores ligados em T também podem ser utilizados. O resistor R pode ser substituído por 3
resistores de flme de 33,3 kO, para reduzir capacitâncias parasitas. Para simetria do circuito R2
deve ser adicionado com o mesmo valor de R. O capacitor C2 fltra ruídos em R2, mas deve ter
baixas perdas (polipropileno, por exemplo).
20.2.3 Amplifcadores de Carga
Amplifcadores de carga são aqueles onde a impedância de entrada é capacitiva e oferece
impedância extremamente elevada para baixas frequências. Sua confguração básica consiste de
um amplifcador não inversor com um só capacitor de realimentação, responsável pelo ganho.
Para polarizar o amplifcador é necessário o uso de resistores em paralelo com o capacitor de
ganho, mas o resistor tem apenas limita o ganho em CC e limita a banda de atuação do
amplifcador. A confguração fnal é muito semelhante à do amplifcador de transcondutância, mas
os componentes são calculados com outro enfoque. O nome, amplifcador de carga, vem do fato de
que variações de carga na entrada são transformadas em tensão na saída do operacional. Seu uso é
comum com sensores capacitivos e piezoelétricos. Na Figura 20.12 é apresentado o esquema básico
de um amplifcador de carga, considerando a fonte de sinal, o cabo e o resistor de polarização da
realimentação.
Figura 20.12: Amplifcador de carga. A fonte de corrente Cs e Rs representam a fonte. Cc e Rc são o cabo.
Para o amplifcador de carga ideal, com a fonte de corrente em paralelo com o capacitor
Cs, e o amplifcador contendo apenas o capacitor C a tensão de saída é
v
o=-(q·S)· 1
Cs·S
·
1
C·S
1
Cs·S
=-
qC
(20.15)
Como a tensão depende apenas da carga e do capacitor de realimentação ela se torna
insensível a capacitância do cabo e da entrada do amplifcador. As limitações começa a ocorre
apenas em altas frequências quando o ganho do amplifcador deixa de ser muito alto ou quando C
é muito baixo e o ganho da confguração fca muito elevado. O capacitor C deve ter baixas perdas
e alta estabilidade.
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 215Levando em conta as demais impedâncias observa-se que o circuito apresenta um
comportamento passa altas que impede seu uso em CC. Como os valores de R costumam ser
muito elevados e os de C muito baixos a frequência de corte frequentemente é muito baixa (bem
menor que 1 Hz). Isto permite medidas em frequências bem baixas, mas não CC. Filtros passa altas
com frequências de corte tão baixa, porém, são muito lentos para se recurarem de eventuais
saturações.
v
o=-(q·C )·(RS·CRSS ·S +1)·(RRS· ·C CRR· SS ·SS++11)=-q·R·CR··SS+1 (20.16)
v
o
q
=
R·S
R·C·S +1
(20.17)
Para sensores de quartzo, a resistência de fuga do capacitor C fca entre 10 GO e 10 TO,
com capacitâncias entre 10 pF e 100 nF. Para sensores cerâmicos as capacitâncias variam entre
10 pF e 1 nF e a resistência de fuga varia de 100 MO até 10 GO. Por esta razão é comum o uso de
um resistor R que ajuda na polarização do amplifcador.
O circuito tem banda limitada basicamente pelo AO. O aumento do capacitor C reduz a
banda.
v
o=-
qC
·(1+1jf·Hf ) (20.18)
O uso de uma resistência série entre a fonte e a entrada inversora ajuda na estabilidade do
circuito, e adiciona um polo de altas frequências tornando o circuito mais independente do AO.
Ele também protege o AO contra correntes elevadas que possam surgir em virtude de altastensões. Este resistor costuma ter valores entre 1 kO e 10 kO.
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 21621 Filtros seletores de frequência
21.1 Introdução
Todos os sinais podem ser representados por um gráfco no domínio do tempo (função do
tempo) ou por um gráfco no domínio da frequência (função da frequência). Qando se fala em
frequência se fala dos infnitos cossenos que somados com amplitude, fase e frequência
apropriados são capazes reproduzir o sinal original. Este é o conceito por detrás da série e
transformada de Fourier e também de Laplace. Nesta representação, um seno ou um cosseno são
desenhados pelos gráfcos de amplitude e fase em função da frequência (a frequência do seno ou
do cosseno). O desenho, portanto, corresponde a uma raia espectral indicando o módulo
(amplitude) e outra indicando a fase deste sinal na frequência deste seno ou cosseno. Para sinais
mais complexos, como ondas quadradas, triangulares e outras, uma soma de infnitos cossenos são
necessários. Cada sinal possui uma representação única que o distingue dos demais.
Sinais ainda mais complexos, não periódicos, como sinais de EEG, ECG ou EMG, por
exemplo, também podem ser decompostos por somas de senos e cossenos. Assim como para as
ondas periódicas, normalmente estes sinais apresentam amplitudes menores para as frequências
maiores. Também os ruídos podem ser decompostos por soma de senos e cossenos. Um ruído
brando, por exemplo, assim como um impulso, possui todas as infnitas frequências com a mesma
amplitude. A diferença entre eles está apenas no gráfco da fase. O termo ruído branco é uma
alusão a luz branca que é composta de todos os comprimentos de onda do espectro visível. Outros
ruídos coloridos também existem, em função da faixa de frequência que eles ocupam.
Sinais reais são uma mistura (soma) de informações com ruídos, o?sets e drifs. Uma
análise em frequência destes sinais contaminados provavelmente mostrará amplitudes elevadas
para a frequência zero (o?set) e próximas (drifs) além das frequências que compõe o sinal e o
ruído. Apesar de varições locais da amplitude a tendência mais comum é que as amplitudes
decaiam com a frequência até a amplitude do ruído.
Para lidar com estes sinais existem os fltros seletores de frequência. Estes fltros são
circuitos que amplifcam de forma diferente sinais de diferentes frequências. Estes fltros estão
presentes em quase todos os circuitos, nem que seja para minimizar ruídos de alta frequência,
retirar o nível CC de sinais, selecionar uma faixa de frequências de interesse, retirar a
interferência de 60 Hz ou para evitar o aliasing em sinais amostrados (processamento digital de
sinais).
Hoje em dia muitos programas de computador estão disponíveis para auxiliar no projeto
de fltros. Alguns, como o MATLAB (ou OCTAVE), permitem o cálculo dos polinômios
(aproximações) para diferentes graus e frequências de corte, bem como o desenho da resposta em
frequência destes fltros. Outros, como o FilterCAD, da Linear Technology, o FilterPRO ou o
Webench Filter Design, da Texas Instruments, o Filter Wizard da Analog Devices, o FilterLAB da
Microchip, o Mr. Filter ou o Op Amp Filter Design permitem o projeto de fltros com
amplifcadores operacionais (AO). Mesmo assim, a especifcação dos fltros continua sendo uma
escolha do projetista e não há sofware que defna o melhor fltro para cada aplicação.
Conhecer os tipos de fltro, as formas de especifcar e implementar um fltro, os desenhos
de módulo e fase, assim como a aplicação de cada fltro é o alvo deste capítulo.
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 21721.2 Unidades e nomenclatura
O estudo clássico dos fltros passa pela análise de suas funções de transferência. Nestes
circuitos as funções de transferência serão frações com polinômios no numerador e denominador.
Estas funções de transferência podem ser funções de ganho ou funções de atenuação (perdas).
Qando o módulo da função de ganho for maior que a unidade (1) a saída do fltro é maior que
sua entrada. Qando o módulo da função de ganho for menor que a unidade (1) a saída do fltro é
menor que sua entrada. Do ponto de vista da atenuação ocorre exatamente o oposto, uma vez que
a atenuação pode ser escrita como uma função do ganho, tal que
Atenuação= 1
Ganho (21.1)
A escolha pelo termo atenuação se deve ao fato de que os primeiros fltros apresentavam
ganho máximo igual à unidade (1) e, portanto, era mais sensato falar em atenuação. Além disto a
função de atenuação da maioria dos fltros era polinomial, o que tornava a análise da atenuação
mais simples (o ganho era uma constante dividida por um polinômio e a atenuação era um
polinômio dividido por uma constante). Neste capítulo serão abordados principalmente os fltros
polinomiais.
Para as amplitudes o mais comum é o uso do dB, pois facilita a análise de funções de
transferências e seu desenho no diagrama de bode. Qando se converte de ganho para atenuação e
vice versa basta trocar o sinal da grandeza que está em dB.
21.3 Funções de 1ª e 2ª ordens
A Tabela 21.1 mostra as funções de ganho que podem ser obtidas com os fatores de
primeira e segunda ordem. Na tabela observa-se nomes relacionados as frequências que são
amplifcadas ou atenuadas. Os quatro principais tipos são o passa baixa (PB), o passa alta (PA), o
passa faixa (PF) e o rejeita faixa (RF ou notch, no seu caso mais conhecido).
Filtros de ordem mais elevada são formados pela ligação em cascata de fltros de primeira e
segunda ordem, mas o projeto deve ser feito todo de uma só vez. Ligar vários fltros iguais, em
cascata e com a mesma frequência de corte, por exemplo, faz com que a atenuação na frequência
de corte seja diferente da atenuação especifcada para um só fltro (em dB as atenuações de cada
fltro se somam). Por esta razão foi preciso desenvolver uma metodologia para o projeto de fltros
de qualquer ordem. Esta metodologia passa pelo desenho do gabarito de cada fltro. A partir deste
gabarito determina-se a ordem dos fltros necessária para atender os requisitos de cada projeto.
21.4 Gabaritos
Os fltros seletores de frequência cujas funções de transferência de primeira e segunda
ordem foram apresentados na Tabela 21.1 são calculados a partir de gabaritos padronizados.
(Figura 21.1). Costuma ser especifcado, no projeto, a atenuação mínima (para região de
frequências a atenuar – região de atenuação), atenuação máxima (para região de frequências que
não devem ser atenuadas – região de passagem), frequências que delimitam a região de passagem
(banda ou faixa de passagem) e frequências que delimitam a região de atenuação (banda ou faixa
de atenuação). Estas especifcações podem ser utilizadas diretamente por programas de
computador para o cálculo dos fltros (funções de transferência ou projeto dos circuitos), mas para
o projeto auxiliado por tabelas e gráfcos os fltros devem ser convertidos em um fltro passa baixa
normalizado. Caso o fltro não seja um passa baixa também é necessário uma transformação em
frequência. Esta metodologia foi desenvolvida para facilitar o projeto antes dos computadores
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 218terem se tornado populares. A normalização leva em conta a relação entre as frequências limites
da banda e passagem e rejeição bem como a diferença de atenuação entre elas. Estas relações
permitem o projeto de um fltro passa baixa normalizado (frequência de corte unitária) cujas
soluções são tabeladas. A partir deste fltro e de desnormalizações apropriadas é possível projetar
qualquer um dos demais fltros.
Tabela 21.1: Funções de primeira e segunda ordem
Tipo de fltro Função de transferência
Integrador K
S
Passa baixa 1ª ordem K
s0
S +s
0
Passa alta 1ª ordem K S
S+s
0
Passa baixa de 2ª ordem K
?
20
S2+?0
Q
S +?
20
Passa alta de 2ª ordem K S2
S2+?0
Q
S +?
20
Passa faixa (2ª ordem) K
?
0
Q
S
S2+?0
Q
S +?
20
Rejeita faixa (2ª ordem) K
S2+?
20
S2+?0
Q
S +?
20
Funções de maior ordem são obtidas pelo produto destas funções.
Nesta normalização a frequência limite da banda de passagem é ?¯p=1, a frequência limite
da banda de rejeição é ?¯s, a atenuação permitida na banda de passagem é Amáx e a mínima
atenuação exigida para a banda de rejeição Amin.
Uma vez determinado o gabarito do fltro e do fltro normalizado escolhe-se a aproximação
(o tipo de polinômio que se pretende empregar). Para fltros com ordem maior do que 2 cada
aproximação apresenta características distintas pois aloca os polos em locais diferentes. Esta
alocação de polos confere a aproximação características especiais de amplitude, fase e resposta
temporal. Só depois da escolha da aproximação o fltro pode ser implementado em circuito e
normalmente isto é feito em secções de primeira e segunda ordem ligadas em cascata. A exceção
são os fltros que já vem prontos em circuitos integrados.
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 219Amin
Amáx
wp ws
Amin
Amáx
ws wp
Amin
Amáx
w1 w3 w4 w2
Amin
Amáx
w3 w1 w2 w4
(A)
(B) (C)
(D)
Figura 21.1: Gabaritos dos fltros seletores em termos de atenuação. (A) passa baixa, (B) passa alta, (C) passa faixa, (D)
rejeita faixa
21.5 Normalização e desnormalização em frequência
21.5.1 Transformação passa baixa para passa baixa normalizado
O fltro passa baixas é aquele que atenua as altas frequências (em comparação com as
frequências baixas) e, por isso, é muitas vezes utilizado para remover ou minimizar os efeitos de
ruído de alta frequência, assim como para produzir os fltros anti aliasing. Observando um sinal
no domínio do tempo percebe-se que ele apresenta componentes de alta frequência quando há
variações rápidas do sinal, como em transições abruptas ou em variações aleatórias. O gabarito
para o passa baixas é apresentado na Figura 21.2.
Amin
Amáx
wp ws
Figura 21.2: Gabarito de um fltro passa baixa.
Para normalizar
?
p=1 (21.2)
?
s=
?
s
?
p
(21.3)
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 220Para desnormalizar basta substituir S por S ¯ /?p na equação do fltro passa-baixa
normalizado ou fatorar o fltro em seções de primeira e segunda ordem e substituir s0 ou ?0 por
?p
.
Exemplo 1: Desnormalizar o fltro T(S)= ¯ 1/(S¯+1) em um passa baixas com frequência de
corte ?
p.
Solução 1: Substituir S por S ¯ /?p em
T(¯ S)= ¯S1 +1
T(S)= 1
S/?
p+1=
?
p
S+?
p
.
Solução 2: Sabendo que um fltro passa baixa de primeira ordem tem função de
transferência T(S)=s0/(S+s0) basta substituir s0 por ?p.
T (S)= ?p
S+?
p
Exemplo 2: Desnormalizar o fltro T(S)= ¯ 1/(S¯2+0,707·S¯+1) em um passa baixa com
frequência de corte ?p.
Solução: Na função de transferência do passa baixa normalizado Q- 1=0,707. A função de
transferência de um fltro passa baixa de segunda ordem é T(S)=?02/(S2+?0·Q- 1·S+?02). Substituindo
os valores de Q e fazendo ?0=?p resulta em
T(S)= ? p
2
S2+0,707?
p S+?2p
21.5.2 Transformação passa alta para passa baixa normalizado
O fltro passa altas é aquele onde as baixas frequências são mais atenuados que as altas
frequências. Por esta razão este tipo de fltro é muito utilizado para a remoção de níveis de CC,
o?sets e drifs. Como visto na Tabela 21.1, estes fltros apresentam a parcela S no numerador, o que
garante ganho 0 para ?=0 independentemente da ordem do fltro. Se um sinal não possui
componentes de CC e apresenta algum o?set, este o?set pode ser removido com um fltro passa
altas. Se o sinal possui componentes de CC e o?set, este o?set não pode ser removido com um
fltro passa baixas, caso contrário a componente CC do sinal será eliminada. Nestes casos é
necessário eliminar o o?set com um somador ou subtrator. O gabarito para um passa altas padrão
é apresentado na Figura 21.3.
Para normalizar
?
p=1 (21.4)
?
s=
?
p
?
s
(21.5)
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 221Amin
Amáx
ws wp
Figura 21.3: Gabarito de um fltro passa alta.
Para desnormalizar basta substituir S por ¯ ?p/S na equação do fltro passa baixa
normalizado ou fatorar o fltro em seções de primeira e segunda ordem e substituir s0 ou ?0 por
?p
.
Exemplo 1: Desnormalizar o fltro T(S)= ¯ 1/(S¯+1)
Solução 1: Substituir S por ¯ ?p/S em T(S)= ¯ 1/(S¯+1) temos
T (S)= 1
?
p /S+1=
S
S+?
p
Solução 2: Sabendo que este fltro é um passa alta de primeira ordem ele tem equação
T(S)=s0/(S+s0). Substituindo s0 por ?p temos
T (S )= S
S +?
p
Exemplo 2: Desnormalizar o fltro T(S)= ¯ 1/(S¯2+0,707·SS+1).
Solução: Como o fltro é um passa alta de segunda ordem T(S)=S2/(S2+?0·Q-1·S+?02), então
Q- 1=0,707 e ?0 deve ser substituído por ?p. Assim,
T(S)= S2
S2+0,707?
p S+?2p
21.5.3 Transformação passa faixa para passa baixa normalizado
O fltro passa faixa é aquele onde as frequências centrais (uma faixa de frequência) é
menos atenuada do que as frequências baixas ou altas. Este fltro normalmente é empregado para
selecionar apenas uma faixa das componentes em frequência do sinal, como ocorre quando
desejamos estudar apenas as ondas ß de um sinal de EEG, por exemplo. Qando desejamos
selecionar uma faixa de frequências muito grande, tipicamente bem maior que uma década, este
fltro é implementado como um fltro passa altas em cascata com um fltro passa baixas. Um
exemplo deste tipo de implementação ocorre quando fltramos um sinal de ECG, com um fltro
passa altas em 0,04 Hz para remover níveis CC e drifss, enquanto que um fltro passa baixas em
100 Hz pode ser utilizado para remover ruídos de alta frequência. O gabarito clássico do fltro
passa altas é apresentado na Figura 21.4.
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 222Figura 21.4: Gabarito de um fltro passa faixa.
Para normalizar o fltro é necessário fazer com que as atenuações Amín e Amáx sejam iguais
nas bandas de rejeição e passagem e que as frequências do fltro atendam a seguinte condição
?
0=v?1·?2=v?3·?4 , com banda de passagem entre ?1 e ?2.
Qando as exigências forem atendidas a normalização é feita fazendo
?
p=1 (21.6)
?
s=
?
4-?3
?
2-?1 (21.7)
Para desnormalizar basta substituir S por ( ¯ S2+?02)/(B·S) na equação do fltro passa baixas
normalizado. Nesta equação B=?2-?1=?0/Q.
Exemplo 1: Desnormalizar o fltro T(S)= ¯ 1/(S¯+1)
Solução: Substituir S por ( ¯ S2+?02)/(B·S) e B=?0/Q
T(S)= 1
S2+?
2p
BS
+1
=
BS
S2+BS+?
2p
=
?
p
Q
S
S2+ ?p
Q
S+?
2p
Exemplo 2: Devemos captar sinais na faixa de 300 Hz a 3,4 kHz. Uma interferência de
60 Hz está presente no sistema prejudicando o experimento. Deseja-se projetar um fltro passa
faixa tal que esta interferência seja atenuada em 15 vezes. Desenhe o gabarito do fltro desejado e
do passa baixas normalizado.
wp ws w3 w1 w2 w4
Amin
Amáx
Atenuação Atenuação
Solução: ?1=300 Hz, ?2=3,4 kHz, ?3=60 Hz, ?4=(?1·?2 )/?3 = 17 kHz,
Instrumentação e Técnicas de Medida – UFRJ, 2015/2
Amin
Amáx
w3 w1 w2 w4
223?p
=1 rad/s, ?s= (?4–?3)/(?1–?2)=5,46 rad/s.
Amáx=3 dB, Amín = 20·log(15) dB
21.5.4 Transformação rejeita faixa para passa baixa normalizado
O fltro rejeita faixa é aquele que atenua mais a faixa central de frequências do que as
baixas ou altas frequências. Este tipo de fltro não é muito comum com exceção do seu caso
particular o fltro notch. O fltro notch é um rejeita faixa muito seletivo, ou seja, com elevado Q.
Em outras palavras o fltro notch é aquele em que a faixa de frequências atenuadas é muito estreita
e a atenuação é muito grande. Este tipo de fltro é muito comum para retirar interferência de
60 Hz oriunda da rede elétrica. Apesar da sua aplicação corriqueira e efciente, o fltro notch
distorce muito a fase do sinal e por esta razão deve ser utilizado com cautela. Como já foi dito,
modifcações de fase alteram o formato do sinal, o que pode ser inaceitável caso a interpretação do
sinal dependa do seu formato.
Amin
Amáx
w1 w3 w4 w2
Figura 21.5: Gabarito de um fltro rejeita faixa.
Para normalizar o fltro é necessário fazer com que as atenuações Amin e Amáx sejam iguais
nas bandas de passagem e rejeição e que as frequências do fltro atendam a seguinte condição
?
0=v?1·?2=v?3·?4 , com banda de passagem entre ?1 e ?2
Qando as exigências forem atendidas a normalização é feita fazendo
?
p=1 (21.8)
?
s=
?
2-?1
?
4-?3 (21.9)
Para desnormalizar basta substituir S por ¯ (B·S)/(S2+?02) na equação do fltro passa baixas
normalizado. Nesta equação B=?2-?1=?0/Q.
Exemplo 1: Desnormalizar o fltro T(S)= ¯ 1/(S¯+1)
Solução: Substituir S por ¯ (B·S)/(S2+?02) e B=?0/Q
T(S)= 1
B·S
S2+?
2p
+1
=
S2+?
2p
S2+BS+?
2p
=
S2+?
2p
S2+ ?p
Q
S+?
2p
Exemplo 2: Projetar um fltro capaz de eliminar a frequência de 60 Hz, mantendo o ganho
aproximadamente unitário para DC e 2 kHz. Fazer o projeto para uma banda de rejeição de
±10 Hz.
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 224Solução 1: É possível usar um fltro de segunda ordem, então T(S)= ¯ 1/(S¯+1)
A desnormalização é feita substituindo S por ¯ (B·S)/(S2+?02) onde B=?2-?1=20 Hz e
?0=2·p·60 Hz, logo
S¯= (2·p·20)2
s
2
+(2·p·60)2
T (s)= s
2
+(2·p·60)2
s
2
+(2·p·20·s)+(2·p·60)2
Solução 2: A função do fltro rejeita faixa de segunda ordem é
T(S)=(S2+?02)/(S2+?0·Q- 1·S+?02) sendo que, neste caso, B=?2-?1=20 Hz e ?0=2·p·60 Hz. Logo
T (s)= s
2
+?
20
s
2
+B·s+?
20
=
s
2
+(2·p·60)2
s
2
+(2·p·20·s)+(2·p·60)2
21.6 Escolha das frequências e atenuações
A determinação das frequências que defnem as bandas de passagem e atenuação, assim
como as atenuações máxima e mínima corresponde a parte mais subjetiva do projeto de fltros.
Normalmente não há uma resposta única para cada problema e a determinação de todos estes
parâmetros vai depender do que cada projetista julga necessário ou razoável. Apesar disto existem
muitas respostas erradas para um mesmo problema. Saber o que pode e o que não pode ser feito é
fundamental e, por essa razão, existem alguns balizadores que auxiliam na escolha e tomada de
decisão. A primeira coisa para a qual devemos atentar é o fato de que fltros não possuem apenas
duas bandas, a de passagem e a de rejeição, e sim três, o que inclui uma região de transição. Isto
signifca que os sinais fora da banda de passagem são atenuados em diferentes níveis dependendo
da sua frequência. Com isso em mente é mais fácil aceitar que nem a frequência de corte será
perfeitamente defnida.
É necessário escolher sempre os piores casos. A frequência de corte é, no mínimo, aquela
que deixa a banda do sinal passar, isto é claro, o problema é defnir exatamente quem é a banda de
passagem. Mesmo para sinais que estão bem estudados e relatados na literatura, como o EMG, por
exemplo, a banda de passagem depende do tipo de eletrodo e do músculo que está sendo
investigado. Um sinal vindo de uma célula de carga, por outro lado, nem sempre é um sinal bem
caracterizado na literatura. Nestes momentos é difícil ser preciso ou exato na determinação da
frequência de corte. Para piorar ainda mais as coisas suponha que você meça este sinal e estime
sua composição espectral usando técnicas de processamento de sinais. Você descobrirá que todos
os sinais possuem infnitas componentes de frequência com amplitude não nula, principalmente
se o seu gráfco estiver em dB (isto fca muito visível), então não é possível usar isto como critério.
O que ocorre, na verdade, é que em algum momento o nível de ruído se confunde com o nível das
componentes mais altas do sinal. O que devemos estabelecer é a partir de onde as componentes de
frequência tem amplitudes irrelevantes ou que se confundam com o ruído. Depois disto devemos
defnir qual maior atenuação que aceitaremos na banda de passagem. Conservadoramente adotase o critério de meia potência (onde a potência do sinal cai pela metade) o que equivale ao ponto
de -3dB. Neste ponto as componentes de frequência já estão sendo multiplicadas por 0,707 (há
uma atenuação de 30% no sinal). Qando as componentes de frequência que compõe o sinal já tem
baixa amplitude na frequência de corte, este critério pode ser adotado sem muitos problemas, caso
contrário talvez seja mais interessante aumentar a faixa de passagem ou reduzir a atenuação
máxima aceita. Erros de fase também devem ser levados em conta.
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 225Tão difícil quanto a escolha da frequência de corte e sua atenuação máxima é a defnição
de onde inicia a banda de atenuação e qual a atenuação mínima desejada para esta frequência. Em
alguns poucos casos, como para o fltro notch, estes valores são bem determinados. Para o restante
é necessário alguma ponderação. O segundo caso mais simples é o caso do fltro anti aliasing, já
que a amplitude do sinal na metade da frequência de amostragem deve, ao menos, atender a
algum critério de razão sinal ruído (e o AD disponível ajuda a defnir um ruído aceitável para a
instrumentação). Para os demais casos é possível, também, adotar critérios de razão sinal ruído. A
razão sinal ruído (SNR) é formalmente defnida para sinais com aparência aleatória e média zero.
Nestes casos a SNR é defnida como a razão entre a potência do sinal e a potência do ruído.
Novamente aqui é difícil defnir qual é a potência do ruído e qual é a potência do sinal uma vez
que os dois estão misturados. A razão entre valores RMS (valor efcaz) também é usada para a
mesma defnição e sofre dos mesmos problemas. Como estas estimativas são complexas e
requerem processamento de sinais nós, nesta disciplina, usaremos a amplitude dos sinais quando a
informação de potência ou valor RMS não estiverem disponíveis. Complicando ainda mais as
coisas a SNR pode ser calculada para toda a faixa de frequências ou para bandas mais estreitas
(caso da potência), ou para trechos específcos do sinal (caso das amplitudes). Por exemplo, num
sinal de ECG pode ser que as ondas P e T tenham amplitude muito menor do que o complexo
QRS, neste caso um ruído com valor fxo de amplitude, pode parecer pequeno no complexo QRS e
grande quando estiver nas ondas P e T.
Exemplo 1: Minimizar o efeito de uma interferência de 60 Hz e tensão efcaz de 1 V sobre
um sinal com banda passante até 10 Hz e amplitude de 0,1 V. Admite-se 11% de atenuação máxima
do sinal na banda passante. Deseja-se uma relação sinal ruído de 100 vezes.
Solução: Filtro passa baixas (a opção mais simples)
Ganho Mínimo na Banda Passante: 20·log·(100%–11%)=–1 dB
Diferença de amplitude entre Sinal e Ruído: 20·log(0,1/1)=–20 dB
Relação sinal ruído de 100 vezes: 20·log(100)=40 dB
Amáx=1 dB
Amin=40 dB+20 dB+1 dB=61 dB
Frequência de corte 10 Hz, frequência da banda de atenuação 60 Hz
21.7 Aproximações
Uma vez que os gabaritos tenham sido determinados é necessário encontrar um polinômio
que atenda as especifcações do projeto. Existem vários tipos de funções de transferência, algumas
são polinomiais (Buterworth, Chebyshev I e Bessel) outras não polinomiais (Cauer e Chebyshev
II). Nos fltros não polinomiais, zeros sobre o eixo j? ajudam a obter uma atenuação mais rápida
na banda e transição, mas pioram as características de fase e de resposta temporal. Os fltros
polinomiais são aqueles em que o passa baixa normalizado apresenta ganho defnido por uma
constante no numerador e um polinômio no denominador (apenas um polinômio de atenuação).
A seguir são apresentados alguns polinômios que podem ser empregados para o projeto de
fltros e algumas características de cada um destes polinômios. Nem todos são comuns, mas todos
podem ser utilizados para este fm. Ao fnal são apresentadas os principais critérios empregados
para a escolha das aproximações, uma tabela com os principais fltros e indicações sobre os mais
comuns.
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 226Bessel – BS
Função monotônica na banda passante;
Qanto maior o grau do fltro mais linear a fase na banda de passagem;
Pior resposta em magnitude dentre os listados aqui;
Não preserva característica de fase quando se fazem desnormalizações em frequência;
Ordem muito alta, característica de fase muita boa.
Gauss – GS
Monotônico na banda de passagem;
Melhor resposta temporal (overshoot e atraso ao degrau) dentre os fltros polinomiais,
para um dado grau e Amáx;
Semelhante ao fltro de Bessel;
Ordem muito alta, característica de fase muito boa.
Multiplicidade “n”
Monotônico na banda de passagem;
Polos reais;
Ótimas características temporais (menor tempo de atraso e sem overshoot) e de fase;
Pobre característica de atenuação;
Ordem muito alta, característica de fase muito boa.
Butterworth – BT
Função monotônica mais planas possível;
Ordem alta, característica de fase boa.
Halpern – HA
Dentre os polinomiais com características monotônicas na banda passante é o de corte
mais abrupto dado um grau e Amáx;
Ordem média, característica de fase média.
Legendre – LG
Dentre os polinomiais com características monotônicas na banda passante apresenta a
maior inclinação na característica de magnitude em torno da frequência limite da
banda de passagem;
Ordem média característica de fase média.
Chebyshev (I) – CB
Equiripple na banda passante, função monotônica na atenuação;
Corte mais abrupto entre os polinomiais, para um dado grau e Amáx;
A fase, entretanto, vai piorando a medida que o grau aumenta;
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 227Ordem baixa, característica de fase ruim.
Chebyshev (II) Inverso – CI (fltro não polinomial)
Monotônica na banda passante, portanto melhor característica de fase;
Equiripple na banda de rejeição;
Não polinomial, apresenta zeros sobre o eixo j?;
Ordem baixa, característica de fase boa.
Cauer ou Elíptico – CE (fltro não polinomial)
Equiripple na banda de passagem e de atenuação;
Menor ordem – zeros sobre o eixo j? ajudam;
Característica de fase pior que Chebyshev Inverso;
Ordem muito baixa.
Transicionais – FT
Melhor conjunto de características temporal, fase, e atenuação.
Pelo exposto acima, observa-se que, via de regra, melhores características de fase estão
associadas a melhores características temporais. Assim, os principais critérios (os mais comuns) de
escolha para estas aproximações são:
Ordem do filtro (Cauer, Chebyshev, Halpern, Legendre...);
Dificuldade de implementação (Cauer e Chebyshev II);
Sensibilidade – desvio na magnitude e fase;
Regularidade na curva de resposta (Butterworth);
Resposta temporal (Gauss, Bessel);
Característica de fase (Bessel e Gauss para PB, Multiplicidade n e Transicional... se for
utilizado um equalizador);
Uma síntese das principais características para os fltros mais comuns são listadas na
Tabela 21.2.
Tabela 21.2: Principais características das aproximações mais comuns
Polinômios Faixa de Passagem Faixa de Rejeição Fase Grau do Filtro
Buterworth Máxima planura Monotônico Boa Médio+
Chebyshev I Ondulado Monotônico Regular Médio–
Chebyshev II Monotônico Ondulado Regular Médio–
Bessel Plano Monotônico Ótima Grande
Elíptico (Cauer) Ondulado Ondulado Ruim Pequeno
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 228Exemplos de gráfcos de resposta em frequência e resposta temporal para os fltros Bessel,
Buterworth e Chebysehev de oitava ordem, são apresentados na Figura 21.6.
Figura 21.6: Curvas de magnitude e resposta temporal (resposta ao degrau e ao impulso) de fltros passa baixas de oitava
ordem.
21.8 Cálculo das aproximações
As aproximações apresentadas anteriormente confguram algumas das possíveis
aproximações empregadas para os fltros. Existe um grande número de funções que satisfazem os
requisitos de um dado gabarito sendo que algumas são obtidas por métodos de otimização
puramente numéricos e outras por funções analíticas consagradas.
Antes de apresentar a solução para o cálculo de alguns fltros considere que a função de
atenuação H(?) possa ser escrita como
| H (?)|2=1+| K (?)|2 (21.10)
onde K(?) é a função característica
A(?)=10·log(1+| K (?)|2) (21.11)
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 229Defnindo e como a máxima distorção (variação de ganho ou atenuação – em alguns casos
e é o ripple na banda de passagem) na banda de passagem da função característica K(?), tem-se
K (? p)=e (21.12)
A (?p)= Amáx=10·log(1+e2) (21.13)
e=[1010 Amáx -1]1 2 (21.14)
com Amáx em dB
21.8.1 Para aproximação de Butterworth
A aproximação de Buterworth é uma das mais simples e foi a primeira a ser sistematizada
K (?)=e(??p)n (21.15)
|H (?)|=[1+e2·(??p )2·n]1 2 (21.16)
A (?)10·log[1+e2·(??p)2·n] (21.17)
A normalização de funções Buterworth pode ser feita para a frequência ?p e, diferente de
outras aproximações também para a atenuação e com auxílio da equação
?=e
1n
·(? ? p ) (21.18)
ou seja
?=e
1n
·(? ? p ) (21.19)
assim A(?¯)=10·log(1+?¯2·n) [dB], solução normalizada para ?p=1 e e=1.
A determinação do grau do polinômio pode ser obtida
A
min?A(?s)=10·log[1+e2·?s2·n] (21.20)
n?
log[( (10 100,1 0,1· ·Amin Amáx--11))]
2·log ?s
(21.21)
onde Amáx e Amin estão em dB; ?¯s é calculado de quatro formas diferentes dependendo do tipo de
fltro que se esteja calculando (veja normalização dos fltros PB, PA, PF e RF).
A determinação da função de Buterworth pode ser obtida
| H (?)|2=1+| K (?)|2 (21.22)
H (S )·H (-S )=1+K (S )·K (-S) (21.23)
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 230H(S¯)·H(-S¯)=1+(-S¯2·n), solução normalizada para ?p=1 e e=1, H(S¯) apresenta todas as raízes sobre o
círculo de raio unitário.
H (S )=H 0+ H1·S+ H 2·S2+...+ H n·Sn (21.24)
para construir o polinômio
H
k=
cos[(k-2·1n)·p ]
sen(k2· ·p n) (21.25)
para obter as raízes
S
k=e
j p
2
·(2·k+nn-1) (21.26)
onde k = 1, 2, ...
Para desnormalizar a atenuação máxima basta substituir S¯ por nve·(S¯) no fltro passa baixa
normalizado. Para desnormalizar em frequência bast a substituir S por ¯ S/?p
Exemplo 1: Calcule o fltro Buterworth com ?p=10 kHz, ?s=15 kHz, Amáx=1 dB,
Amin=25 dB
Resposta do exemplo. No MATLAB: [b a]=buter(9,2*pi*100000,'low','s'); bode(b,a);
Instrumentação e Técnicas de Medida – UFRJ, 2015/2
Freqüência (rad/seg)
Fase (graus); Magnitude (dB)
Diagrama de Bode
-50
-40
-30
-20
-10
0
Exemplo: w p=10kHz (Amáx=1dB), w s=15kHz (Amin=25dB)
104 105
-600
-400
-200
0
To: Y(1)
231e=[1010 Amáx-1]1 2 = 0,50818
n?
log[( (10 100,1 0,1· ·Amin Amáx--11))]
2·log ?s
= 8,76 (usar 9)
com (?s=15000 10000)
k=1, Sk=-0.1736±0.9848i , S¯2+0,3472·¯ S+1
k=2, Sk=-0.5000±0.8660i , S¯2+¯ S +1
k=3, S¯k=-0.7660±0.6428i , S¯2+1,532·¯ S+1
k=4, Sk=-0.9397±0.3420i , S 2+1,8794·S +1
k=5, Sk=-1 , S +1
H (¯ S)=(¯ S+1)·(S¯2+1,8749·¯ S+1)·(S¯2+1,532·¯ S+1)·(S¯2+¯ S+1)·(S¯2+0,3472·¯ S+1)
T(S)= ¯ 1/H(S¯) e a desnormalização pode ser feita substituindo S¯ por nve·(S/?p), ou seja
S=S ¯ ·1,47614·10-5 ou, utilizando as formas padrões de primeira e segunda ordem do fltro passa
baixa.
T (S)= ?0
(S +?0)·
?
20
(S2+1,8794·?0·S+?0 2)·
?
20
(S2+1,5321·?0·S +?02) x
?
20
(S2+?0·S+?0 2)·
?
20
(S2+0,3472·?0·S +?0 2)
onde ?
p=?p/nve=6,773·104 rad/s.
Exemplo 2: Projetar um fltro Buterworth passa altas, com ordem não menor do que três
e que atenda as seguintes especifcações: ganho máximo da banda de passagem igual a 0dB; ganho
mínimo na banda de passagem igual a -3 dB; ganho máximo na banda de atenuação igual a
-20 dB; frequência de passagem de 10 kHz; frequência de atenuação de 5 kHz.
?p
=1 rad/s, ?s=(10/5) rad/s.
Amáx=3 dB, Amín=20 dB
e=[1010 Amáx-1]1 2 ?1
n=
log[10 100,1 0,1··Amáx Amin--11]
2·log ?¯S =3,31
S
k=e
j p
2
·(2·k+nn-1)
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 232S1,2 = 0,38217 + j0,92319 (S¯2+0,76514·S+1 ¯ )
S3,4 = 0,92319 + j0,38217 (S¯2+1,84718·S+1 ¯ )
T (S)= S2
S2+0,7654·?0·S+?0 2·
S2
S2+1,84878·?0·S +?02
onde ?0=2·p·10.000 Hz.
21.8.2 Outras aproximações
Existem algoritmos para o cálculo de cada uma das aproximações. Alguns são deduzidos de
forma analítica, como no caso do Buterworth, enquanto outros são obtidos por programas de
computador e soluções iterativas ou numéricas. O processo de cálculos dos fltros é sempre
complicado e por esta razão usaremos sempre soluções tabeladas e programas de computador que
fazem este cálculo. Isto, entretanto, não nos exime da responsabilidade de especifcar o fltro e
defnir a aproximação que será usada.
Para estimar o grau do fltro é muito comum o uso de gráfcos e para a determinação dos
polinômios costuma se utilizar tabelas. Em programas como o MATLAB ou o OCTAVE, por
exemplo, existem funções específcas que estimam a ordem de fltros (butord, cheb1ord, cheb2ord
e ellipord) ou calculam seus coefcientes (besself, buter, cheby1, cheby2, ellip). Outros programas,
como o Filter Wizard da Analog Devices, fazem o projeto da parte eletrônica com base nas
informações dos gabaritos de ganho ou atenuação. Na sequência são apresentadas as soluções
tabeladas para alguns fltros e exemplos de gráfcos utilizados para a determinação do grau dos
fltros.
21.8.3 Gráfcos de resposta normalizados
Para determinar o grau de um fltro, sem usar as equações deste fltro, é muito comum o
uso de gráfcos como o apresentado na Figura 21.7. Nela estão as respostas de fltros passa baixa
normalizados Buterworth, Chebyshev com ripple de 1 dB e Bessel, de graus 2, 3, 4, 5, 6, 7, 8, 9 e
10. Para determinar o grau apropriado basta desenhar sobre estes gráfcos as atenuações máximas
e mínimas e a frequência de início da banda de rejeição.
21.8.4 Soluções tabeladas
Apesar de existirem algoritmos para o cálculo dos fltros é muito comum encontrarmos
tabelas com os polinômios normalizados. A seguir são apresentados algumas tabelas com os
polinômios mais comuns. Nelas a função de transferência é separada em seções de primeira e
segunda ordem. Estão indicados os graus dos fltros (N), o valor de ? e Q de cada seção. Para os
fltros de grau ímpar, uma das seções é de primeira ordem e não apresenta Q. Neste caso ?
corresponde a s nas soluções padronizadas.
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 233Figura 21.7: Curvas para fltros passa baixas normalizado Buterworth, Chebyshev e Bessel.
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 234Tabela 21.3: Parâmetros para fltros de Buterworth (3dB de ganho na frequência de corte)
N ?1 Q1 ?2 Q2 ?3 Q3 ?4 Q4
2 1,000100 0,7071107
3 1,000100 1,000100 1,000100 -
4 1,000100 1,306156 1,000100 0,5411196
5 1,000100 1,618103 1,000100 0,6181034 1,000100 -
6 1,000100 1,931185 1,000100 0,7071107 1,000100 0,5171638
7 1,000100 2,246198 1,000100 0,8011938 1,000100 0,5541958 1,000100 -
8 1,000100 2,562191 1,000100 0,8991977 1,000100 0,6011345 1,000100 0,505199
*Ganho unitário
Tabela 21.4: Parâmetros para fltros de Bessel (desvio de fase de N / 4 rad na frequência de corte)
N ?1 Q1 ?2 Q2 ?3 Q3 ?4 Q4
2 1,000100 0,5771350
3 1,078169 0,6911047 0,9851560 -
4 1,078190 0,8051538 0,9621319 0,55211935
5 1,085104 0,9161478 0,9621003 0,5631536 0,9281640 -
6 1,092170 1,023131 0,9691010 0,6111195 0,9201141 0,5101318
7 1,100134 1,126126 0,9781443 0,6601821 0,9211478 0,5221356 0,9041336 -
8 1,100146 1,225167 0,9821040 0,7101853 0,9211150 0,5591609 0,8941187 0,5051991
Tabela 21.5: Parâmetros para fltros de Chebyshev (ripple de 0,5 dB na faixa de passagem)
N ?1 Q1 ?2 Q2 ?3 Q3 ?4 Q4
2 1,231134 0,8631721
3 1,068185 1,706119 0,6261456 -
4 1,031127 2,940155 0,59717002 0,705111
5 1,017174 4,544196 0,6901483 1,177181 0,3621320 -
6 1,011145 6,512183 0,7681121 1,810138 0,3961229 0,6831639
7 1,008102 8,841181 0,8221729 2,575155 0,5031863 1,091155 0,2561170 -
8 1,005195 11,53018 0,8611007 3,465168 0,5981874 1,610168 0,2961736 0,6761575
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 235Tabela 21.6: Parâmetros para fltros de Chebyshev (ripple de 1 dB na faixa de passagem)
N ?1 Q1 ?2 Q2 ?3 Q3 ?4 Q4
2 0,86213 0,95614
3 0,91016 2,01713 0,045113 -
4 0,94313 3,55914 0,50119 0,78415
5 0,96114 5,55519 0,63317 0,71419 0,28010 -
6 0,97216 8,00316 0,72713 2,34612 0,34611 0,76018
7 0,97915 10,89812 0,79416 3,15518 0,47119 1,29711 0,20119 -
8 0,98412 14,23911 0,83915 4,26517 0,57612 1,95610 0,26116 0,75310
Exemplo 1: Calcule o fltro passa baixa, Chebyshev, com n=5, ?p=10 kHz, ?s=15 kHz,
Amáx=1 dB, Amin=25 dB
Resposta do exemplo. No MATLAB: [b a]=cheby1(5,1,2*pi*100000,'low','s'); bode(b,a);
Solução, direto da tabela
T(S)= 0,12283·?5p
(¯ S+0,2895·?p)·(¯ S2+0,4684·? p·¯ S+0,4293·?2p)·(¯S2+0,1790·?p·¯S+0,9883·?2p)
Instrumentação e Técnicas de Medida – UFRJ, 2015/2
Freqüência (rad/seg)
Fase (graus); Magnitude (dB)
Diagrama de Bode
-50
-40
-30
-20
-10
0
Exemplo: w p=10kHz (Amáx=1dB), w s=15kHz (Amin=25dB)
104 105
-600
-400
-200
0
236onde ?
p=2·p·104
Exemplo 2: Projete um fltro que atenda as seguintes especifcações: Tenha ganho de
-1dB nas frequências de 1.000 e 5.000 Hz; Tenha ganho de aproximadamente 2 dB na frequência
de 2.000 Hz; Atenue 20 dB em 8 kHz; Tenha ganho nulo em DC.
Solução: Encontrar o gabarito do fltro:
Filtro passa faixas com f1= 1.000 Hz, f2= 5.000 Hz, f4= 8.000 Hz. Este fltro é um passa faixa
onde f3 não foi informada. Então podemos ajustá-la de forma a deixar o fltro simétrico.
f0=(f1·f2)0,5=2236 Hz
f3=(f2·f1)/f4=625 Hz.
Este fltro apresenta ganho de 2 dB, mas os gabaritos de fltros normalizados são para
ganho de 0 dB. A forma de resolver isto é com um amplifcador após o fltro, assim, o ganho pode
ser implementado no fnal pois ele não in?uencia no formato da curva, porém, devemos ter
atenção. Se o ganho deve ser de +2 dB na faixa de passagem e de -1 dB em f1, há uma variação
permitida de 3 dB na faixa de passagem! Então, podemos alterar o ganho para 0 dB e a Amáx para
3 dB. Após o projeto, inserimos um ganho de 2 dB para ajustar os valores do projeto.
K=0 dB
Amáx=3 dB
Amín=20 dB
Determinar o passa baixa normalizado equivalente
?p
=1 rad/s
?s=(?4–?3)/(?2–?1)=1,84 rad/s
Determinar a aproximação
Como não há especifcações que impeçam o uso de qualquer aproximação, podemos usar
um Buterworth.
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 237Observa-se pelo gráfco que um fltro Buterworth de quarta ordem é necessário. Pela
tabela determinamos o polinômio.
T (¯ S)= 1
(¯ S+ 1
1,30656
·¯ S+1)
·
1
(¯ S+ 1
0,541196
·¯ S+1)
Aplicar a desnormalização adequada em T(SS)
¯ S=(S2+?0 2)/(?2 –?1)·S=(S2+140492)/(2·p·4000·S) .
Exemplo 3: Um fltro deve atender, aproximadamente, as seguintes especifcações:
Atenuação de 35 dB na frequência de 1.000 Hz; Atenuação de 3 dB na frequência de 3.500 Hz; A
oscilação máxima na banda de passagem não deve ultrapassar 3 dB; O fltro deve alterar
minimamente a fase do sinal na banda de passagem. Escolher entre as aproximações de
Buterworth e Chebyshev. Identifque o tipo de fltro, desenhe o seu gabarito e identifque os
pontos do gráfco.
Amin=35 dB, fs=3.500 Hz
Amáx=3 dB, fp=1.000 Hz
É um fltro passa altas.
Se o ripple máximo é 3 dB e a máxima atenuação na banda de passagem é 3 dB então a
menor atenuação da banda de passagem é 0 dB. Assim, o ganho na banda de passagem é 0 dB.
Se o fltro deve alterar minimamente a fase do sinal na banda de passagem, e só podemos
escolher entre Buterworth e Chebyshev, devemos escolher Buterworth.
Projetar o fltro
Pelo gráfco a seguir o grau do fltro é 4 e pela tabela
TPB(¯ S)= 1
¯ S2+0,7653·¯ S+1·
1
¯ S2+1,8477·¯ S+1
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 238Desnormalizar
Usando as formas padrões de segunda ordem basta ajustar a frequência.
TPB(S)= S2
S2+0,7653·?0·S+?0 2·
S2
S2+1,8477·?0·S+?0 2
onde ?0=2·p·3.500 rad/s
Suponha que após o projeto do fltro você percebeu que era necessário um ganho de x5.
Para fazer isto você adicionou um amplifcador não inversor após o fltro. Nesta condição, diga
quanto será a atenuação na frequência de 3.500 Hz?
Ganho 5 corresponde a ganho de 13,97 dB. Então o ganho em 3.500 Hz será
aproximadamente 13,97 dB-3 dB=10,97 dB.
Outra forma de calcular é multiplicar o ganho em 3.500 Hz (0,707) por 5. O resultado é 3,53,
ou seja, 10,97 dB.
Também poderíamos ter calculado multiplicando a TPA(S) por 5 e substituindo S por
j(2·p·3.500). O resultado seria 3,53 que corresponde a 10,97 dB!
21.9 Etapas da síntese
Uma vez colocada as principais etapas para o projeto dos fltros seletores de frequência é
possível descrever em detalhes o mecanismo para o projeto de um fltro deste tipo. São necessárias
pelo menos 9 etapas descritas na sequência:
(1) Examinar o problema físico e determinar os requisitos necessários;
(2) Estipular as atenuações máximas e mínimas, determinar as frequências características;
(3) Normalizar as frequências do fltro (em alguns casos não precisa ser feito);
(4) Escolher aproximação e determinar o grau do fltro;
(5) Determinar a T(S) ou H(S);
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 239(6) Escolher a técnica de implementação (um tipo de circuito);
(7) Desnormalizar as frequências do fltro (em alguns casos pode ser feito antes da etapa 6);
(8) Analisar o circuito com valores nominais;
(9) Testar o fltro.
21.10 Síntese de fltros
Filtros analógicos seletores de frequência podem ser implementas em diversas tecnologias
como os fltros passivos RLC (particularmente as redes ladder LC), fltros a capacitor chaveado,
corrente chaveada, MOSFET-C, OTA-C e fltros ativos RC (os mais simples e comuns). Os fltros
ativos RC podem, por sua vez, ser implementados em cascata com redes de 1 ou vários AO, redes
multirealimentadas; redes ladder RLC com simulação de indutores; redes ladder RLC com
escalamento de impedância para uso com FDNR; redes ladder LC simuladas entre outras. Como
podemos observar o assunto é tão complexo quanto o estudo das aproximações e não é foco deste
curso.
Nesta disciplina serão estudados alguns fltros ativos RC ligados em cascata. Nestes
projetos devemos preferencialmente, dividir o fltro em seções de primeira e segunda ordem,
interligar as seções em cascata (esta característica que facilita o projeto também é responsável pela
maior sensibilidade destes fltros a variações nos componentes), evitar capacitores eletrolíticos, e
dar preferência a capacitores de polipropileno, mica e cerâmica, distribuir o ganho entre todas as
seções, utilizar um possível passa baixas como primeiro estágio de fltragem para eliminar as altas
frequências e diminuir problemas com slew-rate, colocar uma eventual seção passa altas como
estágio de saída para diminuir problemas com o?set, manter a banda de passagem o mais plana
possível, sempre, manter polos e zeros próximos.
21.11 Filtros de segunda ordem RC
21.11.1 Filtros a capacitor chaveado
Uma abordagem bastante comum para a integração de fltros é a utilização da técnica de
capacitor chaveado. Diversos fabricantes produzem integrados com fltros a capacitor chaveado
como os MF100 da National, o TLC04 da Texas Instruments, o MAX7491 e os MAX7401/MAX7405
da Maxim, o LTC1062 da Linear Technology além de blocos de capacitor chaveado para uso
genérico como o LTC1043 da Linear Technology. Muitas vezes o fltro vem pronto dentro do
circuito integrado e nenhum componente externo é necessário. Nestes casos a aproximação e a
ordem do fltro devem ser escolhidos quando o circuito integrado é comprado. Cada modelo vem
com um fltro específco que não pode ser modifcado. Nestes circuitos a frequência de corte
depende apenas da frequência de um clock (uma onda quadrada) que pode ser facilmente criada
usando as atuais placas de aquisição de sinais. Estes integrados costuma ser pequenos, com 1
entrada, 1 saída, 1 entrada para o clock e 1 ou 2 entradas para as fontes de alimentação.
Também existem modelos mais sofsticados onde todos os tipos de fltro estão disponíveis
(PB, PA, PF e RF) e as aproximações podem ser escolhidas (são os chamados fltros universais). Um
bom texto sobre este assunto pode ser encontrado em Take the Mystery Out of the Switched
Capacitor Filter da Linear Technology. A Cypress apresenta um texto sobre fltros de segunda
ordem a capacitor chaveado em PSoC1. Algumas páginas dizem respeito exclusivamente ao PSoC
mas há muita informação sobre estes fltros em Understanding Switched Capacitor Filters.
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 240Neste abordagem um capacitor é chaveado com altas frequências de forma que a corrente
média que circula no capacitor pode ser modelada como a corrente de um resistor. A Figura 21.8
mostra como o resistor de um integrador é substituído por um capacitor chaveado.
Figura 21.8: Esquema básico de um integrador com capacitor chaveado.
As chaves W1 e W2 são acionadas em instantes de tempo diferentes de forma que o
integrador pode ser analisado em dois momentos distintos. O primeiro quando W1 está fechada e
W2 está aberta. Nesta situação o capacitor recebe cargas da fonte vi, e a tensão acumulada no
capacitor C2 corresponde a tensão de saída do operacional.
Em um segundo instante a chave W1 está aberta e a chave W2 está fechada. Nesta condição
o capacitor C se conecta ao circuito com o AO fazendo circular corrente entre ele e o capacitor C2.
Se a frequência de chaveamento for muito elevada a corrente média que circula pelo
capacitor C pode ser modelada como
i
C=
C·v
i
T
C
(21.27)
por associação
i=
v
i
Req
(21.28)
então
Req=
T
C
C
(21.29)
i
C=
v
i
Req
(21.30)
Esta relação é válida inclusive para o cálculo de constantes de tempo que, tanto no
integrador original quanto no integrador com capacitor chaveado é
?=Req·C2 (21.31)
Esta relação é muito favorável para o uso destes fltros em circuitos integrados pois a
constante de tempo torna-se independente do valor dos capacitores do circuito. Na verdade a
constante de tempo depende apenas das relações entre os valores de capacitância o que pode ser
bem controlado em processos de integração.
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 241?=T
C·
C
2
C
(21.32)
21.11.2 Filtros variáveis de estado
Os fltros variáveis de estado apesar de necessitarem de no mínimo três AO apresentam
muitas vantagens que tornam atrativa a sua integração. Estes fltros podem ser utilizados em
funções de transferências com Q elevado (10<Q<500) e frequências de corte mais altas que aquelas
possíveis para as topologias de um só amplifcador. Além do mais, uma mesma topologia de
circuito permite a implementação de fltros passa baixas, passa altas e passa faixa. O ajuste do Q e
de ?0 são simples e relativamente independentes além de permitirem sintonia (ajuste da
frequência de corte) controlada por tensão.
Por todas estas razões é muito comum encontrarmos esta topologia integrada em circuitos
como o UAF42 da Texas Instruments, o LTC1563 e o LTC1568 da Linear Technology e os MAX270
e MAX271, MAX274 e MAX275 da Maxim (estes últimos implementam em um só integrado fltros
de até oitava ordem – com seções de segunda ordem em cascata).
O desenho básico do fltro de variáveis de estado esta representado no diagrama em blocos
da Figura 21.9. O mesmo circuito, pode ser um passa altas, um passa baixa, ou um passa faixa,
dependendo apenas de onde é retirado o sinal de saída do fltro.
Figura 21.9: Diagrama em blocos de um fltro variáveis de estado.
Equacionamento da saída passa altas
v
PA=vi-
A·?0·vPA
s
-
B·?0 2·vPA
s2
(21.33)
vPA
v
i
=
s
2
s2+ A·?
0 s+B·?0 2 (21.34)
Equacionamento da saída passa faixa
vPF=-
v
i·?0
s
-
A·?
0·vPF
s
-
B·?
20
·v
PF
s2 (21.35)
v
PF
v
i
=
s·?
0
s
2
+ A·?
0·s+B·?0 2 (21.36)
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 242Equacionamento da saída passa baixas
v
PB·s
2
=v
i·?0
2
- B·?
20
·v
PB- A·?0·s·vPB (21.37)
v
PB
vi
=
?
20
s2?A·?
0·s?B·?0 2 (21.38)
Se A=Q-1 e B=1 as funções de transferência são idênticas as dos gabaritos apresentados
anteriormente. O circuito que implementa o diagrama de blocos pode ser facilmente obtido com o
circuito da Figura 21.10.
Figura 21.10: Circuito de um fltro variáveis de estado.
As equações para os parâmetros são
?
0=?R1·R2K3 ·C1·C2 (21.39)
Q= 1? K4
1?K3·?K3R2 ·R1 ·C2 ·C1 (21.40)
K
PB=
K4·?1?K3?
K3·?1?K4? (21.41)
K
PA=
K4·?1?K3?
1?K4
(21.42)
K
PF =-K4 (21.43)
Normalmente a escolha dos componentes é feita de forma que R1=R2, C1=C2, e K3=1.
Estes fltros permitem algumas modifcações interessantes. Uma delas é o controle da frequência
de corte usando multiplicadores e controle por tensão (Figura 21.11).
Se as três saídas originais do fltro forem somadas de forma apropriada, para produzir uma
saída vo, pode-se obter, neste ponto, qualquer função de transferência de segundo grau, incluindo
aquelas com zeros complexo conjugados.
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 243Figura 21.11: Circuito de um fltro variáveis de estado com sintonia feita por tensão.
KPa=KPb=2·K4
1+K4 (21.44)
?
0=
Ec
10·R·C (21.45)
Q= 1 +K4
2 (21.46)
Exemplo 1
A Burr Brown fabricava um integrado híbrido (UAF42), cujo diagrama em blocos está
desenhado abaixo. De posse deste integrado, de capacitores, AO e resistores, projetar um fltro de
3? ordem de Chebyshev, passa alto, com máxima atenuação na banda de passagem de 1 dB e
frequência de corte de 2 kHz. O fltro deve ter módulo 2 na frequência de passagem. Desenhar o
circuito indicando os pinos do circuito integrado. Usar a menor quantidade de componentes.
Examinando o integrado nota-se que o é possível implementar com facilidade um fltro do
tipo variável de estado. Como o fltro é de 3?ordem o AO adicional pode ser utilizado para
implementar a seção de 1? ordem.
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 244Da tabela dos polinômios de Chebyshev com atenuação máxima de 1 dB e n=3. O fltro
passa baixas normalizado é:
T ? S ?= 0,99420
? S2?0,49417·S?0,99420?·
0,49417
?S?0,49417?
Para desnormalizar o fltro substituir S por ?0/S
S =
?
0
S
=
2·p·2000
S
=
12566
S
Finalmente, precisamos considerar que o módulo do ganho, nas frequências de passagem,
deve ser 2.
T ? S ?=2· 0,99420
?12566 S 2 2 ?0,49417·12566 S ?0, 99420?·
0,49417
?12566 S ?0,49417?
T ? S ?=2· 0,99420·S2
? 0,99420·S2?6210·S?157904356?·
0,49417·S
?0,49417·S?12566?
T ? S ?=2· S2
? S2?6246·S?158825544?·
S
? S?25428?
O fltro de variáveis de estado já vem praticamente montado no integrado. Faltam
interligar os integradores com resistores R1 (da saída passa altas para o integrador do passa faixa)
e R2 (da saída passa faixa para o subtrator da entrada). A entrada do fltro corresponde ao pino
IN3.
Os parâmetros do fltro são
?
0=?R1·R2K·C3 1·C 2 , e Q=11? ?K K 4 3·?K3 R·2R·C1·C 2 1
K
PA=
K4·?1?K3?
1?K4
.
onde C1=C2=1.000pF, K4=K3=1,
?
0=?158825544=12602
Q=
?
0
6210
=2
Podemos montar um sistema de 2 equações, 2 incógnitas (R1 e R2):
Q=2=?R R1 2
R
1=4·R2
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 245?
20
=126022= 1
4·R
22
·?1000·10-12?2
R
2=39676 ?
R
1=158705?
Falta projetar o fltro de 1? ordem, com ganho 2. Isto pode ser realizado com o AO que está
sobrando no integrado. A função de transferência
T ? S ?= 2·S
S ?25428
pode ser implementado com
T ? S?=- Rf
Ri
·
S
S ? 1
C·Ri
onde
1
C·R
i
=25428
.
Se C=1000 pF , Ri=39326 ?
Rf =2·Ri=78562 O
21.11.3 Exemplo 2
Utilizando um fltro variáveis de estado, projete um equalizador de ganho que possua as
características da fgura e tabela abaixo.
vc |T(S)|
+4V +12 dB
+1V 0 dB
+0,25 -12 dB
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 246Este equalizador deve ter sua curva de ganho ajustável por tensão externa (vC). O desvio
máximo dos parâmetros é de 5%. Use valores comerciais para os componentes.
T ? S?=K 0·
S2?K ?0
Q
S ??
20
S2? ?0
Q
S??
20
Como o patamar é 0 dB, o ganho K0=1.
Nos extremos: K1=4 (12 dB), K2=0,25 (-12 dB).
Projeto do fltro
Fazendo
K
3=K 4=1, R3= R4 , C=C1=C2, K PB=- K PF=K PA=1
então
?
0=
1C
·
1
? R1·R2
Q=?R R1 2 =2
R
1
R
2
=4
R
1=4·R2
R
2=0,25·R1
Substituindo em ?0
?
0=
1
C·R
1
·
1
?0,25
C·R
1=3,1831·10-4
C=6,8nF , R1=47k ? ?C·R1=3,196·10- 4? .
Assim
R
2=
R
1
4
=11 ,75 k ?
Comercialmente R2=12 kO
Conferindo os desvios
f 0=985,5 Hz ?-1,4%?, Q=1,979?-1%? , K 0=1?0%?
Para obter o fltro controlado por vC é preciso somar
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 247T ? S?=v PA?vC·vPF?vPB
Assim vc=Ki, ou seja, vc =4 V para K1=4, vc =1 V para K0=1, vc=0,25 V para K2=0,25.
21.11.4 Confgurações de um único amplifcador operacional
Filtros com um único AO normalmente não estão disponíveis em integrados mas podem
ser facilmente implementados de forma discreta. As duas confgurações de fltros mais utilizadas
são a MFB e a Sallen Key. A topologia dos dois fltros é mostrada na fgura a seguir.
Note que no desenho das topologias MFB e Sallen-Key estão representadas as impedâncias
de cada confguração. O fltro Sallen Key pode apresentar ganho se o bu?er for trocado por um
amplifcador não inversor. A medida que as impedâncias são trocadas por resistências ou
capacitores a função do fltro muda (próxima tabela).
Para fazer o projeto destes fltros use um programa de computador como o FilterPRO ou o
Webench Filter Design, da Texas Instruments, o Filter Wizard da Analog Devices, o FilterLAB da
Microchip, o Mr. Filter ou o Op Amp Filter Design permitem o projeto de fltros com AO.
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 248Sallen Key MFB
PB PA PF PB PA PF
Z1 R C R R C R
Z2 R C C C R -
Z3 C R R R C C
Z4 C R R R C C
Z5 - - C C R R
21.11.5 Passa baixas Sallen-Key
Circuito:
Função de transferência:
Vo?s?
Vi?s?=
m
R1·C4·C3·R2
s2+s·[R11 ·C4?R21 ·C4- R2 m- ·C3 1 ]? R1·R2·1C3·C4
Função de transferência geral do fltro passa baixas de segunda ordem:
Vo?s?
Vi?s? =
K·?
20
s
2
+s·
?
0
Q
+?
20
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 249Comparando as duas equações podemos verifcar como cada componente afeta os valores
de K, Q e T0. Uma solução para ajustar os componentes é:
C3 = C4 = C, e R1 = R2 = Rx
Rx= 1
?
0·C
Q ³ 0,5
m=3- 1
Q
m=|K|
Uma das soluções de mínima sensibilidade para a maioria dos componentes é:
m=K=1
R1=R2=1
C4=2Q
?
0
C3= 1
2?
0Q
Para esta solução, entretanto, a diferença entre os capacitores é proporcional a Q2:
Outra solução muito conhecida e com um bom comprometimento entre sensibilidade e
facilidade no ajuste dos componentes é a solução de Saraga:
C3=1
C4=?3Q
R2= 1
?3 ?0
R1= 1
Q?0
m=K=4
3
OBS.: Para qualquer uma das soluções podem ser realizados escalamentos de impedância.
Para isto basta multiplicar os resistores e dividir os capacitores simultaneamente por um fator “b”.
21.11.6 Passa baixas MFB
Circuito:
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 250Função de transferência:
Vo?s?
Vi?s?=-
1
R1·R3·C2·C5
s2+s·[R11 ·C2? R31 ·C2? R41 ·C2]?R3·R41 ·C2·C5
Função de transferência geral do fltro passa baixas de segunda ordem:
Vo?s?
Vi?s? =
K·?
20
s
2
+s·
?
0
Q
+?
20
Comparando as duas equações podemos verifcar como cada componente afeta os valores
de K, Q e ?0. Uma solução para ajustar os componentes é:
Fazer
C2 = C
C5 = X·C2
R
4=
1
2·Q·?0·C
·[1±?1- 4·Q2·?X|K|?1?]
R
1=
R
4
|K|
R3= 1
?
20
·R4·C2·C5
Bom para KQ>100 e ganho de malha aberta dos amp. op. > 80 dB
21.11.7 Passa altas Sallen-Key
Circuito:
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 251Função de transferência:
Vo?s?
Vi?s?=
s
2
·m
s2+s·[R31 ·C2?R31 ·C1- R4 m- ·C1 1 ]? R4·R3·1C1·C2
Função de transferência geral do fltro passa altas de segunda ordem:
Vo?s?
Vi?s? =
K·s2
s2+s·?0
Q
+?
20
Comparando as duas equações podemos verifcar como cada componente afeta os valores
de K, Q e T0. Uma solução para ajustar os componentes é:
Fazer C1 = C2 = C, e R3 = R4 = Rx
Rx= 1
?
0·C
m=3- 1
Q , para Q ³ 0,5
m=|K|
As soluções alternativas, propostas para o fltro passa baixas Sallen-Key, podem ser
utilizadas e o fltro pode ser desnormalizado diretamente nos componentes.
Substituir Resistores por Capacitores de valor 1/R ?0
Substituir Capacitores por Resistores de valor 1/C?0
21.11.8 Passa altas MFB
Circuito:
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 252Função de transferência:
Vo?s?
Vi?s? =-
s
2
·
C1
C4
s
2
+s·[C41 ·R5?C31 ·R5?C3·C4 C1·R5]?C3·C41 ·R2·R5
Função de transferência geral do fltro passa altas de segunda ordem:
Vo?s?
Vi?s? =
K·s2
s2+s·?0
Q
+?
20
Comparando as duas equações podemos verifcar como cada componente afeta os valores
de K, Q e T0. Uma solução para ajustar os componentes é:
Fazer C1 = C3 = C
C
4=
C
1
|K|
R
5=
Q
?
0·C
·?2·|K|?1?
R
2=
1
?
0·Q·C·?2·|K|?1?
Bom para KQ>100 e ganho de malha aberta dos amp. op. > 80 dB
21.11.9 Passa Faixa Sallen-Key
Circuito:
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 253Função de transferência:
Vo?s?
Vi?s? =
s·
m
R1·C5
s2+s·[R11 ·C5?R31 ·C2?R31 ·C5- R4 m- ·C5 1 ]?R1·R3 R1+R4 ·R4·C2·C5
Função de transferência geral do fltro passa faixa de segunda ordem:
Vo?s?
Vi?s? =
K·s·
?
0
Q
s2+s·?0
Q
+?
20
Comparando as duas equações podemos verifcar como cada componente afeta os valores
de K, Q e T0. Uma solução para ajustar os componentes é:
Fazer C2 = C5 = C
R1 = R3 = R4 = Rx
Rx= ?2
?
0·C
m= 4- ?2
Q
Q= ?2
3
K= m
R1·C5
=?
0·?2·?2- Q1?
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 25421.11.10 Passa faixas MFB
Circuito:
Função de transferência:
Vo?s?
Vi?s? =-
s·
1
R1·C4
s2+s·[C41 ·R5?C31 ·R5]?C3·C41 ·R1·R5
Função de transferência geral do fltro passa faixa de segunda ordem:
Vo?s?
Vi?s? =
K·s·
?
0
Q
s2+s·?0
Q
+?
20
Comparando as duas equações podemos verifcar como cada componente afeta os valores
de K, Q e T0. Uma solução para ajustar os componentes é:
Fazer C3 = C4 = C
R1= Q
|K|·?0·C
R5= 2·Q
?
0·C
K=-2·Q·?0
21.11.11 Rejeita faixa (ou Notch)
O fltro rejeita faixa também é chamado de notch pois muitas vezes é utilizado para
eliminar uma determinada frequência ou uma faixa de frequências muito estreita. Isto é muito
utilizado para reduzir a interferência de sinais de 60 Hz em instrumentos de precisão.
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 25521.11.12 Rejeita faixa Sallen-Key (modifcado – com rede duplo T)
Circuito:
A escolha dos componentes pode ser feita da seguinte maneira:
C1=C2=C, R1=R2=R
C4=2C, R5=R/2
?
0=
1
R·C
Q= 1
4-2·m , Q>=0,25
K=m , m<2
21.11.13 Rejeita faixa MFB (modifcado)
Circuito:
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 256Observe que o circuito rejeita faixa MFB funciona como se fosse “1 - PF” MFB. O projeto
pode ser feito com as seguintes relações:
C3=C4
, Rb=R5 , Ra=2 R1 ?
K= R5
R5?2·R1
?
0=
1
C·?R1·R5
Q=1
2?R5 R1
21.11.14 Exemplo 1
Projetar um fltro PA do tipo MFB com as seguintes características: fo=1,5kHz, Q=0,7,
K=20 dB. As características do fltro não podem sofrer desvio maior que 5%. Usar valores
comerciais para os componentes. Garantir que o fltro funcione até uma frequência de 100kHz.
Calcular o produto ganho-faixa do AO necessário para que esta especifcação seja atendida.
Justifcar o procedimento de cálculo.
Usar: C3=C4=C , C1= A·C , R2=R , R5=B·R , K =- A , Q= ? B
2?A e ?0=
1
R·C·vB
Solução:
K =- A=-10
Q= ? B
2?A
Q=0,7= ?B
2? A
B=70,56
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 257com valores de resistores com precisão de 10% uma boa escolha para os resistores é
R=R
2=4,7k O ,R5=331,632k O˜330k O .
A frequência de corte é
?
0=2·p·f 0= 1
R·C·vB
C= 1
2·?·f 0·R·? B =2,694 nF
Comercialmente C=2,7nF ,C 3=C4=2,7nF ,C 1=27nF
Variação nos parâmetros do fltro pode ser avaliada na equação original dos parâmetros
(veja tabela de parâmetros para os fltros MFB):
f 0=1,497kHz ,? f 0=-2,2%
Q=0,6983 , ? Q=-2,5%
K
0=-10,? K =0%
A determinação do produto ganho faixa pode ser realizada se for encontrado o ganho da
malha de realimentação (ver revisão de amplifcadores operacionais). O limite de funcionamento
deste fltro ocorre quando o ganho diferencial do AO se torna igual ao ganho de rede de
realimentação (nas altas frequências teremos um divisor de tensão entre C4 e C1 – veja fgura
abaixo).
O ganho da rede é
|vv0 –??S S ? ?|=|A? S ?|
GBW =A(S)·S
Para o PA MFB a rede de realimentação é
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 258v
0? S ?
v
–
?S ? =?1? C C1 4?·S2? C3·?C11?C4?·[?C1?CR54?C3?? CR3 2]·S? C3·?C1?1 C4?·R5·R2
S 2? 1
R
5[CC2·C1 4? C13? C14]·S ?C 4·C13 R5 R2
para frequências muito maiores que f0
v
0?S?
v
– ?S?˜?1? C C1 4?
Este resultado também poderia ser obtido considerando que em altas frequências apenas os
capacitores são importantes. Nesta situação os resistores poderiam ser retirados do circuito e o
ganho do fltro seria
v
0
v
–
˜
1
C
1·S
?
1
C
4·S
1
C
1·S
=1?
C
1
C
4
assim
?1? C C 1 4?= 2·2?·· ?GBW · f 0
GBW= f máx·(1+ C C1 4)=1,1MHz
A fgura abaixo mostra uma simulação.
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 25921.11.15 Exemplo 2
Para o circuito da fgura abaixo mostre como: 1) Reduzir a metade o ganho da
confguração; 2) Dobrar o ganho da confguração. Utilize apenas componentes passivos. Não altere
os parâmetros w0 e Q. Mostre as equações que você utilizaria para estas alterações.
Para diminuir o ganho da confguração é possivel substituir o capacitor C1 por um divisor
de tensão (um C1' na mesma posição que C1 e um C1'' em paralelo com R2). A capacitância
equivalente deve ser igual a C1.
Para aumentar o ganho é possível ligar a saída do amplifcador operacional em um divisor
resistivo. Do centro deste divisor resistivo faz-se a conexão para C4 e R5. A saída do operacional
torna-se a saída do fltro. Se os resistores dividem a tensão por dois, então a tensão na saída do
operacional será duas vezes maior para manter a realimentação no mesmo nível.
21.11.16 Exemplo 3
Com o circuito passa baixas abaixo, implemente a função de transferência
T ? s?= 7439,494
?s2?5693,96s?7439,492??s2?13745,95 s?7439,492?
Use componentes com valores práticos (não precisam apresentar valores comerciais)
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 260,
C3=1,
C4=?3·Q ,
R2=1
?3?0 ,
R1=1
Q ?0 ,
m=K=4
3
A forma geral da função de transferência de um passa baixas de segunda ordem é:
T ? s?= ?0 2
s
2
?
?
0
Q
s??
20
Então a função de transferência pode ser decomposta em:
T ? s?= 7439,492
s
2
?5693,96 s?7439,492·
7439,492
s
2
?13745,95 s?7439,492
Podemos implementar este fltro com dois circuitos passa baixas de segunda ordem ligados
em cascata.
Na primeira seção
K=1, w0=7439,49 e Q=1,30615
Então, aplicando as fórmulas para os cálculos dos componentes temos
C3=1, C4=2,263, R2=7,76?10-5, R1=1,02818?10-4, m=K=1,33313
Para obter componentes com valores práticos podemos desnormalizar este Sallen Key
dividindo todos os capacitores por um fator ? e multiplicando todos os resistores pelo mesmo
fator. Os resistores da realimentação (“R” e “R(m-1)”) não precisam ser escalonados pois não
in?uenciam em w0 nem em Q. Devemos respeitar, apenas, a relação entre eles, que determina o
ganho da confguração.
Fazendo ?=108
C3=10nF, C4=22nF, R2=7,7k?, R1=10,2k?, K=1,333133, R=10k?, R(m-1)=3,3k?
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 261Para obter um ganho unitário podemos usar um divisor resistivo no lugar de R1.
R11//R12 = R1
R12/(R11+R12) = m-1
Então
R11= m?R1 = 13,6k?
R12=(R1?R11) / (R11-R1)=40,8k?
Na segunda parcela temos
K=1, w0=7439,49 e Q=0,541
Então, aplicando as fórmulas para os cálculos dos componentes temos
C3=1, C4=0,937, R2=7,76?10-5, R1=2,48416?10-4, m=K=1,3331333
Fazendo ?=108
C3=10nF, C4=9nF, R2=7,7k?, R1=24k?, R=10k?, R(m-1)=3,3k?
Para obter ganho unitário, podemos usar um novo divisor resistivo.
Então, R11= m@R1 = 32k?
R12=(R1?R11) / (R11-R1)=96k?
21.11.17 Exemplo 4
Projetar um fltro rejeita faixa de 2? ordem com Q=5 e f0=120Hz. É aceitável um erro
máximo de 10%. Utilizar apenas um fltro PF ativo e algum outro circuito ativo que não seja fltro
mas que empregue apenas 1 AO.
Um fltro RF subtrai do sinal de entrada, uma determinada faixa de frequências. Assim,
podemos implementá-lo subtraindo o resultado de um PF, do sinal de entrada.
T ? S ?= K1- K 2· S
S2?a·S ?b =K 1·
S2??1- K K 2 1?a·S?b
S 2?a·S?b
Se fzermos K2=K1
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 262T ? S ?= K1· S 2?b
S 2?a·S ?b
que é a função de transferência de um RF.
Com fltro Sallen-Key, cujo ganho é positivo, o sinal original deve ser subtraído do sinal na
saída do fltro. Com fltro MFB, cujo ganho é negativo, o sinal original deve ser somado ao sinal na
saída do fltro.
Instrumentação e Técnicas de Medida – UFRJ, 2015/2 263Instrumentação e Técnicas de Medida – UFRJ, 2015/2 264